[
    {
        "content": "<p>It's probably important to draw a distinction between (A) having several different definitions that are provably equivalent, and (B) having several different definitions that are (provably) <em>not</em> equivalent.</p>\n<p>Case (A) certainly makes sense in many mathematical contexts. Case (B) is potentially worrisome since it could lead to subtle errors. Thomas Lam has conducted an <a href=\"https://cims.nyu.edu/~tjl8195/survey/results.html\">entertaining survey of mathematical conventions</a>. To pick just one example (<a href=\"https://cims.nyu.edu/~tjl8195/survey/results.html#q33\">number 33</a>), how should one normalize the Fourier transform? There is certainly something appealing about making a particular choice and having everyone stick to it.</p>\n<p>On the other hand, I can also imagine that using mathlib as the ultimate arbiter could have unforeseen and undesirable consequences, e.g., if some weird idiosyncrasy of Lean forces itself upon us in an awkward manner. In actual mathematical practice, mathematical definitions live in some kind of \"foundation-independent\" conceptual space, and insisting too pedantically that a mathematical concept <em>is</em> its definition in some particular foundational system can sometimes have annoying logical consequences.</p>\n<p>In John Conway's book, <em>On Numbers and Games</em>, he briefly articulated a manifesto that he called a \"Mathematicians' Liberation Movement\" (quoted <a href=\"https://cameroncounts.wordpress.com/2013/10/02/definitions-2/\">here</a> for example). The manifesto was necessarily somewhat vague, because it was in essence a call to avoid tying oneself too tightly to any particular axiomatic framework.</p>\n<p>Again, none of this should be construed as denying that in many cases, it would be useful for there to be a universal definition that everyone agrees to. I'm just cautioning against pushing such an ideology too far.</p>",
        "id": 564349535,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766008697
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"478409\">Timothy Chow</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564349535\">said</a>:</p>\n<blockquote>\n<p>Case (B) is potentially worrisome since it could lead to subtle errors.</p>\n</blockquote>\n<p>Three terms I'm aware of with lots and lots of different inequivalent, but spiritually connected, meanings: graphs, trees, polygons.</p>\n<p>The situation with graphs is the least bad because at least people usually have adjectives they can apply to distinguish what they mean when they want to. \"Simple graph\", \"Finite graph\", \"Locally finite graph\", etc. The situation with 'tree' and 'polygon' is much worse.</p>",
        "id": 564353632,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1766010729
    },
    {
        "content": "<p>I'm guessing this topic has been discussed at length before the advent of LLMs, and it's not clear to me how 'AI' meaningfully changes the discussion. My understanding is that, at least in theory, these concerns are directly addressable through careful curation of Mathlib, along with the power of dependent type theory + metaprogramming and higher order logic. </p>\n<p>To ask a precise question: Is there anything mathematicians do with natural language definitions/proofs that fundamentally cannot be expressed in lean given sufficient effort? I believe the answer is no, but there might be some weird edge cases I am unaware of.</p>",
        "id": 564358918,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1766013973
    },
    {
        "content": "<p>I don't think I've ever done anything in any of my papers which can't be expressed in Lean given sufficient effort, if that's any help. That's why I'm such a believer in the software.</p>",
        "id": 564360234,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766015118
    },
    {
        "content": "<p>That's why I'm here too. I want to be able to say <em>anything</em> I want to and be confident of correctness.</p>",
        "id": 564360432,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1766015302
    },
    {
        "content": "<p>I think there's a subtle distinction that needs to be made. One can ask, \"Can every mathematical conjecture/theorem/proof be formalized?\" The standard answer to this question is yes. However, a subtly different question is, \"Do formalizations of mathematical discourse <em>fully capture everything mathematicians mean</em> by that discourse?\" The answer to this latter question is much less clear.</p>\n<p>Take some mathematical object such as a group. The concept of a group can be formalized in Lean. But that's not the only option. You can formalize the concept of a group in set theory, or in simple type theory, and each of these options comes in many different flavors. So when mathematicians use the word \"group\" in natural language, what exactly does it mean? One intuitively wants to say that all the formalizations are equally valid, but if we're being pedantic about it, a formalization of \"group\" in some dependent type theory is not <em>identical</em> to its formalization in, say, ZFC. So it seems that to properly capture the natural-language meaning of the word \"group,\" we have to say that it's something that transcends any particular formalization. We want to say that the different formalizations are \"equivalent\" in some sense, but precisely in what sense? It seems we have to introduce some metatheory in which we prove the equivalence, but which metatheory do we choose? Again, we have multiple options. Is it turtles all the way down?</p>\n<p>So again, when you ask if something can be \"expressed in Lean,\" it depends on exactly what you mean by \"expressed.\" \"Expressing\" means drawing some kind of correspondence between formal language and informal language, and so there's no way that we can formally settle whether some formalism \"correctly expresses\" the informal concept it's supposed to be expressing. This point is related to Kevin Buzzard's point that writing down formal definitions is not something that can be completely automated (until the day that humans stop doing mathematics altogether).</p>\n<p>In the normal course of affairs, these nuances aren't that big a deal, because there's usually no substantive controversy about whether some particular formalization of a concept correctly captures what was intended. But for a real-world example, Sergei Artemov <a href=\"https://arxiv.org/pdf/2403.12272v1\">has argued</a> that the standard ways of formalizing the notions of \"provability\" and \"consistency\" do not correctly capture what Hilbert had in mind. In particular, Artemov produces a PA-proof of the consistency of PA, which you might have thought Goedel's 2nd incompleteness theorem long ago ruled out. But it all hinges on the question of whether the standard formalization of the concept of \"consistency\" correctly expresses the intended concept.</p>",
        "id": 564370851,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766024175
    },
    {
        "content": "<p>Whyever would I care about capturing different nuances of the underlying wiring behind groups in various foundational systems? Sylow's theorems don't care about this wiring. You may as well say that a formalisation doesn't capture the fact that group takes 5 letters to spell in English and six in French.</p>",
        "id": 564396745,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766043794
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"478409\">Timothy Chow</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564370851\">said</a>:</p>\n<blockquote>\n<p>I think there's a subtle distinction that needs to be made. One can ask, \"Can every mathematical conjecture/theorem/proof be formalized?\" The standard answer to this question is yes. However, a subtly different question is, \"Do formalizations of mathematical discourse <em>fully capture everything mathematicians mean</em> by that discourse?\" The answer to this latter question is much less clear.</p>\n<p>Take some mathematical object such as a group. The concept of a group can be formalized in Lean. But that's not the only option. You can formalize the concept of a group in set theory, or in simple type theory, and each of these options comes in many different flavors. So when mathematicians use the word \"group\" in natural language, what exactly does it mean? One intuitively wants to say that all the formalizations are equally valid, but if we're being pedantic about it, a formalization of \"group\" in some dependent type theory is not <em>identical</em> to its formalization in, say, ZFC. So it seems that to properly capture the natural-language meaning of the word \"group,\" we have to say that it's something that transcends any particular formalization. We want to say that the different formalizations are \"equivalent\" in some sense, but precisely in what sense? It seems we have to introduce some metatheory in which we prove the equivalence, but which metatheory do we choose? Again, we have multiple options. Is it turtles all the way down?</p>\n<p>So again, when you ask if something can be \"expressed in Lean,\" it depends on exactly what you mean by \"expressed.\" \"Expressing\" means drawing some kind of correspondence between formal language and informal language, and so there's no way that we can formally settle whether some formalism \"correctly expresses\" the informal concept it's supposed to be expressing. This point is related to Kevin Buzzard's point that writing down formal definitions is not something that can be completely automated (until the day that humans stop doing mathematics altogether).</p>\n<p>In the normal course of affairs, these nuances aren't that big a deal, because there's usually no substantive controversy about whether some particular formalization of a concept correctly captures what was intended. But for a real-world example, Sergei Artemov <a href=\"https://arxiv.org/pdf/2403.12272v1\">has argued</a> that the standard ways of formalizing the notions of \"provability\" and \"consistency\" do not correctly capture what Hilbert had in mind. In particular, Artemov produces a PA-proof of the consistency of PA, which you might have thought Goedel's 2nd incompleteness theorem long ago ruled out. But it all hinges on the question of whether the standard formalization of the concept of \"consistency\" correctly expresses the intended concept.</p>\n</blockquote>\n<p>This reminds me a lot of this <a href=\"https://philsci-archive.pitt.edu/24324/1/Epistemic_Value_of_Proof.pdf\">https://philsci-archive.pitt.edu/24324/1/Epistemic_Value_of_Proof.pdf</a> critique of the 'Standard View' .</p>",
        "id": 564397762,
        "sender_full_name": "Yan Yablonovskiy ðŸ‡ºðŸ‡¦",
        "timestamp": 1766044302
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564360234\">said</a>:</p>\n<blockquote>\n<p>I don't think I've ever done anything in any of my papers which can't be expressed in Lean given sufficient effort, if that's any help. That's why I'm such a believer in the software.</p>\n</blockquote>\n<p>Really? You never said that we ought to be able to do something? Hope to do something? Asserted that a technique enables dealing with many similar problems without actually specifying how it should be adapted to each of them. I think many things happen in papers that can't (maybe \"should not\"?) be formalized.</p>",
        "id": 564402365,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1766046073
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564396745\">said</a>:</p>\n<blockquote>\n<p>Whyever would I care about capturing different nuances of the underlying wiring behind groups in various foundational systems? Sylow's theorems don't care about this wiring. You may as well say that a formalisation doesn't capture the fact that group takes 5 letters to spell in English and six in French.</p>\n</blockquote>\n<p>I think you're actually agreeing with me, perhaps without realizing it. A formalization in Lean forces you to care about the wiring, and therefore fails to perfectly reflect the formalization-independent concept that mathematicians actually have in mind.</p>",
        "id": 564437825,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766057976
    },
    {
        "content": "<p>When we say that every mathematically precise statement S can be formalized, what we're really saying is something like, there exists a formal counterpart S' of S in some formal system F with the property that, given any correct mathematical proof (or disproof) of S, we can mimic it in F to yield a formal proof (or disproof) of S'. (I've elaborated on this point before <a href=\"https://mathoverflow.net/a/24919\">on MathOverflow</a>.) That's good enough for what we typically want out of a formalization, but it falls short of saying that the formalization perfectly expresses the informal version of the statement.</p>\n<p>If you want another example of an aspect of mathematical practice that cannot be quite captured by a formal system, how about inexhaustibility, in the sense of <a href=\"https://doi.org/10.1017/9781316755969\">Torkel Franzen's book</a>? To quote Goedel, \"It is impossible that someone should set up a certain well-defined system of axioms and rules and consistently make the following assertion about it: All of these axioms and rules I perceive (with mathematical certitude) to be correct , and moreover I believe that they contain all of mathematics. If somebody makes such a statement he contradicts himself. For if he perceives the axioms under consideration to be correct, he also perceives (with the same certainty) that they are consistent. Hence he has a mathematical insight not derivable from his axioms.\"</p>",
        "id": 564441661,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766059246
    },
    {
        "content": "<p>Or for a different type of example, how about what <a href=\"https://mathoverflow.net/q/38639\">Thurston asked on MathOverflow</a>, about the distinction between how we think about mathematics and what we say out loud? If even natural language is insufficient to express everything about mathematics, then formal language is certainly going to be insufficient.</p>",
        "id": 564445549,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766060431
    },
    {
        "content": "<p>Oh I see, you're saying the formalization has <em>more</em> than the informal proof? Then yes I agree with you!</p>\n<p>And I also agree with Kim -- I'm sure I've made plenty of vague but possibly helpful comments in papers which go alongside the proofs of the theorems.</p>",
        "id": 564510345,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1766076503
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/563916968\">said</a>:</p>\n<blockquote>\n<p>I think it certainly makes sense that mathlib should end up as a \"canonical\" source for every mathematical definition being used today.</p>\n</blockquote>\n<p>This is a ridiculous idea.</p>",
        "id": 564622814,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766123592
    },
    {
        "content": "<p>One might draw parallels between mathlib and Bourbaki</p>",
        "id": 564624589,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1766124729
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"904624\">@James E Hanson</span> Please refrain from making remarks such as the one above.</p>\n<p>Your only contribution to this otherwise very interesting thread has been an unqualified dismissal of one person's remark in language which could reasonably be considered insulting.</p>\n<p>We do have a <a href=\"https://mathlib.readthedocs.io/en/stable/CODE_OF_CONDUCT/\">code of conduct</a>, we expect everyone to obey it, and we enact suspensions on accounts of people who do not.</p>",
        "id": 564636341,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1766130585
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span> May I respectfully elaborate on why I made that comment?</p>",
        "id": 564639819,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766132106
    },
    {
        "content": "<p>Absolutely! I'm sure you have many great points to make and I'd love to hear them. We just want to keep things cordial and respectful!</p>",
        "id": 564639992,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1766132172
    },
    {
        "content": "<p>(Just to clarify. Ideas can indeed be ridiculous, and it's good and fine to explain this when it happens. The problem is just that \"This is a ridiculous idea\", while literally being just about the idea, is easy for a reader to interpret as \"The author of this idea is ridiculous\", which we should go out of our way to avoid. Adding the elaboration that makes the distinction is worthwhile. I'm actually keen to argue that this idea is not ridiculous, but on the other hand I don't want to go near something that could be, or could be seen to be, involving personal animosity.)</p>",
        "id": 564640774,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1766132499
    },
    {
        "content": "<p>This continued discussion has reminded me that I wanted to highlight to Johannes that the idea he describes here:<br>\n<span class=\"user-mention silent\" data-user-id=\"740690\">Johannes Schmitt</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564249552\">said</a>:</p>\n<blockquote>\n<p>it might be useful that some mathematical notions do not just have one, canonical definition, but a very tightly connected cluster of definitions</p>\n</blockquote>\n<p>is indeed something we do. Like to take a random example of something which can be defined many ways, I might take a perfect field. And you'll see that we have both <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PerfectField#doc\">docs#PerfectField</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PerfectRing#doc\">docs#PerfectRing</a> (as well as the glue between them) etc.</p>",
        "id": 564641495,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1766132833
    },
    {
        "content": "<p>I think that it's a ridiculous idea in two ways.</p>\n<p>The first is that I don't think there really can be a singe \"canonical\" source of <em>every</em> mathematical definition being used today. There is far, far too much mathematics being written for such a comprehensive overview. The other issue is just that, even in mathematics, definitions are fairly fluid. Concepts in math can go decades without settling into a precise form that is used uniformly throughout the literature.</p>\n<p>The second is that the restrictions of computer formalization and the limitations of Lean mean that Mathlib often has to define things in ways that are not consistent with the way they're normally conceptualized in math. Sometimes this manifests as little edge cases in definitions, like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>0</mn><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">1/0 = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>, but sometimes it leads to the invention of entire new concepts (like that of a 'group with zero') that have never been necessary in ordinary mathematics. And there's just generally a lot of awkward bookkeeping that really shouldn't be necessary, like maintaining a formal distinction between groups and additive groups or the inability to conveniently talk about multiple distinct topologies on the same set.</p>",
        "id": 564642099,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766133057
    },
    {
        "content": "<p>I don't want to nitpick because I agree with much of the sense of what you're saying (albeit I think I draw different conclusions) but I would like to supply evidence against the claim that:<br>\n<span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564642099\">said</a>:</p>\n<blockquote>\n<p>the inability to conveniently talk about multiple distinct topologies on the same set.</p>\n</blockquote>\n<p>Here is an example of this working perfectly well in the proof that a Borel-measurable set in a Polish space is analytic: <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasurableSet.analyticSet#doc\">docs#MeasurableSet.analyticSet</a> (You'll need to look at the proof <a href=\"https://github.com/leanprover-community/mathlib4/blob/73dba97f7a0d5253d0c0518003b7aa4bc1bc6a58/Mathlib/MeasureTheory/Constructions/Polish/Basic.lean#L308-L319\">here</a> to witness this.)</p>",
        "id": 564642996,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1766133393
    },
    {
        "content": "<p><a href=\"#narrow/channel/116395-maths/topic/Continuous.20Logic/near/548312248\">I have been told on multiple occasions that definitions involving multiple topologies that I regularly use in my field would need to be changed in order to work as smoothly as possible in Lean.</a></p>",
        "id": 564643391,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766133542
    },
    {
        "content": "<p>I feel like the mere fact that Mathlib needs to maintain two different notions of 'dual Banach space' proves my point. Functional analysts do not conceptualize the dual of a Banach space as two different objects. They conceptualize it as a single object with two (or more) topologies.</p>",
        "id": 564644557,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766133916
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"240862\">Oliver Nash</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564641495\">said</a>:</p>\n<blockquote>\n<p>This continued discussion has reminded me that I wanted to highlight to Johannes that the idea he describes here:<br>\n<span class=\"user-mention silent\" data-user-id=\"740690\">Johannes Schmitt</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564249552\">said</a>:</p>\n<blockquote>\n<p>it might be useful that some mathematical notions do not just have one, canonical definition, but a very tightly connected cluster of definitions</p>\n</blockquote>\n<p>is indeed something we do. Like to take a random example of something which can be defined many ways, I might take a perfect field. And you'll see that we have both <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PerfectField#doc\">docs#PerfectField</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=PerfectRing#doc\">docs#PerfectRing</a> (as well as the glue between them) etc.</p>\n</blockquote>\n<p>Thanks so much for pointing this out! One thing I had in mind when I made that description: I seem to remember hearing an anecdote describing a case where for some established definition in Mathlib it became clear a posteriori that it had some quirks that made it hard to work with in practice. So the definition was changed to a more workable one, but then many things broke simultaneously and had to be manually fixed (each fix being simple, but the number non-trivial). I was just wondering why one would then not introduce the new definition as a separate entity (maybe swapping names with the old one with a pure Search-Replace on the codebase), put in the glue between them and just decide to use the new one henceforth.</p>\n<p>I can see that this is not aesthetically pleasing, and depending on the extent of existing usage and the quality of the glue it might not save work in the end. But If that usage is very extensive, I was wondering if there is an in-principle objection to such approaches.</p>\n<p>Also curious whether this might help with <span class=\"user-mention\" data-user-id=\"904624\">@James E Hanson</span> 's issue: having both the math-community definition and the Lean-workable definition, and writing tight glue between them so that users can work with the math-y definition, but the glue guides Lean to the structurally more amenable one while routing its proofs.</p>\n<p>[Sorry if I am taking in very vague terms - very interested in this topic and learning more, but still very inexperienced in the technical background and practicalities!]</p>",
        "id": 564644627,
        "sender_full_name": "Johannes Schmitt",
        "timestamp": 1766133936
    },
    {
        "content": "<p>In any case, this is why I did (and still do) find Kevin's phrasing 'ridiculous'. Mathlib cannot be the canonical reference for definitions in mathematics if it already defines basic mathematical concepts in a meaningfully heterodox way for technical reasons.</p>",
        "id": 564645106,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766134057
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"740690\">@Johannes Schmitt</span> What you outline is certainly also a possible approach. And possibly one that we'll have to resort to more often in the future, as the library grows further.<br>\nBut in the beginning I think it has served us well to push through these refactors immediately. Because it helps keep the library coherent, instead of fracturing.</p>",
        "id": 564646108,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1766134310
    },
    {
        "content": "<p>I bet there is even example of what Johannes how outlined in Mathlib today, though I can't immediately think of one.</p>\n<p>I'd also add that multiple equivalent definitions scales badly. Suppose I have a lemma which takes 5 assumptions and each assumption has 2 spellings. My lemma represents just one of the 32 equivalent variants. Some downstream user might have only a 3% chance of the spelling they need existing, and it will just be a pain if every time they want to invoke a lemma they first have to invoke a handful of equivalence lemmas.</p>\n<p>I could imagine a future in which we formalise in some higher level language which takes care of all this and we no longer care about which definition is being used, but we're not there yet.</p>",
        "id": 564647297,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1766134709
    },
    {
        "content": "<blockquote>\n<p>I'd also add that multiple equivalent definitions scales badly. Suppose I have a lemma which takes 5 assumptions and each assumption has 2 spellings. My lemma represents just one of the 32 equivalent variants. Some downstream user might have only a 3% chance of the spelling they need existing, and it will just be a pain if every time they want to invoke a lemma they first have to invoke a handful of equivalence lemmas.</p>\n</blockquote>\n<p>Thanks! So right now, there is no way that Lean can fix those adapters itself (using the \"glue\") I described? And that could not be put into some tactic (taking a Lemma as an argument, and saying: try to make that fit here)?</p>",
        "id": 564647890,
        "sender_full_name": "Johannes Schmitt",
        "timestamp": 1766134908
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"740690\">Johannes Schmitt</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564647890\">said</a>:</p>\n<blockquote>\n<p>Thanks! So right now, there is no way that Lean can fix those adapters itself (using the \"glue\") I described? And that could not be put into some tactic (taking a Lemma as an argument, and saying: try to make that fit here)?</p>\n</blockquote>\n<p>It's not that it can't be done, but rather that it's not really worth the effort in the end.</p>",
        "id": 564647967,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766134936
    },
    {
        "content": "<p>In any case I guess another reason I find Kevin's comment ridiculous is that I cannot imagine a future in which the majority of mathematicians will accept the quirks of Lean and Mathlib as the absolute canon of what words mean in mathematics. No group theory textbook is <em>ever</em> going to be written with the following two definitions:</p>\n<blockquote>\n<p>A <em>group</em> is a set/type <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span> together with a designated element <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>, a binary operation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>â‹…</mo></mrow><annotation encoding=\"application/x-tex\">\\cdot</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord\">â‹…</span></span></span></span>, and a unary operation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>â†¦</mo><msup><mi>x</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup></mrow><annotation encoding=\"application/x-tex\">x \\mapsto x^{-1}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.522em;vertical-align:-0.011em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†¦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">x</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span></span></span></span> satisfying the following:<br>\n* For all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">a,b,c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>â‹…</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>â‹…</mo><mi>c</mi><mo>=</mo><mi>a</mi><mo>â‹…</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>â‹…</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(a\\cdot b)\\cdot c = a \\cdot (b \\cdot c)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span></span></span></span>.<br>\n* For all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>â‹…</mo><mn>1</mn><mo>=</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a \\cdot 1 = a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mo>â‹…</mo><mi>a</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">1 \\cdot a = a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>.<br>\n* For all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>â‹…</mo><msup><mi>a</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">a \\cdot a^{-1} = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4445em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><msup><mi>a</mi><mrow><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>â‹…</mo><mi>a</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=\"application/x-tex\">a^{-1} \\cdot a = 1</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8141em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8141em;\"><span style=\"top:-3.063em;margin-right:0.05em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">âˆ’</span><span class=\"mord mtight\">1</span></span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">â‹…</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">1</span></span></span></span>.</p>\n</blockquote>\n<blockquote>\n<p>An <em>additive group</em> is a set/type <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span> together with a designated element <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>, a binary operation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>+</mo></mrow><annotation encoding=\"application/x-tex\">+</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">+</span></span></span></span>, and a unary operation <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi><mo>â†¦</mo><mo>âˆ’</mo><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x \\mapsto -x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.522em;vertical-align:-0.011em;\"></span><span class=\"mord mathnormal\">x</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">â†¦</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">âˆ’</span><span class=\"mord mathnormal\">x</span></span></span></span> satisfying the following:<br>\n* For all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo separator=\"true\">,</mo><mi>c</mi></mrow><annotation encoding=\"application/x-tex\">a,b,c</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8889em;vertical-align:-0.1944em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">c</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo>+</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mi>c</mi><mo>=</mo><mi>a</mi><mo>+</mo><mo stretchy=\"false\">(</mo><mi>b</mi><mo>+</mo><mi>c</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(a+ b)+ c = a + (b + c)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">c</span><span class=\"mclose\">)</span></span></span></span>.<br>\n* For all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>+</mo><mn>0</mn><mo>=</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a + 0 = a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>0</mn><mo>+</mo><mi>a</mi><mo>=</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">0 + a = a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.7278em;vertical-align:-0.0833em;\"></span><span class=\"mord\">0</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span>.<br>\n* For all <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> in <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>G</mi></mrow><annotation encoding=\"application/x-tex\">G</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">G</span></span></span></span>, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>+</mo><mo>âˆ’</mo><mi>a</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">a + -a = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">âˆ’</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span> and <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo>âˆ’</mo><mi>a</mi><mo>+</mo><mi>a</mi><mo>=</mo><mn>0</mn></mrow><annotation encoding=\"application/x-tex\">-a + a = 0</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord\">âˆ’</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">0</span></span></span></span>.</p>\n</blockquote>\n<p>This would be patently absurd. It would literally be bad pedagogy, but it's a technical necessity in the inner workings of Mathlib.</p>",
        "id": 564648676,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766135231
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"740690\">Johannes Schmitt</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564647890\">said</a>:</p>\n<blockquote>\n<p>Thanks! So right now, there is no way that Lean can fix those adapters itself (using the \"glue\") I described? And that could not be put into some tactic (taking a Lemma as an argument, and saying: try to make that fit here)?</p>\n</blockquote>\n<p>Not in general. Although there are specific examples of this, that help generate variants of a given lemma.<br>\nFor example the <code>to_fun</code> attribute, and the <code>to_additive</code> and <code>to_dual</code> machinery might also be seen as instances of this. In a different direction there is <code>reassoc</code>, which is also available as term macro, allowing it to take a lemma and \"reassociate\" on the fly (for a precise meaning of reassociate).</p>",
        "id": 564649578,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1766135592
    },
    {
        "content": "<p>I personally find the comparison of mathlib to Bourbaki quite psychologically helpful. I'm sure Bourbaki has its quirks which mathematicians have learnt to live with (or without), yet it wouldn't be unjustified to call it '<em>a</em> \"canonical\"' reference in mathematics. Bourbaki however has the unfortunate shortcoming that one cannot make a pull request to it :P</p>",
        "id": 564650793,
        "sender_full_name": "Bryan Wang",
        "timestamp": 1766136065
    },
    {
        "content": "<p>I don't think Mathlib can even be considered <em>a</em> canonical reference for definitions in mathematics when it technically doesn't consider <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"double-struck\">R</mi><mo separator=\"true\">,</mo><mo>+</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\mathbb{R},+)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathbb\">R</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">+</span><span class=\"mclose\">)</span></span></span></span> to be a group.</p>",
        "id": 564651328,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766136267
    },
    {
        "content": "<p>From a purely user-experience point of view, and thinking more in terms of object-oriented languages like Python/Sagemath, I guess it would be nice if there is a <code>UniqueRepresentation</code> object <code>RR</code> and it has methods <code>RR.group()</code> spitting out a <code>Group</code> and <code>RR.additive_group()</code> giving an <code>AdditiveGroup</code>. And similarly for your example of dual vector space, you would have <code>VVdual = VV.dual()</code> and could then obtain a <code>TopologicalVectorSpace</code> with <code>VVdual.weak_star_topological_vector_space()</code> and similar for other suitable topologies.</p>\n<p>Of course what I write makes no sense in the existing Lean language (I presume), just wondering what types of interactions with formal languages would go easier on the brains of mathematicians.</p>",
        "id": 564652914,
        "sender_full_name": "Johannes Schmitt",
        "timestamp": 1766136791
    },
    {
        "content": "<p>My understanding is that this basically does exist already.</p>",
        "id": 564653035,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766136832
    },
    {
        "content": "<p>Like the <code>to_additive</code> tactic.</p>",
        "id": 564653099,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766136856
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib_docs/tactic/to_additive.html\">Well, I guess maybe <code>to_additive</code> doesn't yet do all of the things one would like it to do.</a></p>",
        "id": 564653272,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766136908
    },
    {
        "content": "<p>But I'm also not really saying anything about these things being a problem from an end-user perspective. I'm saying that they are examples of the distance between Mathlib and conventional mathematical thought.</p>",
        "id": 564654392,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766137302
    },
    {
        "content": "<p>These also just the 'negative' examples, places where objects lack certain properties one would expect them to have (like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"double-struck\">R</mi><mo separator=\"true\">,</mo><mo>+</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\mathbb{R},+)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathbb\">R</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">+</span><span class=\"mclose\">)</span></span></span></span> failing to be a group). There's also plenty of junk in Mathlib if you go looking for it, as in objects having more properties than one would expect them to. 'The third coordinate of the rational number <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">1/2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/2</span></span></span></span> is a bijection' is never going to be a consequence of the canonical definition of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„š</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Surjective</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 564656281,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766137944
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"904624\">@James E Hanson</span> I feel like this is getting into territory like \"Is 3 a topology on 2?\". I don't think it's a fair critique of Lean/Mathlib.</p>",
        "id": 564656833,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1766138135
    },
    {
        "content": "<p>Why not? People bring this up all the time when talking about the benefits of type theory over and above set theory.</p>",
        "id": 564656935,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766138169
    },
    {
        "content": "<p>Again, I don't think these represent real usability issues.</p>",
        "id": 564657007,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766138193
    },
    {
        "content": "<p>Clearly one can reasonably formalize mathematics in Lean.</p>",
        "id": 564657094,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766138220
    },
    {
        "content": "<p>What I'm objecting to is the idea that Mathlib is going to be a 'canonical source for every mathematical definition being used today'.</p>",
        "id": 564657282,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766138284
    },
    {
        "content": "<p>If, as Kevin has said to me before, <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">{</mo><mo stretchy=\"false\">{</mo><mi>x</mi><mo stretchy=\"false\">}</mo><mo separator=\"true\">,</mo><mo stretchy=\"false\">{</mo><mi>x</mi><mo separator=\"true\">,</mo><mi>y</mi><mo stretchy=\"false\">}</mo><mo stretchy=\"false\">}</mo></mrow><annotation encoding=\"application/x-tex\">\\{\\{x\\}, \\{x,y\\}\\}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">{{</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">}</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mopen\">{</span><span class=\"mord mathnormal\">x</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.03588em;\">y</span><span class=\"mclose\">}}</span></span></span></span> can't be considered a 'canonical' definition of ordered pairs in set theory, then I feel like this kind of objection is entirely fair.</p>",
        "id": 564657463,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766138341
    },
    {
        "content": "<p>I know you are objecting to that. And I think you have made good points. I just don't think that last point is a good one.</p>",
        "id": 564657539,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1766138366
    },
    {
        "content": "<p>I just think that Kevin exhibits a pretty blatant and, yes, ridiculous double standard when it comes to these kinds of things. He criticizes set theory for this kind of junk on a regular basis and insists that the definitions that are used in it are not 'canonical' but then entirely glosses over analogous shortcomings in the context of Lean and Mathlib.</p>",
        "id": 564658459,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766138676
    },
    {
        "content": "<p>To be clear though, I'm talking about philosophical and aesthetic shortcomings, not practical ones,</p>",
        "id": 564659019,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766138860
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"904624\">@James E Hanson</span> Please try harder to stick the mathematics and avoid making this a discussion about people. This is your last warning.</p>",
        "id": 564659093,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1766138880
    },
    {
        "content": "<p>I understand.</p>",
        "id": 564659894,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766139138
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564656833\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> I feel like this is getting into territory like \"Is 3 a topology on 2?\". I don't think it's a fair critique of Lean/Mathlib.</p>\n</blockquote>\n<p>I guess on some level I don't actually understand why you think it's that different. Is it because this example involves digging into implementation details, whereas the previous ones really are user-facing?</p>",
        "id": 564660086,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766139200
    },
    {
        "content": "<p>This one is much more hypothetical. The others are about code that is in Mathlib but doesn't match the informal treatment, or vice versa.</p>",
        "id": 564670428,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1766142390
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564656281\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„š</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Surjective</span><span class=\"o\">]</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>The main problem with your example, IMHO, is that you write <code>.3</code> to denote <code>.den_nz</code> afaik. This is actually my big pet peeve. I would personally ban <code>.1</code> and so on, and this problem would disappear.</p>\n<p>I apologize for bringing a hot take into a discussion that already has enough hot takes in it.</p>",
        "id": 564690820,
        "sender_full_name": "Martin DvoÅ™Ã¡k",
        "timestamp": 1766149215
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564656281\">said</a>:</p>\n<blockquote>\n<p>These also just the 'negative' examples, places where objects lack certain properties one would expect them to have (like <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"double-struck\">R</mi><mo separator=\"true\">,</mo><mo>+</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\mathbb{R},+)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathbb\">R</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">+</span><span class=\"mclose\">)</span></span></span></span> failing to be a group). There's also plenty of junk in Mathlib if you go looking for it, as in objects having more properties than one would expect them to. 'The third coordinate of the rational number <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>1</mn><mi mathvariant=\"normal\">/</mi><mn>2</mn></mrow><annotation encoding=\"application/x-tex\">1/2</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1/2</span></span></span></span> is a bijection' is never going to be a consequence of the canonical definition of <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi mathvariant=\"double-struck\">Q</mi></mrow><annotation encoding=\"application/x-tex\">\\mathbb{Q}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.8556em;vertical-align:-0.1667em;\"></span><span class=\"mord mathbb\">Q</span></span></span></span>:</p>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„š</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Surjective</span><span class=\"o\">]</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>I think there's an important difference between \"every mathematical definition has a corresponding 'canonical' definition in mathlib\", and \"everything in mathlib corresponds to a meaninful/non-junk mathematical definition or theorem\"</p>",
        "id": 564721011,
        "sender_full_name": "Aaron Hill",
        "timestamp": 1766157798
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564654392\">said</a>:</p>\n<blockquote>\n<p>But I'm also not really saying anything about these things being a problem from an end-user perspective. I'm saying that they are examples of the distance between Mathlib and conventional mathematical thought.</p>\n</blockquote>\n<p>At the turn of the 20th century, there was a huge distance between conventional mathematical thought and what most mathematicians nowadays would consider as rigorous proof. Maybe something similar is happening now? There are obvious problems with the current conventional mathematical thought that mathlib can help to fix</p>",
        "id": 564728727,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1766159898
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519559\">Dagur Asgeirsson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564728727\">said</a>:</p>\n<blockquote>\n<p>There are obvious problems with the current conventional mathematical thought that mathlib can help to fix</p>\n</blockquote>\n<p>What problems are you referring to specifically?</p>",
        "id": 564749198,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766166424
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564670428\">said</a>:</p>\n<blockquote>\n<p>This one is much more hypothetical. The others are about code that is in Mathlib but doesn't match the informal treatment, or vice versa.</p>\n</blockquote>\n<p>Why is it hypothetical? This is actual code that is Init.Data.Rat.Basic.</p>",
        "id": 564749639,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766166596
    },
    {
        "content": "<p>Do you mean hypothetical in the sense that it only could hypothetically show up on a user-facing level, but clearly hasn't yet?</p>",
        "id": 564749760,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766166650
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin DvoÅ™Ã¡k</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564690820\">said</a>:</p>\n<blockquote>\n<p>The main problem with your example, IMHO, is that you write <code>.3</code> to denote <code>.den_nz</code> afaik. This is actually my big pet peeve. I would personally ban <code>.1</code> and so on, and this problem would disappear.</p>\n</blockquote>\n<p>I think this is a very reasonable opinion, although on some level I would still consider it to be a 'junk theorem' on an ontological level that in Lean there is an empty bijection baked into the literal structure of the object being identified with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>.</p>",
        "id": 564750091,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766166789
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"753178\">Aaron Hill</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564721011\">said</a>:</p>\n<blockquote>\n<p>I think there's an important difference between \"every mathematical definition has a corresponding 'canonical' definition in mathlib\", and \"everything in mathlib corresponds to a meaninful/non-junk mathematical definition or theorem\"</p>\n</blockquote>\n<p>I agree that there's a difference on some level, but I also feel like there's an important similarity. For both 'technically <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"double-struck\">R</mi><mo separator=\"true\">,</mo><mo>+</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\mathbb{R},+)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathbb\">R</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">+</span><span class=\"mclose\">)</span></span></span></span> is not a group, but rather an additive group (which is a different kind of object)' and 'technically one of the fields of <code>1/2 : â„š</code> is an empty bijection', the way you deal with it is by saying something to the effect of 'oh well you're not supposed to interpret what the formal system is saying that particular way'. They both ask for a certain amount of leeway in translating the literal formal system to common mathematical conventions.</p>",
        "id": 564750705,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766167016
    },
    {
        "content": "<p>And if I'm irascible about this particular kind of thing, it's because in my opinion a lot of rhetoric that has been employed to promote type theory in general and Lean in specific relies on giving set theoretic definitions essentially no such leeway in the translation between the literal formal system and common mathematical conventions.</p>",
        "id": 564750991,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766167133
    },
    {
        "content": "<p>People cite statements of the form <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mo>âˆˆ</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">2 \\in 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span> as junk theorems all the time, but <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mn>2</mn><mo>âˆˆ</mo><mn>3</mn></mrow><annotation encoding=\"application/x-tex\">2 \\in 3</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6835em;vertical-align:-0.0391em;\"></span><span class=\"mord\">2</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">âˆˆ</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6444em;\"></span><span class=\"mord\">3</span></span></span></span> has more mathematical content than the Mathlib facts that <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi mathvariant=\"double-struck\">R</mi><mo separator=\"true\">,</mo><mo>+</mo><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(\\mathbb{R},+)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathbb\">R</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord\">+</span><span class=\"mclose\">)</span></span></span></span> is technically not a group and <code>1/0 = 0</code>.</p>",
        "id": 564751197,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766167210
    },
    {
        "content": "<p>So, I feel like I am merely applying to Lean and Mathlib the same standard of nitpicking that has been commonly applied to set theory.</p>",
        "id": 564751624,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766167362
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564749198\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"519559\">Dagur Asgeirsson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564728727\">said</a>:</p>\n<blockquote>\n<p>There are obvious problems with the current conventional mathematical thought that mathlib can help to fix</p>\n</blockquote>\n<p>What problems are you referring to specifically?</p>\n</blockquote>\n<p>For example the abundance of \"folklore results\", the fact that it is acceptable to \"prove\" theorem X by saying \"this is proved in a similar way to theorem Y\", the fact that your status/fame as a mathematician influences the extent to which the community accepts your claimed proofs as correct, etc</p>",
        "id": 564752450,
        "sender_full_name": "Dagur Asgeirsson",
        "timestamp": 1766167653
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"519559\">Dagur Asgeirsson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564752450\">said</a>:</p>\n<blockquote>\n<p>\"this is proved in a similar way to theorem Y\"</p>\n</blockquote>\n<p>This is a reasonable thing to complain about but I also feel like this is a good example of how far computer formalized mathematics is from being acceptably easy to mainstream mathematicians. Sometimes it really is easy to look at a given proof and adapt it to the current context.</p>",
        "id": 564753086,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766167920
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564642099\">said</a>:</p>\n<blockquote>\n<p>I think that it's a ridiculous idea in two ways.</p>\n<p>The first is that I don't think there really can be a singe \"canonical\" source of <em>every</em> mathematical definition being used today. There is far, far too much mathematics being written for such a comprehensive overview.<br>\n</p>\n</blockquote>\n<p>What percentage of all canonical definitions used today can be found on the arXiv? I bet it is up there. When comparing it to lean, the information there is sparse, poorly organized, not well vetted, etc. But it is still there. If the percentage of definitions found on the arXiv is not high enough to meet your definition of â€˜everyâ€™, what about considering the internet as a whole? Is that a single source? Probably not, but powerful search tools like google certainly make it feel/act like one in practice.</p>",
        "id": 564753685,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1766168175
    },
    {
        "content": "<p>Sorry, I misread what you wrote. I don't think it's reasonable to call the internet as a whole 'a single source'.</p>",
        "id": 564754161,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766168368
    },
    {
        "content": "<p>Especially now that Google has become meaningfully less useful as a search engine in the last 5-10 years.</p>",
        "id": 564754933,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766168739
    },
    {
        "content": "<p>And also because one of the primary issues here is coherence. The desire is to have a single reference that defines mathematical concepts in a coherent and consistent way, and arXiv as a whole and the internet as a whole do not satisfy this.</p>",
        "id": 564756320,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766169357
    },
    {
        "content": "<p>Mathlib does largely accomplish this to the extent that it has definitions written down, but these definitions require a meaningful amount of expertise to parse (beyond what is normally required of a mathematician in a particular field) and many of them are what I would consider to be 'bookkeeping junk'.</p>",
        "id": 564756794,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766169532
    },
    {
        "content": "<p>The arXiv definitely lacks coherence, and maybe I should have included it in my list of differences but the point stands. We already have massive 'living' databases of mathematics that contain large swaths of what is known and we are doing the same thing, but in lean. Yes, the barrier to entry is higher and the overhead involved in upkeep of the database is encumbering. Despite all of that, it is growing, and growing at an increasing rate.</p>",
        "id": 564758277,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1766170117
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"988234\">Eric Vergo</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564758277\">said</a>:</p>\n<blockquote>\n<p>Yes, the barrier to entry is higher and the overhead involved in upkeep of the database is encumbering.</p>\n</blockquote>\n<p>I feel like these are precisely reasons why Mathlib is not going to be a 'canonical source for every mathematical definition being used today'.</p>",
        "id": 564758474,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766170193
    },
    {
        "content": "<p>Unless you interpret the word 'mathematical' in a very narrow sense.</p>",
        "id": 564758946,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766170414
    },
    {
        "content": "<p>The barrier to entry is plummeting thanks to LLMS, as evidenced by the original post in this thread. I am not going to hang my hat on these things being true moving forward.</p>",
        "id": 564760788,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1766171232
    },
    {
        "content": "<p>Well, except then you're replacing a technical barrier with a financial one. I don't have access to a high-quality LLM, so I cannot personally replicate what was described in this thread.</p>",
        "id": 564761068,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766171358
    },
    {
        "content": "<p>Am I expected to pay $200 a month to be part of 'the future of mathematics', as Mathlib brands itself?</p>",
        "id": 564761762,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766171658
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564656281\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„š</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Surjective</span><span class=\"o\">]</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>This can and should be fixed by better encapsulation. PR welcome!</p>",
        "id": 564762925,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1766172161
    },
    {
        "content": "<p>Why would I contribute free labor to undermining my own rhetorical argument?</p>",
        "id": 564763121,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766172248
    },
    {
        "content": "<p>Besides, I don't feel like this is a legitimate issue that needs to be addressed.</p>",
        "id": 564763215,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766172300
    },
    {
        "content": "<p>I didn't expect you to help here, don't worry. My comment was addressed to everyone.</p>",
        "id": 564763228,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1766172305
    },
    {
        "content": "<p>Like I said, it's primarily an aesthetic and philosophical one.</p>",
        "id": 564763240,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766172311
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564761762\">said</a>:</p>\n<blockquote>\n<p>Am I expected to pay $200 a month to be part of 'the future of mathematics', as Mathlib brands itself?</p>\n</blockquote>\n<p>I sincerely hope that it tops out at 200, but am quite sure that it won't. Just so we are on the same page, I think this is a disaster and would strongly prefer it not to be the case.</p>",
        "id": 564763353,
        "sender_full_name": "Eric Vergo",
        "timestamp": 1766172384
    },
    {
        "content": "<p>I'm glad to hear it, but even aside from the direct financial aspect, I'm generally uncomfortable with the idea of big tech having such a strong role in 'the future of mathematics'.</p>",
        "id": 564764089,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766172700
    },
    {
        "content": "<p>I don't want to install Microsoft software on my computer in order to be able to do reasonably do math, for instance.</p>",
        "id": 564764209,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766172745
    },
    {
        "content": "<p>I know that VSCodium exists, and I currently have it installed, but I haven't tried anything involving integrating it with an LLM and in general I expect there to be an added layer of friction relative to just using VSCode. (For example, I had to manually install the Lean4 plugin.)</p>",
        "id": 564764464,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766172842
    },
    {
        "content": "<p>I've also used the Lean4 Emacs mode, but there's obviously even more friction there (on the level of integrating it with my existing Emacs setup).</p>",
        "id": 564764807,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766172976
    },
    {
        "content": "<blockquote>\n<p><a href=\"https://nforum.ncatlab.org/discussion/7755/proper-map/?Focus=125196#Comment_125196\">It seems to me there at least three nonequivalent definitions of a proper map circulating in the literature.</a></p>\n</blockquote>",
        "id": 564773962,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1766177457
    },
    {
        "content": "<p>Cf also Bourbaki's set theory, which , well, is not standard in any sense of the word</p>",
        "id": 564774053,
        "sender_full_name": "David Michael Roberts",
        "timestamp": 1766177508
    },
    {
        "content": "<p>Many points being raised in this discussion remind me of the <a href=\"https://www.cse.chalmers.se/research/group/logic/TypesSS05/Extra/wiedijk_2.pdf\">QED Manifesto</a>, which was written over thirty years ago, but which is, if anything, more relevant today than it was back when it was written. For example, the intellectual property question is raised in \"Objection 2.\" The notion that the corpus of formalized mathematics would provide \"canonical definitions\" of everything is not directly addressed, but if I read between the lines, the suggestion seems to be that the system should be as flexible and adaptable as possible. That is, the ideal situation would be that you should be able to do math however you want as long as it's completely rigorous, and there should be tools to translate your work into the standard framework. (Again, that's basically what I think Conway was getting at with his \"Mathematicians' Liberation Movement.\")</p>\n<p>I've cited <a href=\"https://arxiv.org/abs/math/9404229\">Atiyah</a> before in a different thread; in response to Jaffe and Quinn's expressions of concern about some areas of mathematics suffering from (for lack of a better term) insufficient rigor, Atiyah said that even though he agreed with much of the substance of what they were proposing, he rebelled against what he perceived to be an authoritarian tone. It's natural to get excited about the future of Lean and mathlib, but it's also against our own best interests to exude any odor of authoritarianism.</p>",
        "id": 564776198,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766178703
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564510345\">said</a>:</p>\n<blockquote>\n<p>Oh I see, you're saying the formalization has <em>more</em> than the informal proof? Then yes I agree with you!</p>\n</blockquote>\n<p>Yes. However, I'm also saying that the formalization does not express <em>everything</em> that the informal proof does (i.e., \"more than the informal proof\" does not, in my book, mean \"everything in the informal proof plus even more\").</p>\n<p>Here's another example on top of what I've already said earlier in this thread. An informal proof may begin with a heuristic sketch of the argument that, strictly speaking, is wrong, and a fortiori cannot be formalized. The ideas in the heuristic argument may generalize to other settings in a way that the formal proof does not. Terry Tao has a nice paper, <a href=\"https://arxiv.org/abs/2009.06736\">Exploring the toolkit of Jean Bourgain</a>, whose abstract begins by quoting Gian-Carlo Rota's adage that \"every mathematician only has a few tricks.\" Those tricks cannot always be formalized without losing something in the translation.</p>\n<p>If what I just said still seems too vague, let's take a simple concrete example of a heuristic principle: \"The prime numbers are random.\" Well, of course, the prime numbers <em>aren't</em> random. Nevertheless, the heuristic principle is extremely useful for formulating conjectures and can sometimes even be turned into a rigorous proof. I don't think that \"the primes are random\" can be formalized, and more importantly, I think it would probably be a mistake to try to formalize it. Any formalization would likely limit the power of the heuristic.</p>",
        "id": 564778716,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766180213
    },
    {
        "content": "<p>The conversation in the \"dreams of big projects\" thread made me realize that there's another reason why Mathlib simply cannot be a canonical source for <em>every</em> mathematical definition being used today: Mathlib cannot easily handle things like choiceless classical mathematics, weaker-than-ZF classical mathematics, or constructive mathematics (which all often involve specialized definitions). There's never going to be a structure in Mathlib for <a href=\"https://ncatlab.org/nlab/show/apartness+relation\">apartness relations</a>, for instance.</p>\n<p>Now, I'm not saying that this is something Mathlib really needs to address, per se, but I do think it makes it pretty clear that one cannot claim that <em>every</em> mathematical definition being used today is going to eventually make its way into Mathlib. Unless, of course, one would be willing to assert that the above things are 'not mathematics', but that's a different conversation.</p>",
        "id": 564795496,
        "sender_full_name": "James E Hanson",
        "timestamp": 1766195913
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564750091\">said</a>:</p>\n<blockquote>\n<p>I think this is a very reasonable opinion, although on some level I would still consider it to be a 'junk theorem' on an ontological level that in Lean there is an empty bijection baked into the literal structure of the object being identified with <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mfrac><mn>1</mn><mn>2</mn></mfrac></mrow><annotation encoding=\"application/x-tex\">\\frac{1}{2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1.1901em;vertical-align:-0.345em;\"></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.8451em;\"><span style=\"top:-2.655em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">2</span></span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.394em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size6 size3 mtight\"><span class=\"mord mtight\"><span class=\"mord mtight\">1</span></span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.345em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span>.</p>\n</blockquote>\n<p>Yes, it would still be a junk theorem. Totally junk! However, once I clearly see that it talks about some bijection between proofs, I will immediately conclude \"yeah, a typical foundational quirk\" and go on.</p>\n<p>Confusion stems from not knowing what something means. And, in almost every situation, I have no idea what <code>.3</code> means. This time, I knew only because I had been writing a thesis section about <code>Rat</code> recently.</p>",
        "id": 564820090,
        "sender_full_name": "Martin DvoÅ™Ã¡k",
        "timestamp": 1766227952
    },
    {
        "content": "<p>This thread has gone a long way from it's initial starting point, moving far beyond feedback on the formalization that was initially requested. It might be worth to move parts of this into its own thread, and potentially into general as this is barely touching Machine Learning anymore.</p>",
        "id": 564824978,
        "sender_full_name": "Simon Sorg",
        "timestamp": 1766233704
    },
    {
        "content": "<p>95 messages were moved here from <a class=\"stream-topic\" data-stream-id=\"219941\" href=\"/#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/with/564249552\">#Machine Learning for Theorem Proving &gt; AI-discovered proof on psi-integrals (with Lean formalizat.)</a> by <span class=\"user-mention silent\" data-user-id=\"240862\">Oliver Nash</span>.</p>",
        "id": 564826082,
        "sender_full_name": "Notification Bot",
        "timestamp": 1766234910
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.20as.20a.20source.20of.20definitions/near/564762925\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"904624\">James E Hanson</span> <a href=\"#narrow/channel/219941-Machine-Learning-for-Theorem-Proving/topic/AI-discovered.20proof.20on.20psi-integrals.20.28with.20Lean.20formalizat.2E.29/near/564656281\">said</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">â„š</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"m\">3</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Bijective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Injective</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Function</span><span class=\"bp\">.</span><span class=\"n\">Surjective</span><span class=\"o\">]</span>\n</code></pre></div><br>\n</p>\n</blockquote>\n<p>This can and should be fixed by better encapsulation. PR welcome!</p>\n</blockquote>\n<p>i'm not sure this gets better by encapsulating? the third field of <code>Rat</code> says the denominator is not 0, an inequality is the negation of an equality, and proofs of negations are functions. All of these parts are reasonable definitions, and even if we <em>were</em> to encapsulate these with structures, you still will get the same kind of 'nonsense result' by inserting more projections, like <code>Function.Bijective (1 / 2 : â„š).3.1.1</code>. Making these definitions opaque is definitely possible (provided we create API for casting back and forth) but that will make for <em>absolutely horrible</em> ergonomics</p>",
        "id": 564833497,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1766242068
    },
    {
        "content": "<p>can you maybe explain the fix you had in mind?</p>",
        "id": 564833508,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1766242083
    },
    {
        "content": "<p>I suggest we try to keep this thread a bit more on topic.</p>\n<p>IMHO there is a potentially useful conversation to be had about the pros and cons of Mathlib as a source of definitions and it will never happen if we allow ourselves to be distracted with these sorts of tangents.</p>",
        "id": 564834202,
        "sender_full_name": "Oliver Nash",
        "timestamp": 1766242798
    },
    {
        "content": "<p>Is it a tangent? The topic, now that it has been moved into its own thread, is the relationship between formal definitions (in a corpus that we envisage becoming \"standard\") and definitions used in mathematical practice. One of the main concerns that has been raised is that formal definitions are always going to be plagued to some extent by technical irrelevancies. Detailed consideration of specific examples can help illuminate this concern.</p>\n<p>Iny any case, I suggest that we re-frame the discussion a bit. Instead of speculating about some hypothetical future world in which mathlib lays down the law for every definition, maybe we can discuss whether mathlib can be made more flexible, to reflect the flexibility of actual mathematical practice. In another discussion, I pointed out that in ZF, there are different ways to formulate the continuum hypothesis that are equivalent in ZFC but inequivalent in ZF. Aaron Liu's response was, \"Well, we have choice, so.\" That's a reasonable perspective to take, but it potentially goes against the idea of mathlib being a universal umbrella for all of mathematics.</p>\n<p>My impression is that the dominant philosophy so far has been that the priority has been to get as much mathematics into mathlib as quickly as possible (without of course sacrificing correctness). If that means sacrificing intuitionistic logic or choiceless math or some other area of math that is perceived to be \"niche,\" well, that's a sacrifice we can live with (at least for the time being) because we have bigger fish to fry. Again, I'm not saying this is a bad idea, but we should be aware that we can't always <a href=\"https://books.google.com/ngrams/graph?content=eat+your+cake+and+have%2Chave+your+cake+and+eat&amp;year_start=1800&amp;year_end=2022&amp;corpus=en&amp;smoothing=3\">eat our cake and have it, too</a>.</p>",
        "id": 564839186,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1766248061
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.20as.20a.20source.20of.20definitions/near/564833508\">said</a>:</p>\n<blockquote>\n<p>can you maybe explain the fix you had in mind?</p>\n</blockquote>\n<p>Yes, I just had in mind disabling <code>.n</code> projection notations here somehow, e.g. by making it Rat itself opaque. Probably not worth doing.</p>",
        "id": 564883302,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1766309428
    },
    {
        "content": "<p>Breaking the defeq between â‰¤ and Â¬ &lt; doesn't seem outrageous. I wouldn't recommend it, but it's something we could do if we wanted to...</p>",
        "id": 564883339,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1766309486
    },
    {
        "content": "<p>Ah, I meant inequality in the sense of <code>Ne</code>, not <code>LE</code></p>",
        "id": 564907567,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1766340701
    },
    {
        "content": "<p>The <a href=\"#narrow/channel/287929-mathlib4/topic/100.20theorems.3A.20Ceva's.20theorem/near/565935125\">discussion of Ceva's theorem</a> is somewhat relevant to this discussion here. The scenario is that in informal discourse, there are several different versions of \"X's theorem\" floating around, and mathlib has to pick one. Even if there is a \"most general\" version of which the others are corollaries, and mathlib picks the \"most general\" version, the corollaries might not be explicitly in mathlib. And even if they are, confusion could arise if the most common informal interpretation of \"X's theorem\" is one of the corollaries, rather than the general version chosen by mathlib.</p>",
        "id": 566060351,
        "sender_full_name": "Timothy Chow",
        "timestamp": 1767362005
    }
]