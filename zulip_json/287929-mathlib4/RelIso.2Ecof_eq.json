[
    {
        "content": "<p>We have two different definitions of cofinality, one for reflexive orders <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Order.cof#doc\">docs#Order.cof</a>, and one for irreflexive orders <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=StrictOrder.cof#doc\">docs#StrictOrder.cof</a>. I'm not really sure that these names were the best choice, since it's unclear how to disambiguate between them in other theorem names.</p>",
        "id": 478237155,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729587572
    },
    {
        "content": "<p>Particularly, I wanted to introduce a version of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=RelIso.cof_eq#doc\">docs#RelIso.cof_eq</a> for <code>StrictOrder.cof</code>, but I don't know how to call it.</p>",
        "id": 478237212,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729587590
    },
    {
        "content": "<p>In fact, I suspect this might be somewhat of an X/Y, since I'm not even confident <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=StrictOrder.cof#doc\">docs#StrictOrder.cof</a> is <em>correct</em> as a definition in general. Going by the <a href=\"https://en.wikipedia.org/wiki/Cofinality\">Wikipedia article</a>, the cofinality of the partial order <code>Unit ⊕ Unit</code> (with respect to the ≤ order) should be <code>2</code>, while this definition (with respect to the &lt; order) would give <code>1</code>. <code>Order.cof (· ≤ ·)</code> and <code>StrictOrder.cof (· &lt; ·)</code> only coincide for linear orders.</p>",
        "id": 478238333,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729587924
    },
    {
        "content": "<p>any thoughts?</p>",
        "id": 478238492,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729587969
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> <span class=\"user-mention\" data-user-id=\"565854\">@Nir Paz</span></p>",
        "id": 478239239,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729588246
    },
    {
        "content": "<p>Do we even need the two definitions?</p>",
        "id": 478239409,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729588316
    },
    {
        "content": "<p>I don't think we really use either of them at the moment, other than to define <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Ordinal.cof#doc\">docs#Ordinal.cof</a> which is what our current API actually talks about</p>",
        "id": 478239535,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729588344
    },
    {
        "content": "<p>And it'd be trivial to redefine that to use <code>Order.cof</code> rather than <code>StrictOrder.cof</code> by inlining the definition</p>",
        "id": 478239604,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729588372
    },
    {
        "content": "<p>Can we get rid of both and only use <code>Ordinal.cof</code>?</p>",
        "id": 478239768,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729588442
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/stream/287929-mathlib4/topic/RelIso.2Ecof_eq/near/478239768\">said</a>:</p>\n<blockquote>\n<p>Can we get rid of both and only use <code>Ordinal.cof</code>?</p>\n</blockquote>\n<p>There are areas in set theory that heavily use cofinalities of partial orders (the reflexive order one above).</p>",
        "id": 478239954,
        "sender_full_name": "Nir Paz",
        "timestamp": 1729588507
    },
    {
        "content": "<p>Yep, PCF theory is one of them, isn't it?</p>",
        "id": 478240009,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729588528
    },
    {
        "content": "<p>I think getting rid of <code>StrictOrder.cof</code> should be fine</p>",
        "id": 478240047,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729588542
    },
    {
        "content": "<p>But it'd be nice to generalize the <code>Ordinal.cof</code> API to general (partial/linear/well) orders whenever possible</p>",
        "id": 478240248,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729588597
    },
    {
        "content": "<p>I was actually looking at <code>StrictOrder.cof</code> a few days ago and left a bit confused by the definition haha. I've never heard something like it being used</p>",
        "id": 478240316,
        "sender_full_name": "Nir Paz",
        "timestamp": 1729588618
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/stream/287929-mathlib4/topic/RelIso.2Ecof_eq/near/478240009\">said</a>:</p>\n<blockquote>\n<p>Yep, PCF theory is one of them, isn't it?</p>\n</blockquote>\n<p>Yea. It also uses other notions of cofinality (like true cofinality), but it's nice one of them already exists.</p>",
        "id": 478240960,
        "sender_full_name": "Nir Paz",
        "timestamp": 1729588818
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"565854\">Nir Paz</span> <a href=\"#narrow/channel/287929-mathlib4/topic/RelIso.2Ecof_eq/near/478240316\">said</a>:</p>\n<blockquote>\n<p>I was actually looking at <code>StrictOrder.cof</code> a few days ago and left a bit confused by the definition haha. I've never heard something like it being used</p>\n</blockquote>\n<p>Sounds like a no-brainer then <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> <span aria-label=\"point right\" class=\"emoji emoji-1f449\" role=\"img\" title=\"point right\">:point_right:</span> <span aria-label=\"wastebasket\" class=\"emoji emoji-1f5d1\" role=\"img\" title=\"wastebasket\">:wastebasket:</span></p>",
        "id": 478241168,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729588918
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18043\">#18043</a></p>",
        "id": 478243471,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729589656
    },
    {
        "content": "<p>Added a small dependent PR to avoid golfing the same theorems twice</p>",
        "id": 478243526,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729589677
    },
    {
        "content": "<p>There's actually quite a few changes I want to implement within the cofinality file, so I'll use this thread to list them:</p>\n<ul>\n<li>Deprecate <code>StrictOrder.cof</code> (as discussed)</li>\n<li>Redefine <code>Order.cof</code> for a preorder, rather than an unbundled relation.</li>\n<li>Define a <code>Set.Cofinal</code> predicate (this is equivalent to not <code>BddAbove</code> for linear orders, but not for partial orders)</li>\n<li>Generalize various results from <code>Order.cof</code> to general well/linear/partial orders</li>\n<li>Get rid of <code>Bounded</code> and <code>Unbounded</code></li>\n</ul>",
        "id": 478748779,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1729785085
    }
]