[
    {
        "content": "<p>I think I've asked this before, but I'll ask again. Isn't the order on <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Pi.Lex#doc\">docs#Pi.Lex</a> backwards?</p>",
        "id": 536549674,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756367683
    },
    {
        "content": "<p>Specifically, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.Lex.wellFoundedLT#doc\">docs#Finsupp.Lex.wellFoundedLT</a> says that <code>Lex (α →₀ N)</code> is well-founded when <code>N</code> is well-founded, and <code>α</code> is... co-well-founded?</p>",
        "id": 536549822,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756367732
    },
    {
        "content": "<p>Is this something that comes up often? I would imagine that the lexicographic ordering on functions is most useful when the domain is well-ordered, like <code>ℕ</code> or <code>Ordinal</code>.</p>",
        "id": 536550137,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756367847
    },
    {
        "content": "<p>Having to write down <code>Finsupp.equivMapDomain OrderDual.toDual</code> just to get the correct ordering for my use-case is quite annoying</p>",
        "id": 536550521,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756367995
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"873350\">@Weiyi Wang</span>, what's your opinion?</p>",
        "id": 536551447,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1756368335
    },
    {
        "content": "<p>I think this is the usual definition of Lex on functions, and swapping the order on the domain type would give us the colex order. See eg the colex section of <a href=\"https://en.m.wikipedia.org/wiki/Lexicographic_order\">https://en.m.wikipedia.org/wiki/Lexicographic_order</a></p>",
        "id": 536558224,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756370685
    },
    {
        "content": "<p>Do note that strictly speaking, the Wikipedia article talks about the lex order on strings, rather than functions. And there is precedent to indexing strings from right to left, e.g. when talking about digit expansions.</p>",
        "id": 536559441,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756371044
    },
    {
        "content": "<p>I also found this nlab article which seems to agree with me on the lex ordering: <a href=\"https://ncatlab.org/nlab/show/lexicographic+order\">https://ncatlab.org/nlab/show/lexicographic+order</a></p>",
        "id": 536559563,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756371077
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Pi.2ELex/near/536559441\">said</a>:</p>\n<blockquote>\n<p>Do note that strictly speaking, the Wikipedia article talks about the lex order on strings, rather than functions.</p>\n</blockquote>\n<p>Indeed, that's why I specifically mentioned the colex section which talks about the order on functions!</p>",
        "id": 536559731,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756371132
    },
    {
        "content": "<p>I think nlab also disagrees with you, it's talking about the least place where they differ, which is what <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Pi.Lex#doc\">docs#Pi.Lex</a> does</p>",
        "id": 536559888,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756371186
    },
    {
        "content": "<p>Oh, you're right.</p>",
        "id": 536560374,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756371338
    },
    {
        "content": "<p>It seems like the restriction to finsupps is the cause for this disparity. For <code>Lex (α → β)</code> to be linearly ordered, you need <code>β</code> to be linearly ordered and <code>α</code> to be well-ordered. Whereas for <code>Lex (α →₀ β)</code> you only need <code>α</code> and <code>β</code> to be linearly ordered, and you furthermore get a well-order when <code>α</code> is co-well-ordered.</p>",
        "id": 536561323,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756371629
    },
    {
        "content": "<p>I think it's quite reasonable for both the lex orderings on <code>ℕ → α</code> and <code>ℕ →₀ α</code> to come up, so someone had to end up disappointed</p>",
        "id": 536561913,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756371803
    },
    {
        "content": "<p>I'm not sure there's any disparity at all, the non-well-foundedness of lex on finitely supported things is expected:</p>\n<blockquote>\n<p>It is not true that the set of <em>all</em> finite words is well-ordered; for example, the infinite set of words {b, ab, aab, aaab, ... } has no lexicographically earliest element.</p>\n</blockquote>",
        "id": 536561977,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756371816
    },
    {
        "content": "<p>Well, there's an asymmetry in the mathematics themselves, is my point</p>",
        "id": 536562137,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756371863
    },
    {
        "content": "<p>Yeah, I think the ordering as-is is the correct one. Guess I'll have to get comfortable inserting order duals.</p>",
        "id": 536563023,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756372146
    },
    {
        "content": "<p>It might be reasonable to make Pi.Colex. Or more specifically to make a type synonym Colex analogous to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lex#doc\">docs#Lex</a>, and put the right order on it; and also use this for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.Colex#doc\">docs#Finset.Colex</a>. I'm interested to hear Yaël's thoughts on this. My impression was that Colex is only really useful for finsets, but last week I found an application for it for finitely supported order embeddings, and it sounds like you want it to work for Finsupps too</p>",
        "id": 536563593,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756372324
    },
    {
        "content": "<p>Wait, what's the relationship between <code>Finset.Colex</code> and <code>Pi.Colex</code>? I don't see it at first glance.</p>",
        "id": 536563924,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756372430
    },
    {
        "content": "<p>It's certainly not clear, but I happened to prove a version of it last week:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">colex_orderEmb</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">↪</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">toColex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">univ</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">toColex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">univ</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"n\">j</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>",
        "id": 536564004,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756372459
    },
    {
        "content": "<p>(this probably generalises in some way, I haven't thought about it yet)</p>",
        "id": 536564053,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756372473
    },
    {
        "content": "<p>Would this work if you replaced <code>α ↪o β</code> with <code>α →₀ β</code>?</p>",
        "id": 536564341,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756372557
    },
    {
        "content": "<p>No, since the functions could reorder the points randomly</p>",
        "id": 536564462,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756372585
    },
    {
        "content": "<p>The way to think about <code>x, y</code> here is that they're increasing enumerations of the finset</p>",
        "id": 536564515,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756372605
    },
    {
        "content": "<p>I could replace them with finitely supported strictly monotone functions, though; they're already finitely supported because <code>[Fintype α]</code></p>",
        "id": 536564632,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756372645
    },
    {
        "content": "<p>Well, a <code>Colex</code> alias would certainly save me from some hassle, though I do worry that it might take more work to set up than to simply insert some spurious <code>OrderDual</code>s here and there.</p>",
        "id": 536564867,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756372731
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Pi.2ELex/near/536563593\">said</a>:</p>\n<blockquote>\n<p>It might be reasonable to make Pi.Colex. Or more specifically to make a type synonym Colex analogous to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lex#doc\">docs#Lex</a>, and put the right order on it; and also use this for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.Colex#doc\">docs#Finset.Colex</a>.</p>\n</blockquote>\n<p>This was always on my mind, and the sole reason I didn't do it is because I didn't have an application! Looks like we do now <span aria-label=\"slight smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"slight smile\">:slight_smile:</span></p>",
        "id": 536564994,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1756372778
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Pi.2ELex/near/536563924\">said</a>:</p>\n<blockquote>\n<p>Wait, what's the relationship between <code>Finset.Colex</code> and <code>Pi.Colex</code>? I don't see it at first glance.</p>\n</blockquote>\n<p>Just to make this completely explicit, this is true:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">colex_orderEmb_iff</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">LinearOrder</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">↪</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"w\">    </span><span class=\"n\">toColex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">univ</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">toColex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">univ</span><span class=\"bp\">.</span><span class=\"n\">image</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">↔</span>\n<span class=\"w\">    </span><span class=\"n\">Pi</span><span class=\"bp\">.</span><span class=\"n\">Lex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n</code></pre></div>\n<p>(and <code>univ.image ·</code> is a bijection between <code>α ↪o β</code> and finsets in <code>β</code> with size <code>card α</code>).</p>",
        "id": 536565656,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756372933
    },
    {
        "content": "<p>Which types would have the <code>Colex</code> alias? Pi types, finsupps, finsets, anything else?</p>",
        "id": 536565860,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756373008
    },
    {
        "content": "<p>Is finset Colex is equivalent to the subtype of Pi lex where the codomain is Prop and the function is finitely supported</p>",
        "id": 536573625,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1756375807
    },
    {
        "content": "<p>No:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">asFinsupp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Lex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">toLex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">false_lt_true</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lt_iff_le_and_ne</span><span class=\"o\">]</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">asFinsupp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">asFinsupp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">asFinsupp</span><span class=\"o\">]</span><span class=\"bp\">⟩</span>\n</code></pre></div>\n<p>Finset lex and finset colex would have {1,2} &lt; {2,3}, but taking the indicator functions on these give the opposite order</p>",
        "id": 536579956,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756378615
    },
    {
        "content": "<p>(aside: surely a single tactic should prove <code>False &lt; True</code>)</p>",
        "id": 536580003,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756378636
    },
    {
        "content": "<p>oh</p>",
        "id": 536581175,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1756379105
    },
    {
        "content": "<p>yeah that makes sense</p>",
        "id": 536581189,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1756379110
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Pi.2ELex/near/536565860\">said</a>:</p>\n<blockquote>\n<p>Which types would have the <code>Colex</code> alias? Pi types, finsupps, finsets, anything else?</p>\n</blockquote>\n<p>Also, all the material on <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finsupp.Colex#doc\">docs#Finsupp.Colex</a> is currently in the namesake namespace. Should that remain true after generalizing the alias?</p>",
        "id": 536582899,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756379817
    },
    {
        "content": "<p>I've opened <a href=\"https://github.com/leanprover-community/mathlib4/pull/29058\">#29058</a> introducing a <code>Colex</code> type synonym, replacing the existing <code>Finset.Colex</code> one.</p>",
        "id": 536585750,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756380891
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Pi.2ELex/near/536579956\">said</a>:</p>\n<blockquote>\n<p>No:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">asFinsupp</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Lex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"kt\">Prop</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">toLex</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"o\">)</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">simp</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">false_lt_true</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">False</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">lt_iff_le_and_ne</span><span class=\"o\">]</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">asFinsupp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">2</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">asFinsupp</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">simp</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">asFinsupp</span><span class=\"o\">]</span><span class=\"bp\">⟩</span>\n</code></pre></div>\n<p>Finset lex and finset colex would have {1,2} &lt; {2,3}, but taking the indicator functions on these give the opposite order</p>\n</blockquote>\n<p>Wait so if it's the other way around is finset colex isomorphic to finsupp lex?</p>",
        "id": 536837245,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1756490039
    },
    {
        "content": "<p>Sorry, I meant gives the opposite order on these specific places. I considered briefly if you get the opposite order entirely, but didn't have time to prove or disprove it</p>",
        "id": 536927997,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1756573920
    },
    {
        "content": "<p>Isn't colex ordering on finsets the same as the ordering on binary expansions, which is the colex ordering on finsupps?</p>",
        "id": 536946315,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756598019
    },
    {
        "content": "<p>(if this is true, would it be a good idea to directly redefine <code>Finsupp</code> colex using this? It would at the very least make the proof that they're a linear order much more immediate)</p>",
        "id": 536946454,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1756598282
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span> I was assigned <a href=\"https://github.com/leanprover-community/mathlib4/pull/29058\">#29058</a> (feat: <code>Colex</code> type synonym), which I guess was discussed in this thread. Could you take a look when you have a chance?</p>",
        "id": 540536813,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1758318222
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Pi.2ELex/near/536558224\">said</a>:</p>\n<blockquote>\n<p>I think this is the usual definition of Lex on functions, and swapping the order on the domain type would give us the colex order. See eg the colex section of <a href=\"https://en.m.wikipedia.org/wiki/Lexicographic_order\">https://en.m.wikipedia.org/wiki/Lexicographic_order</a></p>\n</blockquote>\n<p>Right, but both conventions exist and I found that having to swap the ordering on the domain was sometimes more painful than expected.</p>",
        "id": 540577074,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1758365803
    },
    {
        "content": "<p>This colex stuff is basically what blocked my definition of the degrevlex monomial order.</p>",
        "id": 540577793,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1758366578
    },
    {
        "content": "<p>Is it really true that both conventions exist? I've only ever seen the mathlib one used for \"lex\". In any case, I think the above PR should make it less painful to use the colex/revlex order</p>",
        "id": 540592116,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1758381246
    },
    {
        "content": "<p>I've definitely seen people use \"lexicographic\" when referring to the colex ordering on ordinal finsupps. Here's a Wikipedia excerpt:<br>\n<a href=\"/user_uploads/3121/xBgNCKoxVvgcQHCAAlYQgjAh/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/xBgNCKoxVvgcQHCAAlYQgjAh/image.png\" title=\"image.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"1215x245\" src=\"/user_uploads/thumbnail/3121/xBgNCKoxVvgcQHCAAlYQgjAh/image.png/840x560.webp\"></a></div>",
        "id": 541707904,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1758904513
    },
    {
        "content": "<p>I guess you could argue \"lexicographically with the least significant position first\" is just a long-winded way of saying \"colexicographically\"</p>",
        "id": 541707998,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1758904550
    },
    {
        "content": "<p>Yeah this is quite literally saying, lex but with an order dual in there, which is what colex already is</p>",
        "id": 541746378,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1758921092
    },
    {
        "content": "<p>fair enough</p>",
        "id": 541768027,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1758939796
    }
]