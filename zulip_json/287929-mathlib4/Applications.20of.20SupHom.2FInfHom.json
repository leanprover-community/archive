[
    {
        "content": "<p>I don't have a good vision of all the order stuff on mathlib, and would like a sanity check before I contribute something.</p>\n<p>There is a <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Order/Hom/Lattice.html#SupHom\">SupHom</a> structure, i.e. maps which commute with sup of two elements.</p>\n<p>I can get a few non-obvious instances of SupHom (e.g. limsup, or topological entropy). I was thinking about proving a general finitary version of SupHom, which would look like</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">supHom_improved</span><span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Sup</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Sup</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Fintype</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">]</span>\n<span class=\"o\">[</span><span class=\"n\">Nonempty</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">SupHom</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span>\n<span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">⨆</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ι</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>to put in Algebra.Order.Hom.Lattice. Does it sound reasonable?</p>",
        "id": 475001316,
        "sender_full_name": "Damien Thomine",
        "timestamp": 1728150638
    },
    {
        "content": "<p>Please assume <code>Finite</code>, not <code>Fintype</code></p>",
        "id": 475007138,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728153926
    },
    {
        "content": "<p>Can somebody move this to <a class=\"stream\" data-stream-id=\"287929\" href=\"/#narrow/stream/287929-mathlib4\">#mathlib4</a> ?</p>",
        "id": 475008201,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1728154453
    },
    {
        "content": "<p>This topic was moved here from <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/stream/270676-lean4/topic/Applications.20of.20SupHom.2FInfHom\">#lean4 &gt; Applications of SupHom/InfHom</a> by <span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span>.</p>",
        "id": 475023369,
        "sender_full_name": "Notification Bot",
        "timestamp": 1728162740
    },
    {
        "content": "<p>Done. Tagging <span class=\"user-mention\" data-user-id=\"513919\">@Damien Thomine</span> to notify about this.</p>",
        "id": 475023401,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728162779
    },
    {
        "content": "<p>Thanks Yaël, I msihandled the posting.</p>\n<p>Anyways, I found some answer: the <code>Finset</code> version of what I want is <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Finset/Lattice.html#map_finset_sup\">map_finset_sup</a>. I didn't find it because it is not in the same file, it calls <code>SupBotHomClass</code> instead of <code>SupBotHom</code> (so Loogle didn't catch it), and there is no documentation which explains this. This feels weird (instead of having a simple statement for a single SupBotHom map, everything is handled through an implicit class of maps), but works well enough.</p>\n<p>I can write a <code>iSup</code> version from there.</p>\n<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> : That's noted. Is there a preference for finite sets ? What is prefered between <code>(s : Finset X)</code> and <code>{s : Set X} (h : s.Finite)</code>? I've used the former in my current project, but if the latter works better (maybe fewer coercion issues?), a quick refactor is no big deal.</p>",
        "id": 475596497,
        "sender_full_name": "Damien Thomine",
        "timestamp": 1728401412
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"513919\">Damien Thomine</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Applications.20of.20SupHom.2FInfHom/near/475596497\">said</a>:</p>\n<blockquote>\n<p>This feels weird (instead of having a simple statement for a single SupBotHom map, everything is handled through an implicit class of maps)</p>\n</blockquote>\n<p>The motivation is that people don't usually deal with <code>SupBotHom</code> directly, but rather with <code>OrderHom</code>s, <code>OrderIso</code>s, etc... Having a statement about <code>f : SupBotHom α β</code> rather than <code>f : F </code>, <code>SubBotHomClass F α β</code> would needlessly limit the applicability of the lemma.</p>",
        "id": 475599530,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1728402014
    },
    {
        "content": "<p>Damien, you can read about this design in Chapter 7 of MIL.</p>",
        "id": 475613364,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1728405282
    }
]