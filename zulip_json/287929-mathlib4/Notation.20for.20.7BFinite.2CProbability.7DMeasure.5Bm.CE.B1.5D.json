[
    {
        "content": "<p>Given that there is the notation <code>Measure[mα]</code> for specifying the algebra, would it make sense to include analogue notation for <code>FiniteMeasure</code> and <code>ProbabilityMeasure</code>?</p>",
        "id": 547835693,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761785282
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 547836221,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761785737
    },
    {
        "content": "<p>I see no reason why not! We add such notation as it becomes necessary in applications. If you have such an application, then we will add the notation</p>",
        "id": 547863389,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1761807887
    },
    {
        "content": "<p>Yes, it would make sense to have that notation.<br>\nI feel obligated to ask if using <code>ProbabilityMeasure</code> is the right choice for what you want to do: you should always prefer <code>Measure</code> together with <code>IsProbabilityMeasure</code> unless you are using the topology on <code>ProbabilityMeasure</code>.</p>",
        "id": 547863810,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1761808110
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"350992\">Rémy Degenne</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20.7BFinite.2CProbability.7DMeasure.5Bm.CE.B1.5D/near/547863810\">said</a>:</p>\n<blockquote>\n<p>Yes, it would make sense to have that notation.<br>\nI feel obligated to ask if using <code>ProbabilityMeasure</code> is the right choice for what you want to do: you should always prefer <code>Measure</code> together with <code>IsProbabilityMeasure</code> unless you are using the topology on <code>ProbabilityMeasure</code>.</p>\n</blockquote>\n<p>I agree with using <code>Measure</code>, I think I figured that out yesterday, after creating this topic. I was using them initially because they are <code>NNReal</code>-valued</p>",
        "id": 547936472,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761831283
    },
    {
        "content": "<p>If <code>m</code> is a measure, then <code>m.real s</code> gives the measure of <code>s</code> as a real number.</p>",
        "id": 547937267,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1761831416
    },
    {
        "content": "<p>This is very nitpicky, but any reason why  <code>FiniteMeasure.map</code> does not reuse <code>Measure.isFiniteMeasure_map</code>?</p>\n<p>I should not have assumed that, but when I saw it, it made me think that the <code>IsFiniteMeasure</code> instance for <code>.map</code> did not exist and I should use the subtype (my deleted message from yesterday <span aria-label=\"see no evil\" class=\"emoji emoji-1f648\" role=\"img\" title=\"see no evil\">:see_no_evil:</span>)</p>\n<p>It could be</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- The push-forward of a finite measure by a function between measurable spaces. -/</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ν</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FiniteMeasure</span><span class=\"w\"> </span><span class=\"n\">Ω</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Ω</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Ω'</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">FiniteMeasure</span><span class=\"w\"> </span><span class=\"n\">Ω'</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"bp\">⟨</span><span class=\"o\">(</span><span class=\"n\">ν</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">Ω</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ν</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Measure</span><span class=\"w\"> </span><span class=\"n\">Ω</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">isFiniteMeasure_map</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"bp\">⟩</span>\n</code></pre></div>",
        "id": 547942603,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761832711
    },
    {
        "content": "<p>Nope, your def is nicer. Feel free to PR a fix!</p>",
        "id": 547943641,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1761832925
    },
    {
        "content": "<p>same for <code>ProbabilityMeasure</code></p>",
        "id": 547943652,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761832927
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/31091\">#31091</a></p>",
        "id": 547948313,
        "sender_full_name": "Lua Viana Reis",
        "timestamp": 1761833925
    }
]