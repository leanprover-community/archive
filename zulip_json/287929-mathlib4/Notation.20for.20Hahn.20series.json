[
    {
        "content": "<p>Is it possible that we could define some notation for Hahn series? Something like <code>R⟦X^Γ⟧</code> for <code>HahnSeries Γ R</code> would be my immediate proposal, though I don't know if that might clash with notations for polynomials or other power series.</p>",
        "id": 562853020,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1765338188
    },
    {
        "content": "<p>We have an existing \"clash\" between <code>R[G]</code> (MonoidAlgebra) and <code>R[X]</code> (Polynomial). By analogy it should be fine to have <code>R⟦Γ⟧</code> For HahnSeries and <code>R⟦X⟧</code> for PowerSeries</p>",
        "id": 562853715,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1765338583
    },
    {
        "content": "<p>Something like this? Mostly just copy-pasting code from <code>MonoidAlgebra</code> here:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kd\">@[</span><span class=\"n\">inherit_doc</span><span class=\"w\"> </span><span class=\"n\">HahnSeries</span><span class=\"kd\">]</span>\n<span class=\"kn\">scoped</span><span class=\"w\"> </span><span class=\"kn\">syntax</span><span class=\"o\">:</span><span class=\"n\">max</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">priority</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">high</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"n\">noWs</span><span class=\"w\"> </span><span class=\"s2\">\"⟦\"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"s2\">\"⟧\"</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">term</span>\n\n<span class=\"kn\">macro_rules</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">R</span><span class=\"bp\">⟦$</span><span class=\"n\">M</span><span class=\"bp\">⟧</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"n\">HahnSeries</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">M</span><span class=\"o\">)</span>\n\n<span class=\"sd\">/-- Unexpander for `HahnSeries`. -/</span>\n<span class=\"kd\">@[</span><span class=\"n\">scoped</span><span class=\"w\"> </span><span class=\"n\">app_unexpander</span><span class=\"w\"> </span><span class=\"n\">HahnSeries</span><span class=\"kd\">]</span>\n<span class=\"n\">meta</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">unexpander</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">PrettyPrinter</span><span class=\"bp\">.</span><span class=\"n\">Unexpander</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$_</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">R</span><span class=\"o\">[</span><span class=\"bp\">$</span><span class=\"n\">M</span><span class=\"o\">])</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">throw</span><span class=\"w\"> </span><span class=\"o\">()</span>\n</code></pre></div>",
        "id": 562854093,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1765338796
    },
    {
        "content": "<p>Wait, this is unfortunate. <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=HahnSeries#doc\">docs#HahnSeries</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MonoidAlgebra#doc\">docs#MonoidAlgebra</a> use an opposite argument order! <code>R[G]</code> is <code>MonoidAlgebra R G</code> but <code>R⟦Γ⟧</code> is <code>HahnSeries Γ R</code>.</p>",
        "id": 562854373,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1765338960
    },
    {
        "content": "<p>Is that a problem?</p>",
        "id": 562854480,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1765339020
    },
    {
        "content": "<p>It's not. Just a mild inconsistency.</p>",
        "id": 562854514,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1765339037
    },
    {
        "content": "<p>It seems like a good idea to me.</p>",
        "id": 562859530,
        "sender_full_name": "Scott Carnahan",
        "timestamp": 1765341618
    },
    {
        "content": "<p>Your unexpander has a copy-paste-o</p>",
        "id": 562869514,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1765346475
    }
]