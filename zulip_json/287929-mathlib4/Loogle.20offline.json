[
    {
        "content": "<p>How do I run loogle offline? (or an alternative: when will there be internet access on the London tube?)</p>",
        "id": 515810430,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746225889
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> <span aria-label=\"thank you\" class=\"emoji emoji-1f64f\" role=\"img\" title=\"thank you\">:thank_you:</span></p>",
        "id": 515810489,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746225919
    },
    {
        "content": "<p><a href=\"https://github.com/nomeata/loogle\">https://github.com/nomeata/loogle</a></p>",
        "id": 515811195,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746226331
    },
    {
        "content": "<p>Can I configure the vscode plugin to use this instead of requesting a server?</p>",
        "id": 515811315,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746226410
    },
    {
        "content": "<p>There's a section that says</p>\n<blockquote>\n<p>Running locally</p>\n<hr>\n<p>To use <code>loogle</code> locally:</p>\n<ol>\n<li>check out this repository</li>\n<li>install <a href=\"https://github.com/leanprover/elan\">elan</a></li>\n<li>run <code>lake exe cache get</code></li>\n<li>run <code>lake exe loogle --help</code> (or other options)</li>\n</ol>\n<p>If you use <code>loogle</code> on a large repository like Mathlib, the startup-time will<br>\nbe rather large. Run <code>lake build LoogleMathlibCache</code> if you want to pre-compute<br>\nthe index for Mathlib.</p>\n<p>[elan]: <a href=\"https://github.com/leanprover/elan\">https://github.com/leanprover/elan</a></p>\n</blockquote>",
        "id": 515811388,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1746226442
    },
    {
        "content": "<p>I don't think you need the plug-in, you can just import it and write <code>#find</code></p>",
        "id": 515818496,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746230746
    },
    {
        "content": "<p>I don't think they are the same thing? <code>#find</code> is never usable to me; even a simple <code>#find AlgebraicGeometry.IsProper</code> times out for me.</p>",
        "id": 515819086,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746231093
    },
    {
        "content": "<p>Loogle overrides it I think (edit: <a href=\"https://github.com/nomeata/loogle/blob/b340a5b73a68fd54d624ac1f9c025c11f638bb53/Loogle/Find.lean#L650\">yes</a>)</p>",
        "id": 515819161,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746231124
    },
    {
        "content": "<p>Oh you mean installing loogle and import it?</p>",
        "id": 515819194,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746231150
    },
    {
        "content": "<p>Where \"install\" probably means \"add to lakefile\"</p>",
        "id": 515819284,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746231216
    },
    {
        "content": "<p>Or if you're in mathlib, clone loogle, point it at your mathlib, and create a dummy file in the loogle directory</p>",
        "id": 515819300,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746231230
    },
    {
        "content": "<p>Related: I recently opened an <a href=\"https://github.com/leanprover-community/LeanSearchClient/issues/19\">issue</a> at LeanSearchClient so that they'd make it possible to override hardcoded URLs via environment variables. If they make it happen, you'd also be able to use your offline/local loogle instance with <code>#loogle</code>.</p>",
        "id": 516000551,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1746341974
    },
    {
        "content": "<p>I just tried to install loogle (<code>git clone…</code>, <code>lake build LoogleMathlibCache</code>), but I get an error message “[INFO] LOOGLE_SECCOMP is not set” when I run <code>lake exe loogle</code>.</p>",
        "id": 522987019,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749400127
    },
    {
        "content": "<p>What I would try to do is to be able to use <code>loogle</code> either as command-line function, or especially when I'm offline, via <code>#loogle</code> in <code>nvim</code>…</p>",
        "id": 522987117,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749400230
    },
    {
        "content": "<p>Is it an error or just an info message?</p>",
        "id": 522988486,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1749401859
    },
    {
        "content": "<p>Indeed, an info.</p>",
        "id": 522989815,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749403492
    },
    {
        "content": "<p>Unclear, in fact, because it's quite slow.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">$</span><span class=\"w\"> </span><span class=\"n\">time</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">loogle</span><span class=\"w\"> </span><span class=\"s2\">\"IsUnit, ZMod\"</span>\n<span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">loogle</span><span class=\"w\"> </span><span class=\"s2\">\"IsUnit, ZMod\"</span><span class=\"w\">  </span><span class=\"mi\">30</span><span class=\"o\">,</span><span class=\"mi\">05</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">user</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">,</span><span class=\"mi\">66</span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">system</span><span class=\"w\"> </span><span class=\"mi\">98</span><span class=\"bp\">%</span><span class=\"w\"> </span><span class=\"n\">cpu</span><span class=\"w\"> </span><span class=\"mi\">32</span><span class=\"o\">,</span><span class=\"mi\">199</span><span class=\"w\"> </span><span class=\"n\">total</span>\n</code></pre></div>",
        "id": 522989985,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749403682
    },
    {
        "content": "<p>A related question: this works from within the <code>loogle</code> directory, but not otherwise, and I don't have a <code>loogle</code> executable program as the Loogle website suggests there could be.</p>",
        "id": 522990021,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1749403741
    },
    {
        "content": "<p>If you import loogle then you should be able to use <code>#find</code></p>",
        "id": 522991261,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1749405158
    },
    {
        "content": "<p>That should also be cached and so much faster after the first use</p>",
        "id": 522991269,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1749405164
    },
    {
        "content": "<p>How large is the index file for whole Mathlib?</p>",
        "id": 522993734,
        "sender_full_name": "Jz Pan",
        "timestamp": 1749407993
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Loogle.20offline/near/515810430\">said</a>:</p>\n<blockquote>\n<p>How do I run loogle offline? (or an alternative: when will there be internet access on the London tube?)</p>\n</blockquote>\n<p>Which extension do you mean?</p>",
        "id": 523001789,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1749418327
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"439483\">Andrew Yang</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Loogle.20offline/near/515810430\">said</a>:</p>\n<blockquote>\n<p>How do I run loogle offline? (or an alternative: when will there be internet access on the London tube?)</p>\n</blockquote>\n<p>Internet access on London tube is now a thing! There's 5G on the underground (at least on Piccadilly and Victoria lines) as of a few days ago</p>",
        "id": 523021296,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1749441735
    }
]