[
    {
        "content": "<p>In <a href=\"https://github.com/leanprover-community/mathlib4/pull/18923\">#18923</a> I locally add the <code>fun_prop</code> attribute to <code>DifferentiableAt.clog</code> in order to simplify a proof. <span class=\"user-mention\" data-user-id=\"307953\">@Ruben Van de Velde</span> then asked whether it would make sense to add the attribute immediately to the definition in <a href=\"https://tqft.net/mathlib4files/Mathlib/Analysis/SpecialFunctions/Complex/LogDeriv\">file#Mathlib/Analysis/SpecialFunctions/Complex/LogDeriv</a> . If so, I assume one should add the attribute to all (except the first two) declarations in this file. My question here is whether people think this makes sense: all these lemmas have the side condition <code>x ∈ slitPlane</code> or <code>f x ∈ slitPlane</code>, which <code>fun_prop</code> cannot automatically discharge. On the plus side, <code>fun_prop</code> will tell you exactly this, and so one can fix it by establishing the side condition via <code>have</code> and then do something like <code>fun_prop (disch := assumption)</code> (this is what I do in <a href=\"https://github.com/leanprover-community/mathlib4/pull/18923\">#18923</a>). Opinions? <span class=\"user-mention\" data-user-id=\"346070\">@Tomas Skrivan</span></p>",
        "id": 482347068,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1731577200
    },
    {
        "content": "<p>I think tagging all those lemmas makes perfect sense?</p>",
        "id": 482347321,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1731577287
    },
    {
        "content": "<p>(I'd like to decouple this question from the PR since I need the PR in to continue with the material needed for PNT etc.)</p>",
        "id": 482347329,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1731577292
    },
    {
        "content": "<p>I'm okay with keeping the attribute where it is for this PR as long as you do follow up</p>",
        "id": 482347808,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1731577435
    },
    {
        "content": "<p>I'll wait for more people to chime in here, and when a consensus emerges that adding the attribute is what we want, I'll make a PR.</p>",
        "id": 482347992,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1731577485
    },
    {
        "content": "<p>I'm not sure if there's any good argument for <em>not</em> using the <code>fun_prop</code> attribute (unless having too many lemmas with this tag creates performance issues?). </p>\n<p>Note that some lemmas have <code>fun_prop</code> attribute applied where they're defined, and some others get decorated with this attribute elsewhere, in files under <code>Mathlib/Tactic/FunProp</code>; I'm not quite sure why this is. (I would not be surprised if there are some lemmas getting tagged twice.)</p>",
        "id": 482357953,
        "sender_full_name": "David Loeffler",
        "timestamp": 1731580497
    },
    {
        "content": "<p><code>fun_prop</code> is rather recent, I think this is just an historical accident.</p>",
        "id": 482359041,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731580847
    },
    {
        "content": "<p>Anyway <a href=\"https://github.com/leanprover-community/mathlib4/pull/18923\">#18923</a> LGTM</p>",
        "id": 482359089,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1731580862
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/19032\">#19032</a> adds the <code>fun_prop</code> attribute (where allowed).</p>",
        "id": 482380594,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1731587696
    }
]