[
    {
        "content": "<p>I'm confused about something that came up in my recent (non-porting) PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/4505\">!4#4505</a><br>\nSpecifically, see this line: <a href=\"https://github.com/leanprover-community/mathlib4/blob/907342d3115927f903ea5ff48c828e7c65402d50/Mathlib/CategoryTheory/Sites/EffectiveEpimorphic.lean#L275\">https://github.com/leanprover-community/mathlib4/blob/907342d3115927f903ea5ff48c828e7c65402d50/Mathlib/CategoryTheory/Sites/EffectiveEpimorphic.lean#L275</a></p>\n<p>The simpNF linter complains about some lemmas, but it seems to me that the two lemmas are perfectly valid simp lemmas (one of them being automatically generated by reassoc). Can anyone tell why it's complaining?</p>",
        "id": 362307687,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1685484187
    },
    {
        "content": "<p>What is the actual complaint?</p>",
        "id": 362308510,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1685484568
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c\">/-</span><span class=\"cm\"> The `simpNF` linter reports:</span>\n<span class=\"cm\">SOME SIMP LEMMAS ARE NOT IN SIMP-NORMAL FORM.</span>\n<span class=\"cm\">see note [simp-normal form] for tips how to debug this.</span>\n<span class=\"cm\">https://leanprover-community.github.io/mathlib_docs/notes.html#simp-normal%20form -/</span>\n<span class=\"k\">#check</span> <span class=\"bp\">@</span><span class=\"n\">EffectiveEpiFamily.fac_assoc</span> <span class=\"c\">/-</span><span class=\"cm\"> Left-hand side does not simplify, when using the simp lemma on itself.</span>\n<span class=\"cm\">This usually means that it will never apply.</span>\n<span class=\"cm\"> -/</span>\n<span class=\"k\">#check</span> <span class=\"bp\">@</span><span class=\"n\">EffectiveEpiFamily.fac</span> <span class=\"c\">/-</span><span class=\"cm\"> Left-hand side does not simplify, when using the simp lemma on itself.</span>\n<span class=\"cm\">This usually means that it will never apply.</span>\n<span class=\"cm\"> -/</span>\n</code></pre></div>",
        "id": 362311716,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1685485993
    },
    {
        "content": "<p>But as you can clearly see in the two examples, the lemmas do indeed apply :)</p>",
        "id": 362311744,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1685486013
    }
]