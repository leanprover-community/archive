[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Lift</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n</code></pre></div>\n<p>produces</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">unexpected</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">to'</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">command</span>\n</code></pre></div>\n<p>Is someone able to fix this for us? Or have we just decided that <code>to</code> is not an acceptable field name if using Mathlib?</p>",
        "id": 517242170,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1746868650
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lift</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"lift \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"s2\">\" to \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\" using \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">)</span><span class=\"bp\">?</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"s2\">\" with \"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">tactic</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n</code></pre></div>\n<p>This is the culprit but why does a syntax in the <code>tactic</code> category trigger here?</p>",
        "id": 517242997,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1746869393
    },
    {
        "content": "<p>Personally I think both. imo  <code>to</code> seem very non-descriptive as a name, but I imagine that downstream projects should have freedom to do whatever they want, so the tactic shouldn't reserve it</p>",
        "id": 517243077,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1746869431
    },
    {
        "content": "<p>It would be a very reasonable name in a pair <code>ti</code> / <code>to</code>, i.e. a collection of \"t in\" and \"t out\" - $t_{i}$ and $t_{o}$ are definitely something I've seen in plenty of papers. (Granted they could be tᵢ and tₒ.)</p>",
        "id": 517262876,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1746887230
    },
    {
        "content": "<p>(did you mean to post this somewhere else?)</p>",
        "id": 517263140,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1746887430
    },
    {
        "content": "<p>No, it's relevant to naming things <code>to</code> (or <code>t\\_o</code>)</p>",
        "id": 517263339,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1746887628
    },
    {
        "content": "<p><code>&amp;\" to \"</code> fixes this</p>",
        "id": 517263406,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746887654
    },
    {
        "content": "<p>I am in favour of adding <code>&amp;</code>.  In general, forbidding two letter identifiers seems like it should be avoided.</p>",
        "id": 517386355,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1746989219
    },
    {
        "content": "<p>What does <code>&amp;</code> do?</p>",
        "id": 517408911,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1747009930
    },
    {
        "content": "<p>It makes the token not reserved</p>",
        "id": 517408979,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747010023
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> \"nonreserved\"</p>",
        "id": 517409057,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747010089
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Prelude.html#Lean.ParserDescr.nonReservedSymbol\">Lean.ParserDescr.nonReservedSymbol</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/SizeOf.html#Lean.ParserDescr.nonReservedSymbol.sizeOf_spec\">Lean.ParserDescr.nonReservedSymbol.sizeOf_spec</a>, and <a href=\"https://loogle.lean-lang.org/?q=%22nonreserved%22\">13 more</a></p>",
        "id": 517409059,
        "sender_full_name": "loogle",
        "timestamp": 1747010089
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.2ETactic.2ELift.20steals.20the.20token.20.60to.60/near/517263406\">said</a>:</p>\n<blockquote>\n<p><code>&amp;\" to \"</code> fixes this</p>\n</blockquote>\n<p>Sorry, I should have said in my original message that this doesn't work: we get lots of \"unexpected token\" errors when setting up the <code>elab_rules</code>. (I didn't diagnose any further.)</p>",
        "id": 517439794,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1747030969
    },
    {
        "content": "<p>I tried it with Andrew's mwe and it seemed to work</p>",
        "id": 517451724,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747035009
    },
    {
        "content": "<p>It doesn't work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lift</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"lift \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"bp\">&amp;</span><span class=\"s2\">\" to \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\" using \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">)</span><span class=\"bp\">?</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"s2\">\" with \"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"c1\">-- parses `to` as a name instead of a keyword</span>\n</code></pre></div>",
        "id": 517454346,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1747035703
    },
    {
        "content": "<p><code>syntax (name := lift) \"lift \" term:arg &amp;\" to \" term (\" using \" term)?</code> works</p>",
        "id": 517454855,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747035825
    },
    {
        "content": "<p>But I guess breaks <code>lift f a to</code></p>",
        "id": 517454933,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747035843
    },
    {
        "content": "<p>Yeah but it comes at a cost:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lift</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"lift \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">:</span><span class=\"n\">arg</span><span class=\"w\"> </span><span class=\"bp\">&amp;</span><span class=\"s2\">\" to \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\" using \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">)</span><span class=\"bp\">?</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"s2\">\" with \"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">tactic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"c1\">-- invalid token \"+\", expected \"to\"</span>\n</code></pre></div>",
        "id": 517455081,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1747035886
    },
    {
        "content": "<p>Yeah right</p>",
        "id": 517455103,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1747035893
    },
    {
        "content": "<p>Yeah, right so is it possible to have</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n</code></pre></div>\n<p>Hmm...</p>",
        "id": 517455875,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1747036091
    },
    {
        "content": "<p>Okay this seems to work:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Parser</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"w\"> </span><span class=\"n\">Parser</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">inline</span><span class=\"kd\">]</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Lean</span><span class=\"bp\">.</span><span class=\"n\">Parser</span><span class=\"bp\">.</span><span class=\"n\">ParserContext</span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">core</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ParserContextCore</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ParserContext</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">constructor</span>\n<span class=\"w\">  </span><span class=\"n\">assumption</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">withKeyword</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">tk</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">String</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">withFn</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span>\n<span class=\"w\">  </span><span class=\"k\">let</span><span class=\"w\"> </span><span class=\"n\">c'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ParserContext</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">.</span><span class=\"n\">mk</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">tokens</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"bp\">.</span><span class=\"n\">tokens</span><span class=\"bp\">.</span><span class=\"n\">insert</span><span class=\"w\"> </span><span class=\"n\">tk</span><span class=\"w\"> </span><span class=\"n\">tk</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"w\">  </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">c'</span><span class=\"w\"> </span><span class=\"n\">s</span>\n\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">termWithTo</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Parser</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">leading_parser</span><span class=\"w\"> </span><span class=\"n\">withKeyword</span><span class=\"w\"> </span><span class=\"s2\">\"to\"</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">categoryParser</span><span class=\"w\"> </span><span class=\"ss\">`term</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"o\">)</span>\n\n<span class=\"kn\">syntax</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">name</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">lift</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"s2\">\"lift \"</span><span class=\"w\"> </span><span class=\"n\">termWithTo</span><span class=\"w\"> </span><span class=\"bp\">&amp;</span><span class=\"s2\">\" to \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"s2\">\" using \"</span><span class=\"w\"> </span><span class=\"n\">term</span><span class=\"o\">)</span><span class=\"bp\">?</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"s2\">\" with \"</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">ppSpace</span><span class=\"w\"> </span><span class=\"n\">colGt</span><span class=\"w\"> </span><span class=\"n\">ident</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"o\">)</span><span class=\"bp\">?</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">tactic</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">True</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">lift</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mi\">3</span>\n</code></pre></div>",
        "id": 517460181,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1747037161
    },
    {
        "content": "<p>That fails on <code>lift (fun to =&gt; to) a to 3</code></p>",
        "id": 517469240,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747039259
    },
    {
        "content": "<p>But that's better than the status quo!</p>",
        "id": 517470101,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747039452
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.2ETactic.2ELift.20steals.20the.20token.20.60to.60/near/517469240\">said</a>:</p>\n<blockquote>\n<p>That fails on <code>lift (fun to =&gt; to) a to 3</code></p>\n</blockquote>\n<p>Anyone who tries that deserves pain anyway :-)</p>",
        "id": 517470850,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1747039637
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.2ETactic.2ELift.20steals.20the.20token.20.60to.60/near/517242170\">said</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Tactic</span><span class=\"bp\">.</span><span class=\"n\">Lift</span>\n\n<span class=\"kn\">structure</span><span class=\"w\"> </span><span class=\"n\">Foo</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Unit</span>\n</code></pre></div>\n<p>produces</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">unexpected</span><span class=\"w\"> </span><span class=\"n\">token</span><span class=\"w\"> </span><span class=\"bp\">'</span><span class=\"n\">to'</span><span class=\"bp\">;</span><span class=\"w\"> </span><span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"n\">command</span>\n</code></pre></div>\n<p>Is someone able to fix this for us? Or have we just decided that <code>to</code> is not an acceptable field name if using Mathlib?</p>\n</blockquote>\n<p>I recall this being a major point of discussion when <code>lift</code> was first added with this keyword. Yes, this is making <code>to</code> into a keyword and this means it can't be used in field names unless you use guillemets, just as you can't use <code>with</code> and <code>as</code> as variable names</p>",
        "id": 517488759,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747044017
    },
    {
        "content": "<p>Because of the way it is used, you can't use <code>&amp;\"to\"</code> here</p>",
        "id": 517488843,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747044038
    },
    {
        "content": "<p>that trick doesn't always work or else there would be no need for keywords in the first place</p>",
        "id": 517488966,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747044063
    },
    {
        "content": "<p>(certainly I have wanted to use <code>as</code> as a name on many occasions, e.g. in list functions with <code>a</code> and <code>as</code>)</p>",
        "id": 517489759,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747044227
    },
    {
        "content": "<p>Can we do <code>lift x → X</code>?</p>",
        "id": 517491291,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1747044558
    },
    {
        "content": "<p>no, <code>-&gt;</code> is already valid in expression position, it means a function type</p>",
        "id": 517491789,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747044654
    },
    {
        "content": "<p><code>lift x : X</code> could work?</p>",
        "id": 517492659,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1747044880
    },
    {
        "content": "<p>we could do <code>lift X from x</code>, i think?</p>",
        "id": 517492701,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1747044893
    },
    {
        "content": "<p>I'm just not sure why we are resurrecting this conversation</p>",
        "id": 517495092,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747045460
    },
    {
        "content": "<p>we had a poll and everything IIRC, we decided at the time to go with making this into a keyword</p>",
        "id": 517495310,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747045517
    },
    {
        "content": "<p>it's a very short english preposition, arguably not that different from <code>as</code>, <code>from</code>, <code>with</code>, <code>using</code></p>",
        "id": 517495425,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747045547
    },
    {
        "content": "<p>and it is nice to not have to contort grammar in tactics using an extremely short lexicon of prepositions</p>",
        "id": 517495544,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747045568
    },
    {
        "content": "<p>The <code>nonReservedSymbol</code> parser seems to take an additional <code>includeIdent</code> argument, would setting that to <code>true</code> help here?</p>",
        "id": 517522232,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747051700
    },
    {
        "content": "<p>The problem is not the \"to\" but the <code>term</code> before it parsing more than it should, so that shouldn't help.</p>",
        "id": 517533312,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1747054091
    },
    {
        "content": "<p>Also, <code>as</code> is not a keyword I don't think..?</p>",
        "id": 517533386,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1747054107
    },
    {
        "content": "<p>you're right, maybe I got confused with ML where <code>as</code> is a keyword. <code>at</code> is also a keyword in lean</p>",
        "id": 517559318,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1747058856
    }
]