[
    {
        "content": "<p>This is about a graph-theory PR but it's a general Mathlib question. btw I love the unused-fintype linter in general, but I'm not sure what to do here.</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/33501\">#33501</a> changes a def (<a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=SimpleGraph.degree#doc\">docs#SimpleGraph.degree</a>) from <code>s.toFinset.card</code> which has to assume <code>[Fintype s]</code>, to <code>s.ncard</code>, to avoid the <code>Fintype</code> assumption (<code>s</code> is a <code>Set</code> btw).<br>\nThis triggers the following:</p>\n<ul>\n<li>Changing a def means changing a bunch of places that defeq-abused</li>\n<li>The <code>unusedFintypeInType</code> now triggers on many theorems, and requires changing <code>[Fintype s]</code> to <code>[Finite s]</code>. I use <code>omit</code> instead of moving theorems between sections to make the diff bearable.</li>\n<li>Now using <code>Finite</code> on sets is <a href=\"https://github.com/leanprover-community/mathlib4/pull/33501#discussion_r2750695420\">discouraged</a>, and I have to change all the <code>[Finite s]</code> to <code>(h : s.Finite)</code> which triggers a ton of new places that break.</li>\n</ul>\n<p>I can do the work, but I worry that stuffing it all in a single PR makes it unlikely to be merged.<br>\nThe question is: can we do something to allow such refactors to chunk their changes, to help contributors/reviewers/maintainers?</p>\n<p>I thought about just adding a bunch of <code>set_option linter.unusedFintypeInType false</code>, is that reasonable given that I'm going to fix them in future PRs? (and hopefully soon)<br>\nOr can we change the policy to allow <code>[Finite s]</code> as a transient state?</p>\n<p>cc <span class=\"user-mention\" data-user-id=\"387244\">@YaÃ«l Dillies</span></p>",
        "id": 571297740,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1769962126
    },
    {
        "content": "<p>I think that indeed disabling linters at certain points is a good strategy.<br>\nEven if that bumps up the tech debt counters, you aren't adding tech debt, but exposing it.</p>",
        "id": 571369240,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1770020353
    }
]