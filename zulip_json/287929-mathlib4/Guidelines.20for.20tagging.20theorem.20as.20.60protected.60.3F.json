[
    {
        "content": "<p>Is there is a general guideline for when should one tag a new theorem as <code>protected</code> when contributing? </p>\n<p>I tried following what existing code does, but sometimes it seems inconsistent. For example <a href=\"https://github.com/leanprover-community/mathlib4/blob/44f760b7eedc79bdbd0aade893d545d16a2c58cf/Mathlib/Analysis/Asymptotics/AsymptoticEquivalent.lean#L257-L258\">Asymptotic.IsEquivalent.mul</a> is protected, but the similar theorem <a href=\"https://github.com/leanprover-community/mathlib4/blob/44f760b7eedc79bdbd0aade893d545d16a2c58cf/Mathlib/Analysis/Asymptotics/Defs.lean#L1251-L1255\">Asymptotic.IsBigO.mul</a> is not</p>",
        "id": 514647513,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1745761201
    },
    {
        "content": "<p>Generally, we're trying to protect theorems and definitions with common names. E.g., every lemma that has a version in <code>_root_</code> or other commonly open namespace with the same name should be protected. This became more important in Lean 4, because in</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">MyNamespace</span><span class=\"bp\">.</span><span class=\"n\">my_theorem</span><span class=\"w\"> </span><span class=\"bp\">...</span>\n</code></pre></div>\n<p>it automatically opens <code>MyNamespace</code>, but this was not the case for Lean 3. So, many theorems that come from Lean 3 and live in rarely <code>open</code>ed namespaces aren't <code>protected</code>.</p>",
        "id": 514649284,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745762686
    },
    {
        "content": "<p>PRs that add <code>protected</code> to lemmas are welcome!</p>",
        "id": 514649342,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745762725
    },
    {
        "content": "<p>I see. So in the example I linked, it is because <code>mul</code> is the name of the operator itself, and there are other closely related namespace like <code>Tendsto</code> that has <code>mul</code>, so it is desirable to have <code>protected</code>. I'll PR missing ones that I find</p>",
        "id": 514649669,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1745762972
    },
    {
        "content": "<p>On the one hand, I can't easily imagine a situation when both <code>Asymptotics.IsBigO</code> and <code>Filter.Tendsto</code> are <code>open</code>. OTOH, if this will occur, then the error message may be very strange.</p>",
        "id": 514649806,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745763072
    }
]