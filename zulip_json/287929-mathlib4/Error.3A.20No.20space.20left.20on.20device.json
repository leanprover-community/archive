[
    {
        "content": "<p>I pushed some changes to my PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/13710\">#13710</a> and the build immediately failed with<br>\n<code>Error: No space left on device : '/home/lean/actions-runner/_work/_actions/dcarbone/install-jq-action/v1.0.1'</code><br>\nWhat does this error mean?</p>",
        "id": 463530433,
        "sender_full_name": "Jack McKoen",
        "timestamp": 1724107739
    },
    {
        "content": "<p>The computer running the CI ran out of fish space. Nothing you did</p>",
        "id": 463531320,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1724107938
    },
    {
        "content": "<p>Thanks, that makes sense <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 463531889,
        "sender_full_name": "Jack McKoen",
        "timestamp": 1724108077
    },
    {
        "content": "<p>I've taken the faulty machine out of the pool of runners until it can be fixed; hopefully you won't run into this again if you re-run the job.</p>",
        "id": 463544918,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1724112947
    },
    {
        "content": "<p>I also hit this <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/10470648730/job/28996918110\">here</a>.</p>",
        "id": 463671886,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724154227
    },
    {
        "content": "<p>OK, I've removed that runner temporarily.</p>",
        "id": 463673621,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1724154677
    },
    {
        "content": "<p>According to <span class=\"user-mention\" data-user-id=\"128280\">@Wojciech Nawrocki</span> who is working on fixing this, there might be a branch or PR which is generating abnormally large oleans. Does that ring a bell for anyone?</p>",
        "id": 463781078,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1724179219
    },
    {
        "content": "<p>I saw abnormally large oleans earlier today</p>",
        "id": 463782149,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1724179587
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span></p>",
        "id": 463782171,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1724179597
    },
    {
        "content": "<p>But I saw failures yesterday too</p>",
        "id": 463782232,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1724179620
    },
    {
        "content": "<p>I was experimenting with the abnormally large oleans yesterday indeed...</p>",
        "id": 463788527,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724181089
    },
    {
        "content": "<p>I hope that the new PRs do not suffer from the same problem.</p>",
        "id": 463788747,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724181145
    },
    {
        "content": "<p>Was it all on <a href=\"https://github.com/leanprover-community/mathlib4/tree/adomani%2Flinter_assertNotExists_or_imported\">branch#adomani/linter_assertNotExists_or_imported</a>?</p>",
        "id": 463788909,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1724181193
    },
    {
        "content": "<p>I think that this one might be the good one.  If a branch starts with <code>test</code> or ends in <code>dev</code> it can safely be removed.</p>",
        "id": 463789131,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724181257
    },
    {
        "content": "<p>Unless of course that branch (<a href=\"https://github.com/leanprover-community/mathlib4/tree/adomani%2Flinter_assertNotExists_or_imported\">https://github.com/leanprover-community/mathlib4/tree/adomani%2Flinter_assertNotExists_or_imported</a>) has large oleans, in which case I need to work more on the PR.</p>",
        "id": 463789286,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724181306
    },
    {
        "content": "<p>(I'm not at a computer, so I'm not able to remove the branches that I think are large.)</p>",
        "id": 463789428,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724181351
    },
    {
        "content": "<p>I think it's OK if the branches exist in the repo; we just don't want CI to run on them. </p>\n<p>Though maybe we just need our CI workflow to clean up the runners more thoroughly.</p>",
        "id": 463790228,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1724181588
    },
    {
        "content": "<p>Anyway, I'll remove the branches, probably tomorrow.  If you want to remove the oleans as well, feel free to do so for all my PRs.</p>",
        "id": 463790657,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724181710
    },
    {
        "content": "<p>Is this just preventing future bloat or can things be cleaned out more surgically with precise knowledge of the problem?</p>",
        "id": 463790671,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1724181716
    },
    {
        "content": "<p>Should there be a CI step that reports the size of the oleans?</p>",
        "id": 463790852,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724181762
    },
    {
        "content": "<p>More info never hurts... probably.</p>",
        "id": 463791230,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1724181871
    },
    {
        "content": "<p>So, a <code>du</code> invocation in <code>check the cache</code>, maybe?</p>",
        "id": 463791985,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724182056
    },
    {
        "content": "<p>I had never considered this issue before, but calling <code>du -h</code>, even just on <code>.lake</code> should be cheap and informative.</p>",
        "id": 463792267,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724182126
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Error.3A.20No.20space.20left.20on.20device/near/463790852\">said</a>:</p>\n<blockquote>\n<p>Should there be a CI step that reports the size of the oleans?</p>\n</blockquote>\n<p>This is a good idea</p>",
        "id": 463792355,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1724182153
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Error.3A.20No.20space.20left.20on.20device/near/463789286\">said</a>:</p>\n<blockquote>\n<p>Unless of course that branch (<a href=\"https://github.com/leanprover-community/mathlib4/tree/adomani%2Flinter_assertNotExists_or_imported\">https://github.com/leanprover-community/mathlib4/tree/adomani%2Flinter_assertNotExists_or_imported</a>) has large oleans, in which case I need to work more on the PR.</p>\n</blockquote>\n<p>I don't think it's that branch, at least not on the latest commit. It produces about the expected size</p>",
        "id": 463799020,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1724184117
    },
    {
        "content": "<p>I am happy to hear that the oleans of that branch are normal-sized, since that is the branch that I contains the \"good\" version of the PR!</p>\n<p>I also think that <a href=\"https://github.com/leanprover-community/mathlib4/tree/adomani%2Flinter_assertNotExists_or_imported_dev\">branch#adomani/linter_assertNotExists_or_imported_dev</a> is the one with the big oleans and I deleted it.  The latest commit might have reasonable sized ones, but the earlier commits probably were the ones filling up memory: sorry!</p>",
        "id": 463965495,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724224347
    },
    {
        "content": "<p>Also, <a href=\"https://github.com/leanprover-community/mathlib4/pull/16020\">#16020</a> adds a report of the size of <code>.lake</code>.  Most of the space in <code>.lake</code> is the <code>olean</code>s, so I only added the size of the whole dir, rather than the sizes of all the subdirs.  Let me know if you think a more granular approach is more informative.</p>",
        "id": 463966889,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724224847
    },
    {
        "content": "<p>If you expand <code>check the cache</code> in <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/10485342177/job/29041305500?pr=16020\">this CI run</a>, the last line tells you the size of <code>.lake</code>.</p>",
        "id": 463968006,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724225265
    },
    {
        "content": "<p>I just got a \"no space left on device\" in CI for PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/22271\">#22271</a> (running on hoskinson2).</p>",
        "id": 501747558,
        "sender_full_name": "RÃ©my Degenne",
        "timestamp": 1740474838
    },
    {
        "content": "<p>I alao got this in <a href=\"https://github.com/leanprover-community/mathlib4/pull/22180\">#22180</a></p>",
        "id": 501761856,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1740478942
    },
    {
        "content": "<p>Me too, guess someone either needs to clear some caches or pay someone else more money <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 501762591,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1740479074
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/22280\">#22280</a> also hit this (does anyone dare merge it anyway? ;-) )</p>",
        "id": 501773596,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740481757
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 501773748,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740481792
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128280\">@Wojciech Nawrocki</span> Could you take a look when you have a chance?</p>",
        "id": 501782429,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1740483665
    },
    {
        "content": "<p>For now, I've removed the <code>bors</code> and <code>pr</code> tags from <code>hoskinson2</code> so no more jobs should go its way. I've also retriggered CI / bors on the abovementioned PRs.</p>",
        "id": 501783172,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1740483913
    },
    {
        "content": "<p>Can you restart <a href=\"https://github.com/leanprover-community/mathlib4/pull/22248\">#22248</a> as well?</p>",
        "id": 501792274,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1740486025
    },
    {
        "content": "<p>done</p>",
        "id": 501792895,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1740486219
    },
    {
        "content": "<p>(Note that if you have write access to mathlib, you should be able to restart failed jobs yourself by clicking the \"Re-run jobs\" button in the upper right corner on the CI job page: <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/13518357916/job/37780479089\">https://github.com/leanprover-community/mathlib4/actions/runs/13518357916/job/37780479089</a>)</p>",
        "id": 501794326,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1740486610
    },
    {
        "content": "<p>(this is true but it wasn't clear to me whether spamming the runners was a good idea when there was a problem with the runners)</p>",
        "id": 501799449,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740488166
    },
    {
        "content": "<p>Right, I maybe also should have added: in general don't try re-running a job unless you have a reasonable expectation that the same thing won't happen again. Also, if you have to resort to re-running, it's probably a good idea to report it on Zulip as well. In this case it doesn't look like any other runners are broken and there's already a thread here so it's pretty safe.</p>",
        "id": 501801564,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1740488761
    },
    {
        "content": "<p>My ignorance of the system is sufficiently deep that I didn't know whether (a) hitting retry would send it to the same machine again and (b) whether one machine having the problem meant that all machines had the problem. This was why I didn't retry. I was happy to wait :-)</p>",
        "id": 501807990,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1740490639
    },
    {
        "content": "<p>With regards to (a), GitHub actions searches for a new runner every time a job is started. To be quite honest I was gambling a bit on (b) not being the case - I figured that the worst that could happen is that we'd find out a few more runners were broken, and better to find out sooner rather than later, so that Wojciech can reset them all in one go.</p>",
        "id": 501809486,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1740491053
    },
    {
        "content": "<p>The main issue seems to be ~60GiB of <code>.cache</code>. There is already code to <a href=\"https://github.com/leanprover-community/mathlib4/blob/73d6d99bacafdf78b909d8ea1e69e242fe43864a/.github/build.in.yml#L88\">cleanup the toolchains</a>, should there also be something to clean up <code>.cache</code>?</p>",
        "id": 501888096,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1740509947
    },
    {
        "content": "<p><code>hoskinson2</code> should be back up.</p>",
        "id": 501888975,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1740510238
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"128280\">@Wojciech Nawrocki</span> Fyi, <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/13537788604/job/37832486061\">this build</a> makes it seem like <code>hoskinson7</code> has the same issue:)</p>",
        "id": 501971661,
        "sender_full_name": "Pim Otte",
        "timestamp": 1740551272
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span> , indeed it looks like <code>hoskinson7</code> is also full.</p>",
        "id": 501977517,
        "sender_full_name": "SÃ©bastien GouÃ«zel",
        "timestamp": 1740554410
    },
    {
        "content": "<p>Yes, just hit this on <code>hoskinson7</code> for <a href=\"https://github.com/leanprover-community/mathlib4/pull/22248\">#22248</a> as well</p>",
        "id": 502000980,
        "sender_full_name": "Jakob von Raumer",
        "timestamp": 1740562875
    },
    {
        "content": "<p>Maybe the runners can do a weekly/monthly <code>lake exe cache clean</code>?</p>",
        "id": 502010179,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1740565492
    },
    {
        "content": "<p>I've removed the <code>pr</code> and <code>bors</code> labels from <code>hoskinson7</code>. BTW, any maintainer should be able to do this via <a href=\"https://github.com/organizations/leanprover-community/settings/actions/runners\">https://github.com/organizations/leanprover-community/settings/actions/runners</a> (click on the runner name, then on the gear icon next to the list of tags to edit them)</p>",
        "id": 502047358,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1740576700
    },
    {
        "content": "<p>I tried to do this just now, but didn't find how to do this (I tried to press the dots to the right of the runner, which only gives the option to delete the runner).</p>",
        "id": 502048420,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1740577028
    },
    {
        "content": "<p>Oh, can't you click the runner name itself? Doing so takes me to a page like this: <a href=\"https://github.com/organizations/leanprover-community/settings/actions/runners/106\">https://github.com/organizations/leanprover-community/settings/actions/runners/106</a><br>\n<strong>edit</strong>: ah, I guess maybe you meant before you saw my message</p>",
        "id": 502048692,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1740577103
    },
    {
        "content": "<p>Cleaned <code>hoskinson7</code>. Actually, cleaned all of them as they all seem to be running out of <code>.cache</code> space. This may result in some one-off build failures.</p>",
        "id": 502105284,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1740591346
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"123965\">Bryan Gin-ge Chen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Error.3A.20No.20space.20left.20on.20device/near/502048692\">said</a>:</p>\n<blockquote>\n<p>Oh, can't you click the runner name itself? Doing so takes me to a page like this: <a href=\"https://github.com/organizations/leanprover-community/settings/actions/runners/106\">https://github.com/organizations/leanprover-community/settings/actions/runners/106</a><br>\n<strong>edit</strong>: ah, I guess maybe you meant before you saw my message</p>\n</blockquote>\n<p>Sorry, I indeed wasn't clear in my previous message. I indeed meant before reading what you wrote. Thanks for the clarification!</p>",
        "id": 502171891,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1740616598
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"128280\">ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Error.3A.20No.20space.20left.20on.20device/near/501888096\">said</a>:</p>\n<blockquote>\n<p>The main issue seems to be ~60GiB of <code>.cache</code>. There is already code to <a href=\"https://github.com/leanprover-community/mathlib4/blob/73d6d99bacafdf78b909d8ea1e69e242fe43864a/.github/build.in.yml#L88\">cleanup the toolchains</a>, should there also be something to clean up <code>.cache</code>?</p>\n</blockquote>\n<p>FYI, we are seeing more build failures because of this. I would recommend adding a <code>.cache</code> cleaning step.</p>",
        "id": 504960599,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1741728625
    },
    {
        "content": "<p>If someone can confirm that all we need is a weekly action to run <code>lake exe cache clean</code> on the self-hosted runners than I can put that together later today.</p>",
        "id": 504962632,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741729300
    },
    {
        "content": "<p>I cannot confirm that it won't run out of space for other reasons, but all of the runner disk space issues happening recently have been due to <code>.cache</code> folders growing large; it would certainly help prevent that.</p>",
        "id": 504964166,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1741729807
    },
    {
        "content": "<p>If I understand the CI scripts, cleaning toolchains happens on every build. Are you suggesting to have a dedicated CI action just for cleaning <code>.cache</code> that is somehow scheduled to run weekly?</p>",
        "id": 504964402,
        "sender_full_name": "ğš ğš˜ğš“ğšŒğš’ğšğšŒğš‘ ğš—ğšŠğš ğš›ğš˜ğšŒğš”ğš’",
        "timestamp": 1741729903
    },
    {
        "content": "<p>That was my understanding of <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span>â€™s message above; sorry, I should have linked it earlier:</p>\n<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Error.3A.20No.20space.20left.20on.20device/near/502010179\">said</a>:</p>\n<blockquote>\n<p>Maybe the runners can do a weekly/monthly <code>lake exe cache clean</code>?</p>\n</blockquote>",
        "id": 504979162,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741734746
    },
    {
        "content": "<p>Ah, thinking about this more, the CI action approach doesn't really make sense after all, since it's not guaranteed that it will run on every machine. Not sure what I was thinking... would it be possible to set up a weekly cron job on the machines that runs <code>lake exe cache clean</code> then? Maybe we could even have them each send a weekly message to a Zulip channel with basic diagnostic info.</p>",
        "id": 505002167,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741744149
    },
    {
        "content": "<p>Why not just include this in the standard CI? On every run, check the size of the cache directory, and if it is above some limit, clear it out.</p>",
        "id": 505004003,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1741744888
    },
    {
        "content": "<p>One could even be clever and delete the oldest files, hopefully avoiding any cache misses.</p>",
        "id": 505004073,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1741744918
    },
    {
        "content": "<p>OK! I put together something (with Claude's help) in <a href=\"https://github.com/leanprover-community/mathlib4/pull/22863\">#22863</a>.</p>",
        "id": 505020889,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741751398
    },
    {
        "content": "<p>I guess a potential cron job might remove a bunch of oleans in the middle of a CI run, which would be an exciting new way of things going wrong...</p>",
        "id": 505058947,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1741767744
    },
    {
        "content": "<p>The <code>I'm feeling naughty</code> cron job.</p>",
        "id": 505060937,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1741768312
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"123965\">Bryan Gin-ge Chen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Error.3A.20No.20space.20left.20on.20device/near/505020889\">said</a>:</p>\n<blockquote>\n<p>OK! I put together something (with Claude's help) in <a href=\"https://github.com/leanprover-community/mathlib4/pull/22863\">#22863</a>.</p>\n</blockquote>\n<p>This is now merged so hopefully this thread will be quiet from now on...</p>",
        "id": 505203676,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741800935
    },
    {
        "content": "<p>I'd suggest at least some way of getting a feel for how big the current mathlib cache is. Losing track of this number will <em>some day</em> put maintainers in a hurry, with a tight response time.</p>\n<p>One loose method is following up the <code>cache clean</code> with a message to be posted here on Zulip. Then if the cleanup is being performed every two weeks or so, things are about to get really ugly.</p>",
        "id": 505220068,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1741804940
    },
    {
        "content": "<p>For the time being, the workflow step is <a href=\"https://github.com/leanprover-community/mathlib4/actions/runs/13817955432/job/38655970037#step:3:24\">logging the total size of the cache folder on that specific machine</a>: looks like it's around 5 GB on <code>hoskinson9</code> at the moment.</p>",
        "id": 505224928,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741806282
    },
    {
        "content": "<p>Minor: with <code>du -sh</code> instead of <code>du -sb</code> it would print the size in \"human readable format\". (e.g. 1K, 234M, 2G etc). So you'd be able to remove the \"(in bytes)\" part from the printed string. Though I see you're using that same number for the check of size</p>",
        "id": 505230712,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1741807882
    },
    {
        "content": "<p>I'm getting</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">actions</span><span class=\"bp\">-</span><span class=\"n\">runner</span><span class=\"bp\">/_</span><span class=\"n\">work</span><span class=\"bp\">/_</span><span class=\"n\">temp</span><span class=\"bp\">/</span><span class=\"mi\">2</span><span class=\"n\">ee3dddc</span><span class=\"bp\">-</span><span class=\"n\">a39c</span><span class=\"bp\">-</span><span class=\"mi\">4</span><span class=\"n\">a1f</span><span class=\"bp\">-</span><span class=\"mi\">94</span><span class=\"n\">d4</span><span class=\"bp\">-</span><span class=\"mi\">804</span><span class=\"n\">fedfb62b4</span><span class=\"bp\">.</span><span class=\"n\">sh</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span>\n<span class=\"n\">Cache</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"mi\">47178990759</span>\n<span class=\"n\">Cache</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"n\">exceeds</span><span class=\"w\"> </span><span class=\"n\">threshold</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">running</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">clean</span>\n<span class=\"n\">Error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"n\">completed</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mf\">127.</span>\n</code></pre></div>\n<p>on <a href=\"https://github.com/leanprover-community/mathlib4/pull/22885\">#22885</a></p>",
        "id": 505234026,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1741808845
    },
    {
        "content": "<p>Ah, that was silly. <code>lake</code> isn't installed yet in that step. <span aria-label=\"man facepalming\" class=\"emoji emoji-1f926-200d-2642\" role=\"img\" title=\"man facepalming\">:man_facepalming:</span> <br>\nLet me put together a quick fix.</p>",
        "id": 505235364,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741809247
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> if you're around, would mind putting <a href=\"https://github.com/leanprover-community/mathlib4/pull/22887\">#22887</a> on the queue real quick before this breaks more builds? Looks like we have a red checkmark on <code>master</code> due to this issue as well... for now I'll remove the tags from <code>hoskinson5</code> temporarily.</p>",
        "id": 505237306,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741809819
    },
    {
        "content": "<p>Oops, I should have also noticed that lake was not available!</p>",
        "id": 505237936,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1741810020
    },
    {
        "content": "<p>Seems I bumped into another machine with almost full cache:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"bp\">/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">lean</span><span class=\"bp\">/</span><span class=\"n\">actions</span><span class=\"bp\">-</span><span class=\"n\">runner</span><span class=\"bp\">/_</span><span class=\"n\">work</span><span class=\"bp\">/_</span><span class=\"n\">temp</span><span class=\"bp\">/</span><span class=\"mi\">92</span><span class=\"n\">b4c16c</span><span class=\"bp\">-</span><span class=\"mi\">37</span><span class=\"n\">b2</span><span class=\"bp\">-</span><span class=\"mi\">4537</span><span class=\"bp\">-</span><span class=\"mi\">88</span><span class=\"n\">b9</span><span class=\"bp\">-</span><span class=\"mi\">6011</span><span class=\"n\">d77103cc</span><span class=\"bp\">.</span><span class=\"n\">sh</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">line</span><span class=\"w\"> </span><span class=\"mi\">17</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">command</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span>\n<span class=\"n\">Cache</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"o\">):</span><span class=\"w\"> </span><span class=\"mi\">43540418002</span>\n<span class=\"n\">Cache</span><span class=\"w\"> </span><span class=\"n\">size</span><span class=\"w\"> </span><span class=\"n\">exceeds</span><span class=\"w\"> </span><span class=\"n\">threshold</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">running</span><span class=\"w\"> </span><span class=\"n\">lake</span><span class=\"w\"> </span><span class=\"n\">exe</span><span class=\"w\"> </span><span class=\"n\">cache</span><span class=\"w\"> </span><span class=\"n\">clean</span>\n<span class=\"n\">Error</span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Process</span><span class=\"w\"> </span><span class=\"n\">completed</span><span class=\"w\"> </span><span class=\"k\">with</span><span class=\"w\"> </span><span class=\"n\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span><span class=\"w\"> </span><span class=\"mf\">127.</span>\n</code></pre></div>",
        "id": 505238319,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1741810141
    },
    {
        "content": "<p>Looks like that was <code>hoskinson1</code> this time. Sorry for all the trouble!</p>",
        "id": 505238680,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741810249
    },
    {
        "content": "<p>No worries, thanks for the quick fix!</p>",
        "id": 505238997,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1741810349
    },
    {
        "content": "<p>The PR with the fix seems to be going well through CI!</p>",
        "id": 505239059,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1741810368
    },
    {
        "content": "<p>And the \"clean up\" step was executed and gave no problem.</p>",
        "id": 505239158,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1741810400
    },
    {
        "content": "<p>Great! I've re-enabled <code>hoskinson1</code> and <code>hoskinson5</code>.</p>",
        "id": 505240632,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1741810849
    }
]