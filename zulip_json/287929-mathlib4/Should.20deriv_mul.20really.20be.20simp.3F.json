[
    {
        "content": "<p>I just checked:</p>\n<ul>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=deriv_mul#doc\">docs#deriv_mul</a> is marked simp, but <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=fderiv_mul#doc\">docs#fderiv_mul</a> is not</li>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=deriv_comp#doc\">docs#deriv_comp</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=fderiv_comp#doc\">docs#fderiv_comp</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=mfderiv_comp#doc\">docs#mfderiv_comp</a> are not simp</li>\n</ul>\n<p>Should deriv_mul really be marked simp?</p>",
        "id": 545307551,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760618995
    },
    {
        "content": "<p>This was pointed out at the SLMath/ICARM workshop, and I just discovered that fderiv and deriv are not consistent here.</p>",
        "id": 545307729,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760619023
    },
    {
        "content": "<p>Some time ago, there was an effort to make <code>simp</code> compute derivatives using lemmas like <code>deriv_mul</code>.</p>",
        "id": 545313730,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1760620025
    },
    {
        "content": "<p>I think we should use aesop instead of simp here</p>",
        "id": 545315101,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760620238
    },
    {
        "content": "<p>What <code>aesop</code> features are useful in this context?</p>",
        "id": 545315452,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1760620291
    },
    {
        "content": "<p>I think that a better approach is to use something like <code>fun_prop</code> machinery to construct a <code>HasDerivAt</code> predicate, then get <code>deriv</code> from there. This way we don't need to repeat <code>DifferentiableAt</code> proofs over and over.</p>",
        "id": 545315761,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1760620332
    },
    {
        "content": "<p>Indeed, the right fix would be to get <span class=\"user-mention\" data-user-id=\"346070\">@Tomas Skrivan</span>'s data_synth tactic into mathlib. (I'll be very excited when that happens!!)</p>",
        "id": 545317947,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760620679
    },
    {
        "content": "<p>Yeah sorry I have not done that yet. I'm still struggling as I don't want to duplicate too much code between SciLean and Mathlib, but for SciLean I constantly need to adjust performance of <code>data_synth</code> as it needs to handle large expressions.</p>\n<p>For the purpose of mathlib I think I will just extend <code>fun_prop</code> to properly handle meta variables in the goal like in <code>HasFDeriv R f ?f x</code>.</p>\n<p>But do not expect anything too soon, I started a new job few weeks ago so I don't have much time for Lean any more.</p>",
        "id": 545322548,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1760621410
    },
    {
        "content": "<p>Good luck at your new job! Are you looking for volunteers to port <code>data_synth</code> to Mathlib?</p>",
        "id": 545326434,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1760622015
    },
    {
        "content": "<p>I think I have to do it myself. There is lots of experimental code that needs to be gutted and there are still some crucial things missing.</p>",
        "id": 545360451,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1760626849
    }
]