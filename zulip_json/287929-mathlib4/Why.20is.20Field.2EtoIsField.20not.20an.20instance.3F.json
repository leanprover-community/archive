[
    {
        "content": "<p>Why is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Field.toIsField#doc\">docs#Field.toIsField</a> not an instance?</p>",
        "id": 464588350,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1724403365
    },
    {
        "content": "<p>Because <code>IsField</code> is not a class, I would guess</p>",
        "id": 464588432,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1724403396
    },
    {
        "content": "<p>Never mind... because <code>IsField</code> is not a class</p>",
        "id": 464588441,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1724403401
    },
    {
        "content": "<p>So.... why... is <code>IsField</code> not a class?</p>",
        "id": 464588505,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1724403424
    },
    {
        "content": "<p>I think because most people use <code>¬ IsField R</code></p>",
        "id": 464588567,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1724403452
    },
    {
        "content": "<p>hmm, good point</p>",
        "id": 464590708,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1724403851
    },
    {
        "content": "<p>Maybe we should have <code>class IsntField</code></p>",
        "id": 464606988,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1724408127
    },
    {
        "content": "<p>I worried for 30 seconds at the prospect that R wouldn't be a field. Ok.</p>",
        "id": 464643466,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1724417368
    },
    {
        "content": "<p><a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=DiscreteValuationRing#doc\">docs#DiscreteValuationRing</a></p>",
        "id": 464765720,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1724459087
    },
    {
        "content": "<p>(I also remember some discussions about making Dedekind domains <code>IsntField</code>)</p>",
        "id": 464765870,
        "sender_full_name": "Adam Topaz",
        "timestamp": 1724459243
    },
    {
        "content": "<p>I really like it that <code>IsntField</code> vs <code>instField</code> isn't confusing at all <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 464797480,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1724480540
    },
    {
        "content": "<p>Can't wait for <code>instIsntField</code></p>",
        "id": 464803646,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1724483482
    },
    {
        "content": "<p>If there were an <code>instance : IsntField ℤ</code>, would typeclass inference know not to look for <code>Field ℤ</code>?  If it were the case, this could be a way of systematically short-circuiting TC searches that are \"obviously\" going to fail.</p>",
        "id": 464804597,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1724484333
    },
    {
        "content": "<p>Just to be clear, my comment was made in jest, but it's certainly true that it's annoying that fields are regarded as Dedekind domains in the literature because in practice you actually want a word for \"smooth affine curve\" and what the literature offers is \"smooth affine curve or a point\". I remember that Maria Ines had to prove that integers of number fields weren't fields, for example.</p>",
        "id": 464811121,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1724488706
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"321459\">Damiano Testa</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Why.20is.20Field.2EtoIsField.20not.20an.20instance.3F/near/464804597\">said</a>:</p>\n<blockquote>\n<p>If there were an <code>instance : IsntField ℤ</code>, would typeclass inference know not to look for <code>Field ℤ</code>?  If it were the case, this could be a way of systematically short-circuiting TC searches that are \"obviously\" going to fail.</p>\n</blockquote>\n<p>I think we'll need some systematic data to decide whether such a feature is a good idea.</p>",
        "id": 465165457,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1724674863
    },
    {
        "content": "<p>To be more precise:</p>\n<ul>\n<li>how often does TC synth go down a path that will \"obviously fail\"?</li>\n<li>how quickly does it recover with the current algo?</li>\n<li>in how many of these cases can we reasonably expect the \"opposite\" TC problem to succeed quickly?</li>\n<li>and vice versa, in how many cases will the \"opposite\" TC problem be a complete waste of time?</li>\n</ul>",
        "id": 465165801,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1724674963
    }
]