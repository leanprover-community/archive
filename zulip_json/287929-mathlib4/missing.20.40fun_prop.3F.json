[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n\n<span class=\"kn\">abbrev</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\">  </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"bp\">ᵐᵒᵖ</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Prod</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">id</span><span class=\"w\"> </span><span class=\"n\">MulOpposite</span><span class=\"bp\">.</span><span class=\"n\">op</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">continuity</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">fun_prop</span><span class=\"w\"> </span><span class=\"c1\">-- fails?!</span>\n\n<span class=\"kn\">attribute</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">fun_prop</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">MulOpposite</span><span class=\"bp\">.</span><span class=\"n\">continuous_op</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Continuous</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">fun_prop</span><span class=\"w\"> </span><span class=\"c1\">-- works</span>\n</code></pre></div>\n<p>Does this just mean \"I should just make a PR giving <code>MulOpposite.continuous_op</code>(and <code>..._unop</code>)  the <code>fun_prop</code> attribute\" or are things more complicated than this? I've never used <code>fun_prop</code> before. I see <code>continuous_id</code> is tagged <code>continuity</code> but not <code>fun_prop</code> for example, so I'm a bit confused.</p>",
        "id": 525714985,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1750858636
    },
    {
        "content": "<p>I think you can just add it</p>",
        "id": 525715119,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1750858683
    },
    {
        "content": "<p>There are regularly PRs which add the <code>fun_prop</code> tag to some lemma which misses it.</p>",
        "id": 525716155,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1750859012
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/26406\">#26406</a> . Why doesn't <code>continuous_id</code> get the <code>fun_prop</code> tag? Presumably <code>fun_prop</code> is seeing through <code>id</code>?</p>",
        "id": 525719327,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1750859862
    },
    {
        "content": "<p><code>continuous_id'</code> has the <code>@[fun_prop]</code> tag, and that is sufficient for <code>fun_prop</code>. Similarly, because <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Continuous.cexp#doc\">docs#Continuous.cexp</a> is <code>@[fun_prop]</code>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Complex.continuous_exp#doc\">docs#Complex.continuous_exp</a> doesn't need to be. (the other way around is also fine, IIRC)</p>",
        "id": 525752254,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1750869546
    }
]