[
    {
        "content": "<p>In my pull request <a href=\"https://github.com/leanprover-community/mathlib4/pull/15536\">https://github.com/leanprover-community/mathlib4/pull/15536</a>, the reviewer commented about \"non-terminal <code>simp</code>\". I wonder which tactic sequence will be considered as non-terminal <code>simp</code>; some of non-terminal <code>simp</code>s would not be checked by <code>script/lint-style.sh</code>. Will <code>simp; omega</code>, <code>simp at hl; simp</code>, <code>simp at hl; simp [hl]</code> be considered as non-terminal <code>simp</code>?</p>",
        "id": 457321576,
        "sender_full_name": "Shuhao Song",
        "timestamp": 1723111000
    },
    {
        "content": "<p><a href=\"#narrow/stream/287929-mathlib4/topic/Non-terminal.20simps/near/457321576\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/stream/287929-mathlib4/topic/New.20syntax.20for.20weak.20options\">#mathlib4 &gt; New syntax for weak options</a> by <span class=\"user-mention silent\" data-user-id=\"719792\">Shuhao Song</span>.</p>",
        "id": 457321611,
        "sender_full_name": "Notification Bot",
        "timestamp": 1723111018
    },
    {
        "content": "<p>I think <code>simp at hl; simp [hl]</code> can usually be written <code>simpa using hl</code>?</p>",
        "id": 457321930,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1723111113
    },
    {
        "content": "<p><code>simp; omega</code> is allowed, I think, although perhaps if you have reason to suspect fragility it could still be avoided. It is very satisfying when it works, of course. :-)</p>",
        "id": 457333408,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1723113552
    },
    {
        "content": "<p>Also, <code>lint-style.sh</code> won't check for non-terminal <code>simp</code> <em>at all</em>.</p>",
        "id": 457375173,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1723124895
    },
    {
        "content": "<p>The issue with <code>simp at hl; simp [hl]</code> is that we may add a lemma in the future that changes the result of <code>simp at hl</code>.</p>",
        "id": 457451924,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1723143388
    },
    {
        "content": "<p>Though <code>simp_all</code> does roughly the same and is allowed.</p>",
        "id": 457451998,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1723143407
    },
    {
        "content": "<p>we don't allow <code>simp_all</code> as non-closing, do we?</p>",
        "id": 457459293,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1723145052
    },
    {
        "content": "<ul>\n<li><code>simp at hl; simp [hl]</code> (this pair closes the goal) has a non-terminal <code>simp</code> and I'm not sure if this version is allowed</li>\n<li><code>simp_all</code> (closing the goal) is allowed but is roughly equivalent to the previous one.</li>\n</ul>",
        "id": 457461122,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1723145620
    },
    {
        "content": "<p>For what it's worth, the \"flexible\" linter would allow this sequence of tactics: it considers a target (hypothesis or goal) \"stained\" if a tactic like simp acted on it and then only allows stained targets to be targets of simp-like tactics.  The prototypical non-simp-like tactic is rw, but, by default, every tactic is non-simp-like, unless explicitly mentioned otherwise.</p>",
        "id": 457467421,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723147810
    },
    {
        "content": "<p>Simp-like tactics are called flexible (and include also omega, aesop, tauto), the other tactics are called rigid (by the linter).</p>",
        "id": 457467800,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1723147890
    }
]