[
    {
        "content": "<p>This code doesn't work, probably because it is aimed at an older version of Mathlib. Can someone propose a working version?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Field</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">VectorSpace</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">)</span>\n\n<span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">vec_prop1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">intro</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"k\">have</span><span class=\"w\"> </span><span class=\"n\">h_sub</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">•</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">sub_eq_zero_of_eq</span><span class=\"w\"> </span><span class=\"n\">h</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">sub_smul</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"k\">at</span><span class=\"w\"> </span><span class=\"n\">h_sub</span>\n<span class=\"w\">  </span><span class=\"n\">cases</span><span class=\"w\"> </span><span class=\"n\">smul_eq_zero</span><span class=\"bp\">.</span><span class=\"n\">mp</span><span class=\"w\"> </span><span class=\"n\">h_sub</span><span class=\"w\"> </span><span class=\"k\">with</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inl</span><span class=\"w\"> </span><span class=\"n\">h_ab</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">left</span>\n<span class=\"w\">                </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_ab</span>\n<span class=\"w\">  </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">inr</span><span class=\"w\"> </span><span class=\"n\">h_x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">right</span>\n<span class=\"w\">               </span><span class=\"n\">exact</span><span class=\"w\"> </span><span class=\"n\">h_x</span>\n<span class=\"bp\">#</span><span class=\"n\">min_imports</span>\n</code></pre></div>",
        "id": 500610729,
        "sender_full_name": "Zillion Demor",
        "timestamp": 1739959603
    },
    {
        "content": "<p>I don't think <code>VectorSpace</code>  ever existed in lean 4. Where did you get this code?</p>",
        "id": 500611600,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1739959838
    },
    {
        "content": "<p>You'll want <code>[AddCommGroup V] [Module F V]</code> instead of that <code>VectorSpace F V</code>. And then you'll still have some small errors in the proof, but nothing hard to fix.</p>",
        "id": 500612111,
        "sender_full_name": "Rémy Degenne",
        "timestamp": 1739959985
    },
    {
        "content": "<p>Now I think I understand why LLMs never could get a Lean code right. They are hallucinating the imports, namespaces and types</p>",
        "id": 500613356,
        "sender_full_name": "Zillion Demor",
        "timestamp": 1739960346
    },
    {
        "content": "<p>Please do not post LLM-generated code without explicitly saying what you are doing.</p>",
        "id": 500614236,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1739960621
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110031\">@Patrick Massot</span>  Ok. Got it<span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
        "id": 500614394,
        "sender_full_name": "Zillion Demor",
        "timestamp": 1739960660
    },
    {
        "content": "<p>And please consider actually learning Lean if you are interested in using it.</p>",
        "id": 500614406,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1739960664
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"750430\">Zillion Demor</span> has marked this topic as resolved.</p>",
        "id": 500615354,
        "sender_full_name": "Notification Bot",
        "timestamp": 1739960922
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110031\">Patrick Massot</span> <a href=\"#narrow/channel/287929-mathlib4/topic/.E2.9C.94.20Translate.20code.20from.20an.20older.20Lean.2FMathlib/near/500614236\">said</a>:</p>\n<blockquote>\n<p>Please do not post LLM-generated code without explicitly saying what you are doing.</p>\n</blockquote>\n<p>This has come up several times before but unfortunately I think that as a community we're going to find it hard to enforce this in any way or even send this message out to the community, because most people who do this are new members and such a message might even be their first message. Zulip is completely overwhelming for new members.</p>",
        "id": 500623580,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1739963426
    },
    {
        "content": "<p>We can arrange to bots to automatically send messages to new users!</p>",
        "id": 500623917,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1739963533
    },
    {
        "content": "<p>I don't follow #**new members, but perhaps someone who does could propose what should be said in such welcome messages? It seems we could give a lot of useful advice up front.</p>",
        "id": 500624062,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1739963578
    }
]