[
    {
        "content": "<p>Is this missing, or am I doing something wrong?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">X</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MetricSpace</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CompleteSpace</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">]</span>\n<span class=\"w\">  </span><span class=\"o\">(</span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">X</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IsClosed</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"o\">]</span>\n\n<span class=\"bp\">#</span><span class=\"n\">synth</span><span class=\"w\"> </span><span class=\"n\">MetricSpace</span><span class=\"w\"> </span><span class=\"n\">S</span>\n<span class=\"bp\">#</span><span class=\"n\">synth</span><span class=\"w\"> </span><span class=\"n\">UniformSpace</span><span class=\"w\"> </span><span class=\"n\">S</span>\n<span class=\"c1\">-- fails #synth CompleteSpace S</span>\n</code></pre></div>",
        "id": 535358689,
        "sender_full_name": "Yoh Tanimoto",
        "timestamp": 1755709914
    },
    {
        "content": "<p>What's your use case?</p>",
        "id": 535358781,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755709954
    },
    {
        "content": "<p>the theorem is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsClosed.isComplete#doc\">docs#IsClosed.isComplete</a> but it's not an instance</p>",
        "id": 535358826,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755709978
    },
    {
        "content": "<p>I want to use that for closed <code>Submodule</code>s in <code>InnerProductSpace</code> <code>CompleteSpace</code> so that <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/InnerProductSpace/Projection/Basic.html#Submodule.HasOrthogonalProjection\">Submodule.HasOrthogonalProjection</a> is automatic through <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Analysis/InnerProductSpace/Projection/Basic.html#Submodule.HasOrthogonalProjection.ofCompleteSpace\">Submodule.HasOrthogonalProjection.ofCompleteSpace</a>, so I need an instance.</p>",
        "id": 535359032,
        "sender_full_name": "Yoh Tanimoto",
        "timestamp": 1755710067
    },
    {
        "content": "<p>I think IsClosed became a class somewhat recently, so perhaps not all things have had instances added</p>",
        "id": 535361903,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1755711374
    },
    {
        "content": "<p>Then <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsClosed.completeSpace_coe#doc\">docs#IsClosed.completeSpace_coe</a></p>",
        "id": 535362218,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1755711529
    },
    {
        "content": "<p>Ok I can make it into an instance</p>",
        "id": 535363969,
        "sender_full_name": "Yoh Tanimoto",
        "timestamp": 1755712334
    },
    {
        "content": "<p>IsClosed has been an instance for at least a year and a half (at that point I didn't want to keep chasing git commit history)</p>",
        "id": 535365554,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1755712973
    },
    {
        "content": "<p>since <a href=\"https://github.com/leanprover-community/mathlib3/pull/6552\">mathlib3#6552</a></p>",
        "id": 535366302,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1755713290
    },
    {
        "content": "<p>Then I have confused the situation with IsOpen</p>",
        "id": 535372513,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1755715991
    },
    {
        "content": "<p><img alt=\":pr-open:\" class=\"emoji\" src=\"https://avatars.zulip.com/3121/emoji/images/6f19606a.png\" title=\"pr-open\"> <a href=\"https://github.com/leanprover-community/mathlib4/pull/28709\">#28709</a></p>",
        "id": 535381292,
        "sender_full_name": "Yoh Tanimoto",
        "timestamp": 1755719634
    },
    {
        "content": "<p>I tried to use loogle to answer Jireh's question in the PR, but loogle complained with</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">Error</span>\n<span class=\"n\">cannot</span><span class=\"w\"> </span><span class=\"n\">coerce</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">sort</span>\n<span class=\"w\">  </span><span class=\"bp\">?</span><span class=\"n\">s</span>\n</code></pre></div>\n<p><a href=\"https://loogle.lean-lang.org/?q=CompleteSpace+%E2%86%A5%3Fs\">https://loogle.lean-lang.org/?q=CompleteSpace+%E2%86%A5%3Fs</a></p>",
        "id": 535400534,
        "sender_full_name": "Yakov Pechersky",
        "timestamp": 1755729937
    }
]