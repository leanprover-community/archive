[
    {
        "content": "<p>The additivization of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousMul.measurableMul#doc\">docs#ContinuousMul.measurableMul</a> is, as you may expect, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousAdd.measurableAdd#doc\">docs#ContinuousAdd.measurableAdd</a>. The additivization of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousMul#doc\">docs#ContinuousMul</a>.measurableMul₂ is, more surprisingly, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ContinuousAdd#doc\">docs#ContinuousAdd</a>.measurableMul₂. I could tweak it by hand to give it the right name, but I'd rather understand what is going on here in a more principled way...</p>",
        "id": 518949921,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1747596584
    },
    {
        "content": "<p>CC <span class=\"user-mention\" data-user-id=\"111080\">@Floris van Doorn</span></p>",
        "id": 518950004,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1747596619
    },
    {
        "content": "<p>You need to add an entry to <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ToAdditive.nameDict#doc\">docs#ToAdditive.nameDict</a></p>",
        "id": 518950184,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1747596736
    },
    {
        "content": "<p>An entry like what? <code>Mul</code> is normally additivized to <code>Add</code>. The problem is the suffix <code>₂</code> here. Adding an entry for each suffix doesn't look like an optimal strategy...</p>",
        "id": 518951112,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1747597351
    },
    {
        "content": "<p>Should to_additive be modified to split off superscript suffixes, try to additivise the name and rejoin them?</p>",
        "id": 519013100,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1747638507
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/weird.20.60toAdditive.60.20name/near/518951112\">said</a>:</p>\n<blockquote>\n<p>Adding an entry for each suffix doesn't look like an optimal strategy...</p>\n</blockquote>\n<p>There are only 10 digit and 17 letter subscripts after all... <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 519014333,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1747638891
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/weird.20.60toAdditive.60.20name/near/519014333\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/weird.20.60toAdditive.60.20name/near/518951112\">said</a>:</p>\n<blockquote>\n<p>Adding an entry for each suffix doesn't look like an optimal strategy...</p>\n</blockquote>\n<p>There are only 10 digit and 17 letter subscripts after all... <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>\n</blockquote>\n<p>But digits can be combined for numbers</p>",
        "id": 519068181,
        "sender_full_name": "Jz Pan",
        "timestamp": 1747651512
    },
    {
        "content": "<p>Or maybe <code>nameDict</code> should be taught to split names at sub/super scripts.</p>",
        "id": 519068786,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1747651660
    },
    {
        "content": "<p>As others have said, the easiest is indeed to teach <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=String.splitCase#doc\">docs#String.splitCase</a> that all subscript/superscript characters are separators between word parts. Currently we only consider <code>_</code> as a separator, but I think it's fine to also separate on all subscript digits (or all sub/superscript letters/digits - changing <code>ᵐᵘˡ</code> to <code>ᵃᵈᵈ</code> can be outside the scope of <code>to_additive</code>).</p>",
        "id": 519113327,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1747661631
    }
]