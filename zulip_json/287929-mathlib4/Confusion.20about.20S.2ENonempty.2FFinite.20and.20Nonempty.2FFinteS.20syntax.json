[
    {
        "content": "<p>Hi All,</p>\n<p>I am new to Lean and have come across some syntax I do not really understand. I apologize if this is a silly question, or if this covered in Mathematics in Lean.</p>\n<p>For context so that I do not ask an XY problem, my main goal is to show that if  </p>\n<p><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding=\"application/x-tex\">A\\rightarrow B</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\">A</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">→</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.05017em;\">B</span></span></span></span></span></p>\n<p>is an integral extension of rings, then their Krull Dimensions are equal. In the part of showing dim A &lt; dim B, the crux of the proof should be that given a chain of prime ideals in A of length n we can construct a chain of prime ideals in B of the same length. I believe this is potentially best said with the following lemma:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">lemma</span><span class=\"w\"> </span><span class=\"n\">chainA_to_chainB</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">PrimeSpectrum</span><span class=\"w\"> </span><span class=\"n\">A</span><span class=\"o\">),</span><span class=\"w\"> </span><span class=\"n\">IsChain</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"bp\">.</span><span class=\"n\">Finite</span>\n<span class=\"w\">   </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">∃</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">PrimeSpectrum</span><span class=\"w\"> </span><span class=\"n\">B</span><span class=\"o\">),</span>\n<span class=\"w\">    </span><span class=\"n\">IsChain</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">·</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">·</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\">  </span><span class=\"n\">T</span><span class=\"bp\">.</span><span class=\"n\">Finite</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"n\">S</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">card</span><span class=\"w\"> </span><span class=\"n\">T</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">)</span>\n</code></pre></div>\n<p>and then proving this by induction and the going up lemma ( I declared commutative rings A and B and an injective integral map \\phi between them earlier). </p>\n<p>The base case is easy to formalize, but in the inductive case I am running into a problem during the following conceptual step: remove the maximal element from S and apply the inductive hypothesis to get a chain of prime ideals in B. In particular, it seems the lemma I should use here is Set.Finite.exists_maximal, but this requires a proof of S.Nonempty. This shouldn't be hard because by assumption Nat.card S&gt;0 in this step, but the only statement I can find that related Nat.card S &gt;0 to non emptiness is Nat.card_pos_iff which can be used to rewrite Nat.card S&gt;0 as Nonempty S. I suspect that I am mixing up things across libraries, since Nat.card_pos_iff is in Mathlib.SetTheory.Cardinal.Finite and uses things like Nonempty S everywhere, while Set.Finite.exists_maximal is in Mathlib.Order.Preorder.Finite and uses things like S.Nonempty everywhere.</p>\n<p>Ultimately, after reading the libraries I see that S.Nonempty \"expresses the fact that S is non empty\" and <br>\nthat Nonempty S says that S is not an empty type, but I don't understand why they are seemingly used interchangeably without an obvious way to relate the two statements (my apologies if this is not true, I just haven't found one). Any help or advice on this matter would be greatly appreciated.  I will note that in the set theory chapter on Mathemtics in Lean, which I have worked a bit through, they use statements like Nonempty S and not S.Nonempty. </p>\n<p>Best,</p>\n<p>Quinn</p>",
        "id": 528139331,
        "sender_full_name": "Quinn La Fond",
        "timestamp": 1752172499
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Finset.Nonempty, Nonempty</p>",
        "id": 528139844,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1752172698
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Finset/Empty.html#Finset.Nonempty.to_type\">Finset.Nonempty.to_type</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Finset/Empty.html#Finset.Nonempty.coe_sort\">Finset.Nonempty.coe_sort</a>, and <a href=\"https://loogle.lean-lang.org/?q=Finset.Nonempty%2C%20Nonempty\">15 more</a></p>",
        "id": 528139845,
        "sender_full_name": "loogle",
        "timestamp": 1752172699
    },
    {
        "content": "<p>The lemma linking the two notions is <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.nonempty_coe_sort#doc\">docs#Set.nonempty_coe_sort</a></p>",
        "id": 528140334,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1752172886
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"816344\">@Aaron Liu</span>  thank you I was unaware of Looggle</p>",
        "id": 528142688,
        "sender_full_name": "Quinn La Fond",
        "timestamp": 1752173812
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> Thank you as well, I don't know why I could not find that, and that has fixed this problem. Do you know what the actual difference between these two things is though? I don't quite understand the point of it</p>",
        "id": 528142870,
        "sender_full_name": "Quinn La Fond",
        "timestamp": 1752173894
    },
    {
        "content": "<p>See recent discussion about it: <a href=\"#narrow/channel/287929-mathlib4/topic/Filter.2ENeBot.20typeclass/near/527433305\">https://leanprover.zulipchat.com/#narrow/channel/287929-mathlib4/topic/Filter.2ENeBot.20typeclass/near/527433305</a></p>",
        "id": 528143024,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1752173968
    }
]