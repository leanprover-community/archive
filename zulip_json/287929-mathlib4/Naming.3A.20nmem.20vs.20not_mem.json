[
    {
        "content": "<p>Should we use <code>nmem</code> or <code>not_mem</code> for \"not a member\"? Currently, <code>not_mem</code> is about 8x more popular, but it should be easy to switch either way.</p>",
        "id": 514583059,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745707337
    },
    {
        "content": "<p>Relatedly, should it be <code>zero_not_mem</code> or <code>not_zero_mem</code>, if the second is picked.</p>",
        "id": 514583320,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1745707602
    },
    {
        "content": "<p>If we accept <code>nmem</code> for <code>not_mem</code>, then why not <code>nle</code> and <code>nlt</code> for <code>not_le</code> and <code>not_lt</code>?</p>",
        "id": 514583760,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745708054
    },
    {
        "content": "<p>This convention makes lemmas less human-readable.</p>",
        "id": 514584384,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745708608
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514583320\">said</a>:</p>\n<blockquote>\n<p>Relatedly, should it be <code>zero_not_mem</code> or <code>not_zero_mem</code>, if the second is picked.</p>\n</blockquote>\n<p><code>not_zero_mem</code> seems more technically correct, but <code>zero_not_mem</code> sound much more natural. I guess <code>not_mem</code> behaves like a single atom in that regard, which is also reinforced by the notation.</p>",
        "id": 514585460,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745709528
    },
    {
        "content": "<p>That would suggest <code>nmem</code> could be an atom too</p>",
        "id": 514604846,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745725941
    },
    {
        "content": "<p>Notationwise, this appears as <code>∉</code>, so it looks like an atom, which shouldn't have an underscore in it. So <code>nmem</code> is justified. Still, I agree that it is hard to guess or to understand if one is not already aware of it, so personally I would slightly prefer <code>not_mem</code>. The important thing is that we make a choice, whatever it is, and then fix the library and add something about this to the naming conventions file.</p>",
        "id": 514614393,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1745734073
    },
    {
        "content": "<p>It turns out that there is a recommendation, in core:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- `a ∉ b` is negated elementhood. It is notation for `¬ (a ∈ b)`. -/</span>\n<span class=\"kn\">notation</span><span class=\"o\">:</span><span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"s2\">\" ∉ \"</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span>\n\n<span class=\"n\">recommended_spelling</span><span class=\"w\"> </span><span class=\"s2\">\"not_mem\"</span><span class=\"w\"> </span><span class=\"n\">for</span><span class=\"w\"> </span><span class=\"s2\">\"∉\"</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"bp\">«</span><span class=\"n\">term_</span><span class=\"bp\">∉_»</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>(I didn't even know about <code>recommended_spelling</code>!)</p>",
        "id": 514614857,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1745734453
    },
    {
        "content": "<p>is someone brave enough to look at the recommended spellings of the things we've been using for years?</p>",
        "id": 514619887,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1745738778
    },
    {
        "content": "<p><code>git log</code> says that <code>recommended_spelling</code> was added in February 2025.</p>",
        "id": 514648113,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745761718
    },
    {
        "content": "<p>I fixed spelling for <code>Ne</code> in <a href=\"https://github.com/leanprover-community/mathlib4/pull/24408\">#24408</a></p>",
        "id": 514649113,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745762531
    },
    {
        "content": "<p>Table of all recommended spellings in core:</p>\n<table>\n<thead>\n<tr>\n<th>Declaration name</th>\n<th>Notation</th>\n<th>Recommended spelling</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>List.nil</td>\n<td><code>[]</code></td>\n<td>nil</td>\n</tr>\n<tr>\n<td>List.cons</td>\n<td><code>[a]</code></td>\n<td>singleton</td>\n</tr>\n<tr>\n<td>Functor.mapRev</td>\n<td><code>&lt;&amp;&gt;</code></td>\n<td>mapRev</td>\n</tr>\n<tr>\n<td>orM</td>\n<td><code>&lt;||&gt;</code></td>\n<td>orM</td>\n</tr>\n<tr>\n<td>andM</td>\n<td><code>&lt;&amp;&amp;&gt;</code></td>\n<td>andM</td>\n</tr>\n<tr>\n<td>Bind.kleisliRight</td>\n<td><code>&gt;=&gt;</code></td>\n<td>kleisliRight</td>\n</tr>\n<tr>\n<td>Bind.kleisliLeft</td>\n<td><code>&lt;=&lt;</code></td>\n<td>kleisliLeft</td>\n</tr>\n<tr>\n<td>Bind.bindLeft</td>\n<td><code>=&lt;&lt;</code></td>\n<td>bindLeft</td>\n</tr>\n<tr>\n<td>GetElem.getElem</td>\n<td><code>xs[i]</code></td>\n<td>getElem</td>\n</tr>\n<tr>\n<td>GetElem?.getElem?</td>\n<td><code>xs[i]?</code></td>\n<td>getElem?</td>\n</tr>\n<tr>\n<td>GetElem?.getElem!</td>\n<td><code>xs[i]!</code></td>\n<td>getElem!</td>\n</tr>\n<tr>\n<td>Iff</td>\n<td><code>↔</code>, <code>&lt;-&gt;</code></td>\n<td>iff</td>\n</tr>\n<tr>\n<td>HasEquiv.Equiv</td>\n<td><code>≈</code></td>\n<td>equiv</td>\n</tr>\n<tr>\n<td>Subset</td>\n<td><code>⊆</code></td>\n<td>subset</td>\n</tr>\n<tr>\n<td>SSubset</td>\n<td><code>⊂</code></td>\n<td>ssubset</td>\n</tr>\n<tr>\n<td>Superset</td>\n<td><code>⊇</code></td>\n<td>superset</td>\n</tr>\n<tr>\n<td>SSuperset</td>\n<td><code>⊃</code></td>\n<td>ssuperset</td>\n</tr>\n<tr>\n<td>Union.union</td>\n<td><code>∪</code></td>\n<td>union</td>\n</tr>\n<tr>\n<td>Inter.inter</td>\n<td><code>∩</code></td>\n<td>inter</td>\n</tr>\n<tr>\n<td>SDiff.sdiff</td>\n<td><code>\\</code></td>\n<td>sdiff</td>\n</tr>\n<tr>\n<td>EmptyCollection.emptyCollection</td>\n<td><code>∅</code>, <code>{}</code></td>\n<td>empty</td>\n</tr>\n<tr>\n<td>bne</td>\n<td><code>!=</code></td>\n<td>bne</td>\n</tr>\n<tr>\n<td>Ne</td>\n<td><code>≠</code></td>\n<td>ne</td>\n</tr>\n<tr>\n<td>xor</td>\n<td><code>^^</code></td>\n<td>xor</td>\n</tr>\n<tr>\n<td>singleton</td>\n<td><code>{x}</code></td>\n<td>singleton</td>\n</tr>\n<tr>\n<td><a href=\"http://Prod.mk\">Prod.mk</a></td>\n<td><code>(a, b)</code></td>\n<td>mk</td>\n</tr>\n<tr>\n<td>Function.comp</td>\n<td><code>∘</code></td>\n<td>comp</td>\n</tr>\n<tr>\n<td>Prod</td>\n<td><code>×</code></td>\n<td>Prod</td>\n</tr>\n<tr>\n<td>PProd</td>\n<td><code>×'</code></td>\n<td>PProd</td>\n</tr>\n<tr>\n<td>HOr.hOr</td>\n<td><code>|||</code></td>\n<td>or</td>\n</tr>\n<tr>\n<td>HXor.hXor</td>\n<td><code>^^^</code></td>\n<td>xor</td>\n</tr>\n<tr>\n<td>HAnd.hAnd</td>\n<td><code>&amp;&amp;&amp;</code></td>\n<td>and</td>\n</tr>\n<tr>\n<td>HAdd.hAdd</td>\n<td><code>+</code></td>\n<td>add</td>\n</tr>\n<tr>\n<td>HSub.hSub</td>\n<td><code>-</code></td>\n<td>sub</td>\n</tr>\n<tr>\n<td>HMul.hMul</td>\n<td><code>*</code></td>\n<td>mul</td>\n</tr>\n<tr>\n<td>HDiv.hDiv</td>\n<td><code>/</code></td>\n<td>div</td>\n</tr>\n<tr>\n<td>HMod.hMod</td>\n<td><code>%</code></td>\n<td>mod</td>\n</tr>\n<tr>\n<td>HPow.hPow</td>\n<td><code>^</code></td>\n<td>pow</td>\n</tr>\n<tr>\n<td>HAppend.hAppend</td>\n<td><code>++</code></td>\n<td>append</td>\n</tr>\n<tr>\n<td>Neg.neg</td>\n<td><code>-</code></td>\n<td>neg</td>\n</tr>\n<tr>\n<td>Dvd.dvd</td>\n<td><code>∣</code></td>\n<td>dvd</td>\n</tr>\n<tr>\n<td>HShiftLeft.hShiftLeft</td>\n<td><code>&lt;&lt;&lt;</code></td>\n<td>shiftLeft</td>\n</tr>\n<tr>\n<td>HShiftRight.hShiftRight</td>\n<td><code>&gt;&gt;&gt;</code></td>\n<td>shiftRight</td>\n</tr>\n<tr>\n<td>Complement.complement</td>\n<td><code>~~~</code></td>\n<td>not</td>\n</tr>\n<tr>\n<td>LE.le</td>\n<td><code>≤</code>, <code>&lt;=</code></td>\n<td>le</td>\n</tr>\n<tr>\n<td><a href=\"http://LT.lt\">LT.lt</a></td>\n<td><code>&lt;</code></td>\n<td>lt</td>\n</tr>\n<tr>\n<td><a href=\"http://GT.gt\">GT.gt</a></td>\n<td><code>&gt;</code></td>\n<td>gt</td>\n</tr>\n<tr>\n<td><a href=\"http://GE.ge\">GE.ge</a></td>\n<td><code>≥</code>, <code>&gt;=</code></td>\n<td>ge</td>\n</tr>\n<tr>\n<td>Eq</td>\n<td><code>=</code></td>\n<td>eq</td>\n</tr>\n<tr>\n<td>BEq</td>\n<td><code>==</code></td>\n<td>beq</td>\n</tr>\n<tr>\n<td>And</td>\n<td><code>∧</code>, <code>/\\</code></td>\n<td>and</td>\n</tr>\n<tr>\n<td>Or</td>\n<td><code>∨</code>, <code>\\/</code></td>\n<td>or</td>\n</tr>\n<tr>\n<td>Not</td>\n<td><code>¬</code></td>\n<td>not</td>\n</tr>\n<tr>\n<td>and</td>\n<td><code>&amp;&amp;</code></td>\n<td>and</td>\n</tr>\n<tr>\n<td>or</td>\n<td><code>||</code></td>\n<td>or</td>\n</tr>\n<tr>\n<td>not</td>\n<td><code>!</code></td>\n<td>not</td>\n</tr>\n<tr>\n<td>Membership.mem</td>\n<td><code>∈</code></td>\n<td>mem</td>\n</tr>\n<tr>\n<td>N/A</td>\n<td><code>∉</code></td>\n<td>not_mem</td>\n</tr>\n<tr>\n<td>List.cons</td>\n<td><code>::</code></td>\n<td>cons</td>\n</tr>\n<tr>\n<td><a href=\"http://Functor.map\">Functor.map</a></td>\n<td><code>&lt;$&gt;</code></td>\n<td>map</td>\n</tr>\n<tr>\n<td>Bind.bind</td>\n<td><code>&gt;&gt;=</code></td>\n<td>bind</td>\n</tr>\n<tr>\n<td>HOrElse.hOrElse</td>\n<td><code>&lt;|&gt;</code></td>\n<td>orElse</td>\n</tr>\n<tr>\n<td>HAndThen.hAndThen</td>\n<td><code>&gt;&gt;</code></td>\n<td>andThen</td>\n</tr>\n<tr>\n<td>Seq.seq</td>\n<td><code>&lt;*&gt;</code></td>\n<td>seq</td>\n</tr>\n<tr>\n<td>SeqLeft.seqLeft</td>\n<td><code>&lt;*</code></td>\n<td>seqLeft</td>\n</tr>\n<tr>\n<td>SeqRight.seqRight</td>\n<td><code>*&gt;</code></td>\n<td>seqRight</td>\n</tr>\n<tr>\n<td>Subtype</td>\n<td><code>{ x // p x}</code></td>\n<td>subtype</td>\n</tr>\n<tr>\n<td><a href=\"http://Vector.mk\">Vector.mk</a></td>\n<td><code>#v[]</code></td>\n<td>empty</td>\n</tr>\n<tr>\n<td><a href=\"http://Vector.mk\">Vector.mk</a></td>\n<td><code>#v[x]</code></td>\n<td>singleton</td>\n</tr>\n<tr>\n<td>BitVec.ofNat</td>\n<td><code>0#n</code></td>\n<td>zero</td>\n</tr>\n<tr>\n<td>BitVec.ofNat</td>\n<td><code>1#n</code></td>\n<td>one</td>\n</tr>\n<tr>\n<td>List.IsPrefix</td>\n<td><code>&lt;+:</code></td>\n<td>prefix</td>\n</tr>\n<tr>\n<td>List.IsSuffix</td>\n<td><code>&lt;:+</code></td>\n<td>suffix</td>\n</tr>\n<tr>\n<td>List.IsInfix</td>\n<td><code>&lt;:+:</code></td>\n<td>infix</td>\n</tr>\n<tr>\n<td>List.toArray</td>\n<td><code>#[]</code></td>\n<td>empty</td>\n</tr>\n<tr>\n<td>List.toArray</td>\n<td><code>#[x]</code></td>\n<td>singleton</td>\n</tr>\n</tbody>\n</table>",
        "id": 514651300,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1745764194
    },
    {
        "content": "<p>I'm working on <code>nmem</code></p>",
        "id": 514651364,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745764212
    },
    {
        "content": "<p>I don't like that the recommended spelling for <code>List.IsPrefix</code> is <code>prefix</code> instead of <code>isPrefix</code> and similarly for <code>IsSuffix</code>/<code>IsInfix</code>, otherwise looks reasonable to me.</p>",
        "id": 514651594,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745764370
    },
    {
        "content": "<p>For <code>nmem</code>: <a href=\"https://github.com/leanprover-community/mathlib4/pull/24409\">#24409</a> (search&amp;replace with confirmation + <code>add_deprecations.sh</code>, didn't proofread it myself yet)</p>",
        "id": 514652265,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745764816
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514614857\">said</a>:</p>\n<blockquote>\n<p>It turns out that there is a recommendation, in core:</p>\n</blockquote>\n<p>I think it's been discussed previously that various core naming conventions are actually a best effort to record the status quo in mathlib; not every one of them is a definitive ruling by core that this is the preferred choice. Would a non-binding vote between the two options be sensible?</p>",
        "id": 514652736,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745765173
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514651594\">said</a>:</p>\n<blockquote>\n<p>I don't like that the recommended spelling for <code>List.IsPrefix</code> is <code>prefix</code> instead of <code>isPrefix</code> and similarly for <code>IsSuffix</code>/<code>IsInfix</code>, otherwise looks reasonable to me.</p>\n</blockquote>\n<p>If you look at the original PR adding those recommended spellings, I complained about precisely this, but my complaint was dismissed <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 514652799,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745765240
    },
    {
        "content": "<p>Saving others some searches: it was <a href=\"https://github.com/leanprover/lean4/pull/6886\">lean#6886</a></p>",
        "id": 514658064,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745769007
    },
    {
        "content": "<p>CC: <span class=\"user-mention\" data-user-id=\"260921\">@Markus Himmel</span>. Yael is not the only one who isn't happy about <code>prefix</code> vs <code>isPrefix</code>. For me, it's \"I mildly prefer <code>isPrefix</code>, I would be ready to prepare a PR renaming lots of lemmas, but I don't think that it's important enough to argue about this\".</p>",
        "id": 514666769,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745775165
    },
    {
        "content": "<p>I'd be happier with the <code>prefix</code> naming if the constant itself was named <code>Prefix</code> :)</p>",
        "id": 514666933,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745775309
    },
    {
        "content": "<p>A while ago there was some discussion among the standard library maintainers and we decided that we would like to</p>\n<ul>\n<li>rename <code>Sublist</code> to <code>IsSublist</code></li>\n<li>scope the notations <code>&lt;+:</code> etc</li>\n<li>use <code>isSublist</code>/<code>isPrefix</code>/... in identifiers</li>\n</ul>\n<p>but we haven't had time to make this change yet. PRs to core are welcome (please request a review from me).</p>",
        "id": 514667491,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1745775796
    },
    {
        "content": "<p>I'm going to be very busy at my day job for the next 2 weeks (and I'll be away from my desktop that can build Lean in a reasonable amount of time). If no one picks this up before than, I'll prepare a PR when I come back.</p>",
        "id": 514667937,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745776151
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"112680\">@Johan Commelin</span> delegated <a href=\"https://github.com/leanprover-community/mathlib4/pull/24409\">#24409</a> (<code>nmem</code> -&gt; <code>not_mem</code>) while <span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> suggests to vote about this. What should I do?</p>\n<p>I have no strong opinion on \"<code>nmem</code> or <code>not_mem</code>\" but I have an opinion on \"one of these everywhere vs random choice every time\".</p>",
        "id": 514740749,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745825743
    },
    {
        "content": "<p><code>not_mem</code> is quite clearly the correct name IMO, so I am not sure it's worth voting on the issue</p>",
        "id": 514741003,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745825814
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514740749\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> delegated <a href=\"https://github.com/leanprover-community/mathlib4/pull/24409\">#24409</a> (<code>nmem</code> -&gt; <code>not_mem</code>) while <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> suggests to vote about this. What should I do?</p>\n<p>I have no strong opinion on \"<code>nmem</code> or <code>not_mem</code>\" but I have an opinion on \"one of these everywhere vs random choice every time\".</p>\n</blockquote>\n<p>Sorry, I missed Eric's request. And I think his remark is very sensible. That <code>recommended_spelling</code> is in this case probably a best-effort attempt to document what mathlib does.</p>\n<p>So I'm happy to vote about this.</p>\n<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514741003\">said</a>:</p>\n<blockquote>\n<p><code>not_mem</code> is quite clearly the correct name IMO, so I am not sure it's worth voting on the issue</p>\n</blockquote>\n<p>Could you please layout why it is quite clear to you?</p>\n<p>(For me: since <code>∉</code> is a single symbol, I find it quite reasonable to have an atomic naming component for it, without an embedded <code>_</code>.)</p>",
        "id": 514742045,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1745826141
    },
    {
        "content": "<p>Have we considdered the fact that \"nonmember\" is an English word? We could introduce <code>nonmem</code> as the preferred spelling.</p>",
        "id": 514768189,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745833390
    },
    {
        "content": "<p><a href=\"https://xkcd.com/927/\">xkcd 927</a> irl <span aria-label=\"looking\" class=\"emoji emoji-1f440\" role=\"img\" title=\"looking\">:looking:</span></p>",
        "id": 514774352,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745835313
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514742045\">said</a>:</p>\n<blockquote>\n<p>Yaël Dillies <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514741003\">said</a>:</p>\n<blockquote>\n<p><code>not_mem</code> is quite clearly the correct name IMO, so I am not sure it's worth voting on the issue</p>\n</blockquote>\n<p>Could you please layout why it is quite clear to you?</p>\n</blockquote>\n<p>Bhavik made it clear that I wasn't clear. I <em>do not</em> mean to make <code>not_mem</code> a single token. I mean for <code>foo ∉ bar</code> to be called <code>not_foo_mem_bar</code>, not <code>foo_not_mem_bar</code></p>",
        "id": 514777141,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745836278
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514742045\">said</a>:</p>\n<blockquote>\n<p>(For me: since <code>∉</code> is a single symbol, I find it quite reasonable to have an atomic naming component for it, without an embedded <code>_</code>.)</p>\n</blockquote>\n<p>\"If you want it to be a single token, then make it a single token\", is what I would say</p>",
        "id": 514777236,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745836319
    },
    {
        "content": "<p>Of course, this disagrees with the naming of eg <code>Fintype.sum</code> for <code>∑ _, _</code> (as the special case <code>∑ _ ∈ univ, _</code> of the general notation), so I am happy to be swayed</p>",
        "id": 514777721,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745836449
    },
    {
        "content": "<p>My order of preference would be:</p>\n<ol>\n<li>Statu quo, no extra rule: <code>not_foo_mem_bar</code></li>\n<li>Extra rule that <code>∉</code> is a single token and should be named as such: <code>foo_nmem_bar</code> or <code>foo_notMem_bar</code></li>\n<li>Extra rule that <code>∉</code> is a single token made of two tokens (??): <code>foo_not_mem_bar</code></li>\n</ol>",
        "id": 514777979,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745836539
    },
    {
        "content": "<p>In the cases where 1 and 3 differ, the PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/24409\">#24409</a> opts for 3, which is also my preference.</p>",
        "id": 514778287,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1745836638
    },
    {
        "content": "<p>The statu quo is 3 rather than 1, I think.</p>",
        "id": 514778511,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1745836714
    },
    {
        "content": "<p>Really? I've been naming all my lemmas according to 1, at least</p>",
        "id": 514778787,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1745836812
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514741003\">said</a>:</p>\n<blockquote>\n<p><code>not_mem</code> is quite clearly the correct name IMO, so I am not sure it's worth voting on the issue</p>\n</blockquote>\n<p>In general, I find that as soon as there are more than 3 informed people with different opinions it is always worth voting.</p>",
        "id": 514829244,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1745850442
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/514778787\">said</a>:</p>\n<blockquote>\n<p>Really? I've been naming all my lemmas according to 1, at least</p>\n</blockquote>\n<p>Loogle says that there are 719 theorems with <code>not_mem</code> and 790 with both <code>not_</code> and <code>_mem</code>, which gives an upper estimate of 71 theorems named according to 1.</p>",
        "id": 514848973,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745855455
    },
    {
        "content": "<p>Though in some cases 1 and 3 give the same result, so <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> is wrong.</p>",
        "id": 514849213,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745855525
    },
    {
        "content": "<p>Looks like we have to vote.</p>",
        "id": 515227454,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1745998004
    },
    {
        "content": "<p>/poll If a lemma says that <code>0</code> does not belong to foo, <code>0 ∉ foo</code>, how should we name it?<br>\n<code>zero_nmem_foo</code><br>\n<code>not_zero_mem_foo</code><br>\n<code>zero_not_mem_foo</code><br>\n<code>zero notMem_foo</code></p>",
        "id": 515227865,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1745998134
    },
    {
        "content": "<p>The space in the last option should also be <code>_</code>, right?</p>",
        "id": 515227980,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1745998180
    },
    {
        "content": "<p>Yes, sorry. Looks like I can't edit, though.</p>",
        "id": 515229355,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1745998628
    },
    {
        "content": "<p>My preference is for <code>nmem</code>: if we have a notation for it, I'm happy to treat it as a declaration for naming purposes.<br>\nI like <code>zero_not_mem_foo</code> least out of all options so far: it treats the symbol as having the name <code>not_mem</code>, which would violate the fact that single components shouldn't have an underscore in their name.<br>\n(I would like to add half a vote to <code>zero_notMem_foo</code>.)</p>",
        "id": 515268692,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1746010074
    },
    {
        "content": "<p>My strongest feeling is that I want uniformity here. But I also guess very few people would feel <code>not_zero_mem_foo</code> is natural. Breaking the ∉ feels really weird.</p>",
        "id": 515358088,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1746033070
    },
    {
        "content": "<p>When changing these names, please <em>also</em> add in the docstring of the <code>∉</code> what the preferred name for this symbol is. We should add this information to every notation that doesn't immediately correspond to a declaration (with a custom name), e.g. also for the notations <a href=\"https://github.com/leanprover-community/mathlib4/blob/53c38dde4d724f4b6b33f72d59bbb061b6ad45f9/Mathlib/MeasureTheory/OuterMeasure/AE.lean#L50-L68\">for a.e.-filters</a> which also have custom (but not consistent) names.</p>",
        "id": 515361605,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1746034130
    },
    {
        "content": "<p>There is already <code>recommended_spelling</code> which shows the recommended spelling of lemmas involving the symbol when hovering. The recommended spelling is in core, though -- is it something that core would agree to amend, since apparently this was designed to follow mathlib best practices?</p>",
        "id": 515378553,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1746039852
    },
    {
        "content": "<p>I'm a bit skeptical of this vote: I think that it artificially splits the opposition to <code>_nmem_</code>. But I'm saying that mostly because I really don't like <code>_nmem_</code>. :-)</p>",
        "id": 515410111,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1746051816
    },
    {
        "content": "<p>It's a pity we can't easily run something like ranked choice vote here.</p>",
        "id": 515410260,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746051894
    },
    {
        "content": "<p>this is approval voting though</p>",
        "id": 515412998,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1746053349
    },
    {
        "content": "<p>It doesn't differentiate between \"strong yes\" and \"I can tolerate that\" though</p>",
        "id": 515413809,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1746053821
    },
    {
        "content": "<p>You can edit your vote once the two are tied to express preference, but maybe that's not stable</p>",
        "id": 515418618,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1746056660
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110050\">Sébastien Gouëzel</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/515378553\">said</a>:</p>\n<blockquote>\n<p>There is already <code>recommended_spelling</code> which shows the recommended spelling of lemmas involving the symbol when hovering. The recommended spelling is in core, though -- is it something that core would agree to amend, since apparently this was designed to follow mathlib best practices?</p>\n</blockquote>\n<p>Yes, core will update the recommended spelling to match the outcome of the vote here. If there is ever a disagreement (which I hope we can avoid) or any other reason for mathlib to amend the recommended spelling, it is possible to have multiple recommended spellings for the same symbol/parser and it is also possible to add a clarifying comment to a recommended spelling. So mathlib can add additional recommended spellings for notations defined in core.</p>",
        "id": 515446237,
        "sender_full_name": "Markus Himmel",
        "timestamp": 1746074612
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/515410111\">said</a>:</p>\n<blockquote>\n<p>I'm a bit skeptical of this vote: I think that it artificially splits the opposition to <code>_nmem_</code>. But I'm saying that mostly because I really don't like <code>_nmem_</code>. :-)</p>\n</blockquote>\n<p>I agree that <code>notMem</code> is clearly better than <code>nmem</code>: one understands readily what <code>notMem</code> means (once one knows what <code>mem</code> is, which is easy because it's everywhere throughout the library), while <code>nmem</code> is barely shorter and much more cryptic. Still, in the end, we will have to follow the vote of the majority. Let's still wait 24h to give reasonable people the time to change their minds :-), and then we will proceed.</p>",
        "id": 515461742,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1746084523
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Kim Morrison</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Naming.3A.20nmem.20vs.20not_mem/near/515410111\">said</a>:</p>\n<blockquote>\n<p>I'm a bit skeptical of this vote: I think that it artificially splits the opposition to <code>_nmem_</code>. But I'm saying that mostly because I really don't like <code>_nmem_</code>. :-)</p>\n</blockquote>\n<p>I don't think it splits the opposition, because one can vote for several options.</p>",
        "id": 515463968,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1746085836
    },
    {
        "content": "<p>Sébastien, you've convinced me to change my vote!</p>",
        "id": 515468930,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1746088582
    }
]