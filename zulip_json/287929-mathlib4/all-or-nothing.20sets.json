[
    {
        "content": "<p>What should be the preferred way to express that a set <code>s</code> is all-or-nothing? I'm thinking either some variation on either <code>s = ∅ ∨ s = univ</code> or <code>∀ x ∈ s, ∀ y, y ∈ s</code>. The advantage of the first way is that it's closer to what people actually say and the advantage of the second way is that it's easier to work with and prove things with.</p>",
        "id": 554389852,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762539893
    },
    {
        "content": "<p>The former is what we use in results about the trivial sigma-algebra</p>",
        "id": 554390591,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1762540119
    },
    {
        "content": "<p>I think the only time I've seen this second way being used is in <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ComputablePred.rice#doc\">docs#ComputablePred.rice</a></p>",
        "id": 554400758,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762543393
    },
    {
        "content": "<p>But I realized it's much easier to use this definition to, for example, define the indiscrete topology</p>",
        "id": 554400985,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762543467
    },
    {
        "content": "<p><code>grind</code> can prove their equivalence, so it probably doesn't matter too much which one is used.</p>",
        "id": 554404177,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1762544523
    },
    {
        "content": "<p>For the record, it's used the second way in <code>ComputablePred.rice</code> out of necessity, since it's a theorem about discriminating between <code>Nat.Partrec</code> functions but the type of the set is <code>Set (ℕ →. ℕ)</code> which includes non-partial-recursive functions. In that context, it actually wouldn't be accurate to say that the set is either empty or univ, since it could have some random non-p.r. functions. (Compare with <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=ComputablePred.rice%E2%82%82#doc\">docs#ComputablePred.rice₂</a>, which involves a set of partrec codes and is stated in the first way.)</p>",
        "id": 554446497,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1762572248
    },
    {
        "content": "<p>example proof</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Topology</span><span class=\"bp\">.</span><span class=\"n\">Defs</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">TopologicalSpace</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"kn\">where</span>\n<span class=\"w\">  </span><span class=\"n\">IsOpen</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"o\">⦃</span><span class=\"n\">x</span><span class=\"o\">⦄,</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">∈</span><span class=\"w\"> </span><span class=\"n\">s</span>\n<span class=\"w\">  </span><span class=\"n\">isOpen_univ</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">mem_univ</span>\n<span class=\"w\">  </span><span class=\"n\">isOpen_inter</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">ht</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">⟩</span>\n<span class=\"w\">  </span><span class=\"n\">isOpen_sUnion</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">    </span><span class=\"o\">(</span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">mem_sUnion</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">hx</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">elim</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">mem_sUnion</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"bp\">⟨</span><span class=\"n\">s</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"bp\">.</span><span class=\"m\">1</span><span class=\"w\"> </span><span class=\"n\">hs</span><span class=\"bp\">.</span><span class=\"m\">2</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"bp\">⟩</span>\n</code></pre></div>",
        "id": 554498794,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762623581
    },
    {
        "content": "<p>This is also the constructively correct definition, incidentally</p>",
        "id": 554521041,
        "sender_full_name": "Trebor Huang",
        "timestamp": 1762646937
    },
    {
        "content": "<p>no wonder it's easier to work with</p>",
        "id": 554521096,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1762646991
    }
]