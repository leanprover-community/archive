[
    {
        "content": "<p>While writing a little tutorial about prime numbers, I noticed particularly <a href=\"https://github.com/leanprover-community/mathlib4/blob/e948d859635b67a2d40b53d10bcf906226e2a460/Mathlib/Data/Nat/Prime/Defs.lean#L80\">one theorem</a> which seems named peculiarly:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">prime_def_lt''</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">∧</span><span class=\"w\"> </span><span class=\"bp\">∀</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">∣</span><span class=\"w\"> </span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">p</span>\n</code></pre></div>\n<p>It seems to me, this should simply be <code>Nat.prime_def</code>. Especially since there is no \"lt\" in the statement, and because the docstring of the definition says the following:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- `Nat.Prime p` means that `p` is a prime number, that is, a natural number</span>\n<span class=\"sd\">  at least 2 whose only divisors are `p` and `1`. -/</span>\n<span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">Nat</span><span class=\"bp\">.</span><span class=\"n\">Prime</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"n\">Irreducible</span><span class=\"w\"> </span><span class=\"n\">p</span>\n</code></pre></div>\n<p>I've created <a href=\"https://github.com/leanprover-community/mathlib4/pull/19255\">#19255</a>. Are there good reasons for the current naming or objections against renaming it to <code>Nat.prime_def</code>?</p>",
        "id": 483302696,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1732033348
    },
    {
        "content": "<p>sounds reasonable to me (without having looked at all the competitors for that name)</p>",
        "id": 483303303,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1732033525
    },
    {
        "content": "<p>I agree that this name isn't good, but I feel that <code>_def</code> lemmas should be literally the definition, which is <code>Irreducible p</code> here. I'm not sure about an alternative name, though</p>",
        "id": 483303523,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732033578
    },
    {
        "content": "<p>it's probably best to rename all the prime_def theorems at once, and make sure the naming scheme makes sense across the board</p>",
        "id": 483303555,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1732033583
    },
    {
        "content": "<p>(even if the conclusion is that all of them are named correctly except that one)</p>",
        "id": 483303626,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1732033601
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"644391\">@loogle</span> Iff (Nat.Prime _) _</p>",
        "id": 483303758,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1732033638
    },
    {
        "content": "<p><span aria-label=\"search\" class=\"emoji emoji-1f50d\" role=\"img\" title=\"search\">:search:</span> <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Prime/Defs.html#Nat.prime_iff\">Nat.prime_iff</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Data/Nat/Prime/Defs.html#Nat.prime_def_minFac\">Nat.prime_def_minFac</a>, and <a href=\"https://loogle.lean-lang.org/?q=Iff%20%28Nat.Prime%20_%29%20_\">9 more</a></p>",
        "id": 483303763,
        "sender_full_name": "loogle",
        "timestamp": 1732033639
    },
    {
        "content": "<p>There are a few theorems <code>Nat.prime_def_X</code>, where <code>X</code> is one of <code>minFac, le_sqrt, lt</code></p>",
        "id": 483303786,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1732033645
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"690858\">Daniel Weber</span> <a href=\"#narrow/channel/287929-mathlib4/topic/rename.20Nat.2Eprime_def_lt''.20to.20Nat.2Eprime_def/near/483303523\">said</a>:</p>\n<blockquote>\n<p>I agree that this name isn't good, but I feel that <code>_def</code> lemmas should be literally the definition, which is <code>Irreducible p</code> here. I'm not sure about an alternative name, though</p>\n</blockquote>\n<p>I disagree on this. The actual definition should be the one that makes defeq work out nicely, and the thing that is called foo_def is the thing that people are most likely to guess is the definition</p>",
        "id": 483304014,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1732033692
    },
    {
        "content": "<p>That's probably my fault; anything is fine with me</p>",
        "id": 483304245,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1732033759
    },
    {
        "content": "<p>maintaining a strict correspondence with <code>foo</code> and <code>foo_def</code> is missing an opportunity to make mathlib less confusing for people (newcomers and otherwise). Plus, the thing that is literally the definition is already autogenerated as <code>foo.def_eq</code>, we don't need to duplicate that</p>",
        "id": 483304487,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1732033813
    }
]