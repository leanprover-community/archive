[
    {
        "content": "<p>I think we should introduce notation for intervals. The <code>Ixx</code> abbreviations are very cryptic for newcomers. <br>\nHow about this notation?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Real</span><span class=\"bp\">.</span><span class=\"n\">Basic</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Data</span><span class=\"bp\">.</span><span class=\"n\">Int</span><span class=\"bp\">.</span><span class=\"n\">Interval</span>\n<span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">Interval</span><span class=\"bp\">.</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">Nat</span>\n\n\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\" &lt; \"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\" &lt; \"</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Ioo</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\" ‚â§ \"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\" &lt; \"</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Ico</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\" &lt; \"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\" ‚â§ \"</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Ioc</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\" ‚â§ \"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\" ‚â§ \"</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Icc</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\" &lt; \"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Ioi</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\" ‚â§ \"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Ici</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\" &lt; \"</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Iio</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"kn\">notation</span><span class=\"w\"> </span><span class=\"s2\">\"{\"</span><span class=\"w\"> </span><span class=\"s2\">\"¬∑\"</span><span class=\"w\"> </span><span class=\"s2\">\" ‚â§ \"</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"w\"> </span><span class=\"s2\">\"}\"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"bp\">.</span><span class=\"n\">Iic</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"c1\">-- all the following notations work</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"mi\">6</span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{(</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{(</span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñ§</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">6</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">&gt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚àà</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"bp\">|</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">‚â†</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"> </span><span class=\"o\">}</span>\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"o\">({</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">‚â§</span><span class=\"w\"> </span><span class=\"bp\">¬∑</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>Todo: make sure that it elaborates as <code>Finset</code> if the expected type is known.<br>\nNote: Of course we'll keep <code>Ixx</code> in theorem names about intervals.</p>",
        "id": 475140355,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1728246759
    },
    {
        "content": "<p>(thanks to <span class=\"user-mention\" data-user-id=\"306601\">@Kyle Miller</span> for figuring out that this notation works.)</p>",
        "id": 475140402,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1728246799
    },
    {
        "content": "<p>I'm tempted to say that this notation is slightly too weird, and we should make <code>{x | 0 ‚â§ x &lt; n}</code> work instead</p>",
        "id": 475141435,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728247716
    },
    {
        "content": "<p>(or make <code>.</code> work in all set notation)</p>",
        "id": 475141449,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728247736
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/notation.20for.20intervals/near/475141449\">said</a>:</p>\n<blockquote>\n<p>(or make <code>.</code> work in all set notation)</p>\n</blockquote>\n<p>This would involve collaboration with core, to add the ability to configure which notations cdot expansion can't see through. It would make the rule \"cdot expansion just can see through parentheses\" more complicated.</p>",
        "id": 475152733,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1728253847
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/notation.20for.20intervals/near/475141435\">said</a>:</p>\n<blockquote>\n<p>I'm tempted to say that this notation is slightly too weird, and we should make <code>{x | 0 ‚â§ x &lt; n}</code> work instead</p>\n</blockquote>\n<p>This is tempting, but it's fairly brittle since I believe we want to make sure these give the <code>Set.Ixx</code> functions (I'm not completely clear on why though).</p>\n<p>I do want to see inequality chain support at some point!</p>",
        "id": 475153319,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1728254025
    },
    {
        "content": "<p>One downside of having notation with <code>‚â§</code> that outputs <code>Set.Ixx</code> behind the scene is that <code>{0 ‚â§ ¬∑ ‚â§ c}</code> doesn't simplify if we have a lemma about <code>_ ‚â§ c</code> (e.g., <code>c</code> is <code>min a b</code> or some indexed infimum).</p>",
        "id": 475153835,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728254402
    },
    {
        "content": "<p>BTW, should we use lowercase <code>I</code> instead of uppercase?</p>",
        "id": 475153890,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728254431
    },
    {
        "content": "<p>And if we drop <code>def</code>s, then it will simplify, and we may have issues with confluence.</p>",
        "id": 475156339,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1728256486
    },
    {
        "content": "<p>There is also <a href=\"https://proofwiki.org/wiki/Definition:Real_Interval/Notation/Wirth\">https://proofwiki.org/wiki/Definition:Real_Interval/Notation/Wirth</a><br>\nBut maybe unbalanced parens are just too evil?</p>",
        "id": 475173785,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1728268011
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"112680\">Johan Commelin</span> <a href=\"#narrow/stream/287929-mathlib4/topic/notation.20for.20intervals/near/475173785\">said</a>:</p>\n<blockquote>\n<p>There is also <a href=\"https://proofwiki.org/wiki/Definition:Real_Interval/Notation/Wirth\">https://proofwiki.org/wiki/Definition:Real_Interval/Notation/Wirth</a><br>\nBut maybe unbalanced parens are just too evil?</p>\n</blockquote>\n<p>I would love to have this. I did some experiments some time ago but it completely broke syntax highlighting in Emacs :(</p>",
        "id": 475205180,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1728281090
    },
    {
        "content": "<p>I recently added similar notation for <code>(Finset.Ixx ..).filter _</code> and it has greatly improved the readability, so I'm all in favour of it!</p>",
        "id": 475212483,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1728282842
    },
    {
        "content": "<p>I like this idea. I'd prefer something more traditional like <code>(x, y)</code>, <code>[x, y)</code>, <code>(-‚àû, x)</code>, etc. but I completely understand that would bring tons of ambiguity and syntax highlighting issues.</p>",
        "id": 475215111,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728283490
    },
    {
        "content": "<p>Well <code>[x, y)</code> is heresy.</p>",
        "id": 475225581,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1728285616
    },
    {
        "content": "<p>It's what I've been using my whole life!</p>",
        "id": 475227306,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728285960
    },
    {
        "content": "<p>I'll reluctantly accept French notation <code>)x, y)</code> too.</p>",
        "id": 475227546,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728285987
    },
    {
        "content": "<p>But yeah, that's subject to the same problems.</p>",
        "id": 475227626,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728285998
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hern√°ndez</span> <a href=\"#narrow/stream/287929-mathlib4/topic/notation.20for.20intervals/near/475227546\">said</a>:</p>\n<blockquote>\n<p>I'll reluctantly accept French notation <code>)x, y)</code> too.</p>\n</blockquote>\n<p>I'm not sure where you got that from. In France, your <code>[x, y)</code> is written <code>[x, y[</code></p>",
        "id": 475228019,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1728286064
    },
    {
        "content": "<p>oh yeah that</p>",
        "id": 475228207,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728286092
    },
    {
        "content": "<p>guess I just inadvertently came up with inverse French notation <span aria-label=\"stuck out tongue\" class=\"emoji emoji-1f61b\" role=\"img\" title=\"stuck out tongue\">:stuck_out_tongue:</span></p>",
        "id": 475228441,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728286124
    },
    {
        "content": "<p>Would <code>Ôºªa, bÔºΩ</code> work? (with \"fullwidth brackets\" that are separate unicode characters). It would not be the only place where we get similar looking characters meaning different things. (Although if the aim is to be more beginner-friendly it might not work and be more misleading than anything else.)</p>",
        "id": 475232903,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1728287007
    },
    {
        "content": "<p>Actually, <code>‚ü¶ ‚üß</code> is used already for quotients but it has the right mathematical meaning in informal texts, it might be an option to say <code>‚ü¶a, b‚üß</code>.</p>",
        "id": 475233203,
        "sender_full_name": "Vincent Beffara",
        "timestamp": 1728287097
    },
    {
        "content": "<p>The only notations that make sense here are the French ones. The idea of having <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">(a, b)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span></span></span></span> mean both the pair and the interval is really one of the worst mathematical notation clash ever invented.</p>",
        "id": 475256378,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1728293619
    },
    {
        "content": "<p>You must be joking. It can‚Äôt be worse than the malice behind the introduction of the Legendre symbol.</p>",
        "id": 475259110,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728294478
    },
    {
        "content": "<p>the french notation doesn't make sense either, non-matching brackets are evil too.</p>",
        "id": 475259400,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1728294576
    },
    {
        "content": "<p>non-matching brackets have only become evil with the advent of computers. I'm not entirely sure that Bourbaki were too worried about messing up syntax highlighting in emacs. I have always loathed the Legendre symbol notation and I've lectured it many times -- it's clearly a fraction in a bracket!</p>",
        "id": 475259739,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1728294698
    },
    {
        "content": "<p>some people use <code>(a, b)</code> to denote the greatest common divisor</p>",
        "id": 475260177,
        "sender_full_name": "Moritz Firsching",
        "timestamp": 1728294838
    },
    {
        "content": "<p>This syntax is itself a great divisor, it seems! Very divisive.</p>",
        "id": 475260513,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728294952
    },
    {
        "content": "<p>Clearly notation was a mistake and we should go back to writing everything out in Latin</p>",
        "id": 475261116,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1728295128
    },
    {
        "content": "<p>Like in Rocq? (Clear you must be referring to the character set Latin-1)</p>",
        "id": 475261862,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1728295375
    },
    {
        "content": "<p>Edward, the issue is that we want notation for a mathematical reality were both ends do <em>not</em> match. This has nothing to do with notation. The interval <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo fence=\"true\">[</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo fence=\"true\">[</mo></mrow><annotation encoding=\"application/x-tex\">\\left[a, b\\right[</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">[</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\">[</span></span></span></span></span> contains <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span> but does not contain <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span>, there is nothing you can do about that.</p>",
        "id": 475264739,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1728296396
    },
    {
        "content": "<p>And the inverted bracket very nicely convey the corresponding geometric idea. Of course <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mo fence=\"true\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo fence=\"true\">(</mo></mrow><annotation encoding=\"application/x-tex\">\\left(a, b\\right(</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\">(</span></span></span></span></span> would also work for this, but the clash with pairs remains.</p>",
        "id": 475265041,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1728296505
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvo≈ô√°k</span> <a href=\"#narrow/stream/287929-mathlib4/topic/notation.20for.20intervals/near/475225581\">said</a>:</p>\n<blockquote>\n<p>Well <code>[x, y)</code> is heresy.</p>\n</blockquote>\n<p>Why?</p>",
        "id": 475265229,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1728296575
    },
    {
        "content": "<p>All in all, I find that <code>Ixx</code> is perhaps a bit hard to newcomers (although it is pretty well documented, and after a moment thought very much understandable), but creates no clash, no typographical conflict and no meta-mathematical debate. I would honestly opt to keep it as it is...</p>",
        "id": 475265538,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1728296698
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/stream/287929-mathlib4/topic/notation.20for.20intervals/near/475259739\">said</a>:</p>\n<blockquote>\n<p>non-matching brackets have only become evil with the advent of computers. I'm not entirely sure that Bourbaki were too worried about messing up syntax highlighting in emacs. </p>\n</blockquote>\n<p>Note that Bourbaki uses bizarre bracket symbols for intervals.<br>\n<a href=\"/user_uploads/3121/RWkri2z9h0TgW7HwnqD79WMR/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/RWkri2z9h0TgW7HwnqD79WMR/image.png\" title=\"image.png\"><img data-original-dimensions=\"610x180\" src=\"/user_uploads/thumbnail/3121/RWkri2z9h0TgW7HwnqD79WMR/image.png/840x560.webp\"></a></div><p>Note also the special notation for illimited intervals on the left or on the right<br>\n<a href=\"/user_uploads/3121/ZMN9S1TU2RoZDuAvZCS0jE--/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/ZMN9S1TU2RoZDuAvZCS0jE--/image.png\" title=\"image.png\"><img data-original-dimensions=\"622x142\" src=\"/user_uploads/thumbnail/3121/ZMN9S1TU2RoZDuAvZCS0jE--/image.png/840x560.webp\"></a></div>",
        "id": 475271707,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1728299192
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"300245\">Filippo A. E. Nuccio</span> <a href=\"#narrow/stream/287929-mathlib4/topic/notation.20for.20intervals/near/475265538\">said</a>:</p>\n<blockquote>\n<p>All in all, I find that <code>Ixx</code> is perhaps a bit hard to newcomers (although it is pretty well documented, and after a moment thought very much understandable), but creates no clash, no typographical conflict and no meta-mathematical debate. I would honestly opt to keep it as it is...</p>\n</blockquote>\n<p>Yeah, I think this might be one of those cases where \"there's five different solutions with differing benefits and tradeoffs, so we don't try and solve it at all\"</p>",
        "id": 475319629,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728313770
    },
    {
        "content": "<p>Something I like about <code>Ixx</code> is how compact the notation is. Three letters and you can immediately tell what kind of interval you're talking about, compared to the new suggested notation which takes a bit more time to parse, and isn't so obviously exhaustive.</p>",
        "id": 475319952,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1728313865
    },
    {
        "content": "<p>If we're worried about confusion for newcomers with the status quo, I think we can get an easy win by putting <code>$[a, b)$</code> or <code>$[a, b[$</code> or <code>$a ‚â§ ¬∑ &lt; b$</code> in the docstring of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Set.Ico#doc\">docs#Set.Ico</a>.</p>",
        "id": 475321672,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1728314366
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/17523\">#17523</a></p>",
        "id": 475404209,
        "sender_full_name": "Filippo A. E. Nuccio",
        "timestamp": 1728337333
    },
    {
        "content": "<p>There was also <a href=\"https://github.com/leanprover/lean4/pull/1962\">lean#1962</a></p>",
        "id": 475506457,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1728375732
    },
    {
        "content": "<p>Floris pointed out this thread from <a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/New.20range.20syntax.20in.20lean.204.2E22/near/536256670\">#general &gt; New range syntax in lean 4.22 @ üí¨</a></p>\n<p>I like Floris's original proposal, to use <code>{5 ‚â§ ¬∑ ‚â§ 6}</code> with the dot. If it's part of the notation, it's unambiguous. There's ambiguity with <code>({¬∑ ‚â§ 6})</code>, but using <code>(priority := high)</code> on the notation seems to solve it. (This isn't just a hypothetical issue. It would affect intervals appearing anywhere inside parentheses.)</p>\n<p>In that thread, <span class=\"user-mention\" data-user-id=\"451983\">@Arthur Paulino</span> suggested <code>{1 &lt; ‚ãØ}</code> as an alternative. I like this too ‚Äî cdots are a nice idea, and it looks more like common practice math notation. The single <code>¬∑</code> looks more like Lean, for better or for worse.</p>",
        "id": 536260456,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1756221446
    },
    {
        "content": "<p>I much prefer ‚ãØ, using the pure lambda dot would drive me insane. It might be unambiguous to the Lean parser, but not mine.</p>",
        "id": 536330567,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1756254322
    },
    {
        "content": "<p>I'm also very happy with using <code>‚ãØ</code>.</p>",
        "id": 536386305,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1756288886
    },
    {
        "content": "<p>/poll What notation should we use for intervals in Mathlib?<br>\n{5 ‚â§ ¬∑ &lt; 6}<br>\n{5 ‚â§ ‚ãØ &lt; 6}<br>\nNo notation<br>\nI want notation, but not these suggestions</p>",
        "id": 536387088,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1756289205
    },
    {
        "content": "<p>Feel free to add other options! <br>\n(If you want that <code>(a, b)</code> or <code>[a, b]</code> should be interpreted as intervals, a MWE showing that it doesn't clash badly with pairs or list should be given.)</p>",
        "id": 536387334,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1756289309
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"306601\">Kyle Miller</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20intervals/near/536260456\">said</a>:</p>\n<blockquote>\n<p>In that thread, <span class=\"user-mention silent\" data-user-id=\"451983\">Arthur Paulino</span> suggested <code>{1 &lt; ‚ãØ}</code> as an alternative. I like this too ‚Äî cdots are a nice idea, and it looks more like common practice math notation. The single <code>¬∑</code> looks more like Lean, for better or for worse.</p>\n</blockquote>\n<p>To clarify, I was iterating on Fran√ßois' idea:<br>\n<span class=\"user-mention silent\" data-user-id=\"119741\">Fran√ßois G. Dorais</span> <a href=\"#narrow/channel/113488-general/topic/New.20range.20syntax.20in.20lean.204.2E22/near/534458363\">said</a>:</p>\n<blockquote>\n<p>It would be nice to have <code>‚Ä¶</code> (U+2026) as an alternative.</p>\n</blockquote>\n<p>Though I wouldn't say that <code>¬∑</code> looks more like Lean. I think both look like Lean just the same because both make good use of unicode that Lean ergonomically supports. It's just that we're more accustomed with <code>¬∑</code> because it's part of already existing syntax.</p>",
        "id": 536391297,
        "sender_full_name": "Arthur Paulino",
        "timestamp": 1756290920
    },
    {
        "content": "<p>I want to keep pushing against <code>¬∑</code>:</p>\n<ul>\n<li>it's potential confusing to the Lean parser, disambiguating with the pure lambda notation</li>\n<li>it's potential confusing to the human parsers, ditto</li>\n<li>it's further from paper notation than <code>‚ãØ</code></li>\n</ul>",
        "id": 536414983,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1756299611
    },
    {
        "content": "<p>Regarding parser confusion, the rule could change from \"<code>¬∑</code> is associated with the next set of <code>()</code> parentheses\" to \"<code>¬∑</code> is associated with the next set of <code>()</code> or <code>{}</code> delimiters\"</p>",
        "id": 536418986,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1756300846
    },
    {
        "content": "<p>(Note that this is already confusing in the face of notation like <code>C(X, Y)</code>, where <code>¬∑</code> doesn't behave as the <code>()</code>s would imply)</p>",
        "id": 536419119,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1756300880
    },
    {
        "content": "<p>But, but, but, that's the <em>possibility</em> of doing something where the <code>¬∑</code> is confusing, rather than <em>insisting</em> that people use it in a confusing way!</p>",
        "id": 536419327,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1756300949
    },
    {
        "content": "<p>Right, I parenthesized that because it's not that relevant an argument</p>",
        "id": 536421459,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1756301540
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20intervals/near/536418986\">said</a>:</p>\n<blockquote>\n<p>the rule could change from \"<code>¬∑</code> is associated with the next set of <code>()</code> parentheses\" to \"<code>¬∑</code> is associated with the next set of <code>()</code> or <code>{}</code> delimiters\"</p>\n</blockquote>\n<p>Then we would lose <code>({ foo with bar := ¬∑ })</code></p>",
        "id": 536427687,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1756303286
    },
    {
        "content": "<p><code>fun bar =&gt; { foo with bar }</code> isn't a terrible replacement</p>",
        "id": 536477727,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1756319800
    },
    {
        "content": "<p>But yes, this would be a breaking change - we already knew that, because <code>({¬∑ &lt; 6})</code> is already something else.</p>",
        "id": 536477765,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1756319817
    },
    {
        "content": "<p>Whatever happened to keeping <code>Ixx</code>? Is that completely out of the table?</p>",
        "id": 536552935,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1756368883
    },
    {
        "content": "<p>My interpretation of any notation proposal would be that the Ixx definitions would stay.</p>\n<p>There at least a few potential implementations of the proposal however:</p>\n<ol>\n<li>It could be a notation only for <code>Set</code>.</li>\n<li>Both <code>Set</code> and <code>Finset</code> could have scoped notations for it.</li>\n<li>The interval syntaxes could have an elaborator that tries to select whether it's a <code>Set</code> or a <code>Finset</code> depending on the expected type, defaulting to <code>Set</code>.</li>\n<li>There could be <code>Ixx</code> classes with a <code>Set</code> default instance. The notation targets these classes. Mathlib is refactored to be in terms of these <code>Ixx</code> classes.</li>\n</ol>",
        "id": 536645809,
        "sender_full_name": "Kyle Miller",
        "timestamp": 1756399004
    },
    {
        "content": "<p>I generally like <code>‚ãØ</code> in the notation, but it's something that for me is so associated to \"hidden proof terms\" that if I saw it in an info view I would instinctively parse it as \"there's some other expression here that's not being shown\". I think the low ellipsis <code>‚Ä¶</code> would be better then, it also looks much more reminiscent of the <code>a .. b</code> range syntax that is in several languages (e.g. Haskell), and also the v4.22 range syntax.</p>",
        "id": 536652593,
        "sender_full_name": "Alex Meiburg",
        "timestamp": 1756401505
    },
    {
        "content": "<p>I think there is overwhelming support to change the interval notation to <code>{5 ‚â§ ‚ãØ &lt; 6}</code><br>\nIf someone that thinks we should use <code>‚Ä¶</code> instead wants to make a poll to decide between <code>‚ãØ</code>/<code>‚Ä¶</code>, please go ahead. I personally prefer to use middle dots between relation symbols.</p>",
        "id": 537052704,
        "sender_full_name": "Floris van Doorn",
        "timestamp": 1756713247
    },
    {
        "content": "<p>/poll cdots vs ldots</p>\n<ul>\n<li>cdots</li>\n<li>ldots</li>\n<li>wut? I don't care</li>\n</ul>",
        "id": 537053024,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1756713326
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"111080\">Floris van Doorn</span> <a href=\"#narrow/channel/287929-mathlib4/topic/notation.20for.20intervals/near/537052704\">said</a>:</p>\n<blockquote>\n<p>I think there is overwhelming support to change the interval notation to <code>{5 ‚â§ ‚ãØ &lt; 6}</code></p>\n</blockquote>\n<p>Has this been discussed elsewhere? I still feel completely blindsided by this. I think the Ixx system was very elegant and avoided precisely this kind of bikeshedding.</p>\n<p>What will happen with theorem names? Will we keep using Ixx in them, or are we going to mass rename them into something else (presumably much longer)?</p>",
        "id": 537703149,
        "sender_full_name": "Violeta Hern√°ndez",
        "timestamp": 1757000709
    },
    {
        "content": "<p>The Ixx theorem names are staying the same.</p>",
        "id": 537704314,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1757001071
    },
    {
        "content": "<p>I don't mind Ixx, but if we do change, I like <code>{5 ‚â§ ‚ãØ &lt; 6}</code></p>",
        "id": 537704475,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757001121
    },
    {
        "content": "<p>I don't like <code>{5 ‚â§ ‚ãØ &lt; 6}</code> because that's <code>{5 \\le \\... &lt; 6}</code> which is 16 chars to type (mostly special characters) while <code>Set.Ico 5 6</code> is only 11 (mostly letters) and <code>Ico 5 6</code> is only 7 (mostly letters)</p>",
        "id": 537705522,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757001442
    },
    {
        "content": "<p>How about if we add a keyboard shortcut <code>\\Ico</code>?</p>",
        "id": 537705724,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1757001503
    },
    {
        "content": "<p>if you can get it to put my cursor in the right spots then I'd be more supportive</p>",
        "id": 537705936,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1757001573
    },
    {
        "content": "<p>You can always <code>\"Ico\": \"{$CURSOR ‚â§ ‚ãØ &lt; }\"</code> but I don't think you can get it to also put you into the second spot without manually moving your cursor there.</p>",
        "id": 537706811,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757001803
    },
    {
        "content": "<p>alternatively, you could have <code>\"Ico\": \"‚â§ ‚ãØ &lt;\"</code>, so you only need to type <code>{a \\Ico b}</code> but idk</p>",
        "id": 537707033,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757001877
    },
    {
        "content": "<p>VSCode does give you the option of placing several \"default\" positions for the cursor and you move between them with <code>Tab</code>.</p>",
        "id": 537707126,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757001901
    },
    {
        "content": "<p>So you could have <code>\"Ico\": \"{$0 ‚â§ ‚ãØ &lt; $1}$2\"</code> (or something similar) and you could go through them.</p>",
        "id": 537707332,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757001972
    },
    {
        "content": "<p>Yeah I suppose we'd need support for that in the VS code extension though</p>",
        "id": 537707431,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757002000
    },
    {
        "content": "<p>Editing the vscode settings already has support for this.</p>",
        "id": 537707502,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757002023
    },
    {
        "content": "<p>I mean, if you add <code>\"Ico\": \"{$CURSOR ‚â§ ‚ãØ &lt; $CURSOR}$CURSOR\"</code>, you get <code>{ ‚â§ ‚ãØ &lt; $CURSOR}$CURSOR</code> currently</p>",
        "id": 537708292,
        "sender_full_name": "Robin Arnez",
        "timestamp": 1757002294
    },
    {
        "content": "<p>Having just added</p>\n<div class=\"codehilite\" data-code-language=\"JSON\"><pre><span></span><code><span class=\"w\">    </span><span class=\"nt\">\"ICO template\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"nt\">\"scope\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"lean4\"</span><span class=\"p\">,</span>\n<span class=\"w\">        </span><span class=\"nt\">\"prefix\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Ico\"</span><span class=\"p\">,</span>\n<span class=\"w\">        </span><span class=\"nt\">\"body\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">            </span><span class=\"s2\">\"{$1 ‚â§ ‚ãØ &lt; $2}$3\"</span><span class=\"p\">,</span>\n<span class=\"w\">        </span><span class=\"p\">],</span>\n<span class=\"w\">        </span><span class=\"nt\">\"description\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"Print a template for an interval\"</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n</code></pre></div>\n<p>to my snippets file, I typed</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>Ico<span class=\"o\">[</span>Tab<span class=\"o\">]</span>a<span class=\"o\">[</span>Tab<span class=\"o\">]</span>b<span class=\"o\">[</span>Tab<span class=\"o\">]</span>c\n</code></pre></div>\n<p>and I obtained</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code><span class=\"o\">{</span>a<span class=\"w\"> </span>‚â§<span class=\"w\"> </span>‚ãØ<span class=\"w\"> </span>&lt;<span class=\"w\"> </span>b<span class=\"o\">}</span>c\n</code></pre></div>",
        "id": 537709815,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757002810
    },
    {
        "content": "<p>So, I agree that it would be good if the extension did this automatically, but you can achieve the same effect without support from the extension.</p>",
        "id": 537709966,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1757002874
    },
    {
        "content": "<p>(deleted, that was an old draft message...)</p>",
        "id": 538222248,
        "sender_full_name": "Julian Berman",
        "timestamp": 1757337021
    }
]