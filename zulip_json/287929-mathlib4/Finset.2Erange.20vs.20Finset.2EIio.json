[
    {
        "content": "<p>Might I ask why we have two names for exactly the same thing? We even have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Nat.Iio_eq_range#doc\">docs#Nat.Iio_eq_range</a> linking them together.</p>",
        "id": 562011363,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1764902698
    },
    {
        "content": "<p>Finset.range was there long before Finset.Iio</p>",
        "id": 562014392,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1764905216
    },
    {
        "content": "<p>I think that we should</p>\n<ul>\n<li>move code around so that the definition of <code>LocallyFiniteOrder</code> can be imported by the time we define <code>Finset.range</code>;</li>\n<li>migrate from <code>Finset.range</code> to <code>Finset.Iio</code>, deprecate the former;</li>\n<li>once <code>Finset.range</code> name is up to be reused, redefine it as <code>Finset.univ.image f</code>.</li>\n</ul>",
        "id": 562014548,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1764905330
    },
    {
        "content": "<p>But I have no time to do it.</p>",
        "id": 562014558,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1764905338
    },
    {
        "content": "<p>Note we're still missing quite a lot of the basic helpful rewrite lemmas for Finset.Iio (and indeed most of the finset intervals), eg <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Finset.range_add_one#doc\">docs#Finset.range_add_one</a>, so I'd prefer for the finset interval api to be a bit more complete before making the migration. The shortest sequence of rewrites I know for that lemma in Iio language is</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">Iio</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"bp\">+</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">insert</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">Iio</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">Iio_insert</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">←</span><span class=\"w\"> </span><span class=\"n\">Finset</span><span class=\"bp\">.</span><span class=\"n\">Iio_succ_eq_Iic</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">Order</span><span class=\"bp\">.</span><span class=\"n\">succ_eq_add_one</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>and similar things apply for the other finset intervals too.</p>",
        "id": 562018781,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1764909009
    },
    {
        "content": "<p>In order to migrate from <code>Finset.range</code> to <code>Finset.Iio</code>, we need <code>Finset.Iio</code> versions of all <code>Finset.range</code> lemmas (with appropriate typeclass assumptions instead of <code>Nat</code>). That's why it needs more time than I have for this.</p>",
        "id": 562028822,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1764915747
    },
    {
        "content": "<p>While I generally dislike having multiple ways of spelling the same thing, it is funny how I have been seeing this particular one fine without realizing it, probably because I have already seen a lot of specialized [0, n) range in the programming world</p>",
        "id": 562119832,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1764946409
    }
]