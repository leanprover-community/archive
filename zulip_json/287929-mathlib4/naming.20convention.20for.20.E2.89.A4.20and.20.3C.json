[
    {
        "content": "<p>We want use the <code>to_dual</code> attribute to generate dual statements for lemmas about order. Some of the dual lemmas are very similar to the original, so we need a naming convention that can distinguish them. For these simple lemas, <code>to_dual</code> just replaces any <code>a ≤ b</code> with <code>b ≤ a</code> and <code>a &lt; b</code> with <code>b &lt; a</code>. When there is ambiguity, we can either use <code>ge</code>/ <code>gt</code> for the reversed relations, or use a <code>'</code>. Here are some examples:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">le_trans</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">c</span>\n<span class=\"n\">ge_trans</span><span class=\"bp\">/</span><span class=\"n\">le_trans'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"n\">le_of_eq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"n\">ge_of_eq</span><span class=\"bp\">/</span><span class=\"n\">le_of_eq'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"n\">le_or_lt</span><span class=\"bp\">/</span><span class=\"n\">le_or_gt</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"n\">ne_iff_lt_or_lt</span><span class=\"bp\">/</span><span class=\"n\">ne_iff_lt_or_gt</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"n\">ne_iff_lt_or_lt'</span><span class=\"bp\">/</span><span class=\"n\">ne_iff_gt_or_lt</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"n\">Ne</span><span class=\"bp\">.</span><span class=\"n\">lt_of_le</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"n\">Ne</span><span class=\"bp\">.</span><span class=\"n\">lt_of_le'</span><span class=\"bp\">/</span><span class=\"n\">Ne</span><span class=\"bp\">.</span><span class=\"n\">gt_of_ge</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>\n<p>I made a PR for this at <a href=\"https://github.com/leanprover-community/mathlib4/pull/24376\">#24376</a>, but I would like some feedback on what names people prefer.</p>",
        "id": 514545998,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745678931
    },
    {
        "content": "<p>From that PR, I found this name particularly confusing:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">gt_or_eq_of_ge</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>",
        "id": 514550839,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745682354
    },
    {
        "content": "<p>i think this shows that for these lemmas, the current naming scheme is too ambiguous to be able to deduce the full statement, unless we reconsider when/how we choose between <code>ge</code>/<code>le</code>. In particular, it seems like swapping <em>all</em> occurrences gives names which are hard to interpret, while simply adding a prime still leaves the question of what the original statement is...<br>\nIn order to try to shine some clarity on how these lemmas should be named, i'd like to put forward an observation:</p>\n<ul>\n<li>We don't actually use <code>≥</code> and <code>&gt;</code> in theorems, which is what allows us to use <code>ge</code> and <code>le</code> instead for<code>≤</code> and <code>&lt;</code>. </li>\n<li>When lemmas have <code>ge</code> or <code>gt</code> instead of <code>le</code> or <code>lt</code> respectively, it tends to indicate a <em>contravariantness</em> compared to the order in which the arguments to the concerning operator usually occurs in. (i.e. if the first time the arguments occur in that order are <code>a,b</code>, the term <code>a ≤ b</code> is referred to with <code>le</code>, whereas <code>b ≤ a</code> is referred to as <code>ge</code>)</li>\n</ul>\n<p>I don't know if this is a good way to give stronger meaning to a choice between <code>ge</code> and <code>le</code>, but i would like to know if people think this \"co/contravariantness\" is a relevant notion to think about for this problem</p>",
        "id": 514553542,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745684094
    },
    {
        "content": "<p>Yes, the way I was doing it in the case that there is also an <code>a = b</code> is to say that that is 'the' order. and then pick between <code>le</code>/<code>ge</code> based on that.</p>",
        "id": 514553843,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745684301
    },
    {
        "content": "<p>the reason for that choice being, there is no \"contravariant\" for equality?</p>",
        "id": 514553942,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745684402
    },
    {
        "content": "<p>The idea was that normally, we always write <code>a = b</code> in the alphabetical order (assuming <code>a</code> and <code>b</code> are bound in the same place). So normally, this determines the alphabetical order.</p>",
        "id": 514554150,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745684582
    },
    {
        "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 514554157,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745684597
    },
    {
        "content": "<p>Alright, let's not involve the order of <code>=</code>, and use the contravariantness as you described. Then the lemmas become</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">le_trans</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">c</span>\n<span class=\"n\">ge_trans</span><span class=\"bp\">/</span><span class=\"n\">le_trans'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"n\">le_of_eq</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"n\">le_of_eq'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"n\">le_or_gt</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span>\n\n<span class=\"n\">ne_iff_lt_or_gt</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"n\">ne_iff_lt_or_gt'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"n\">Ne</span><span class=\"bp\">.</span><span class=\"n\">lt_of_le</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span>\n<span class=\"n\">Ne</span><span class=\"bp\">.</span><span class=\"n\">lt_of_le'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≠</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span>\n\n<span class=\"n\">lt_or_eq_of_le'</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">∨</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>And then I propose that these become aliases of <code>le_trans'</code>, <code>lt_trans'</code>, <code>le_antisymm'</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">ge_trans</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"n\">gt_trans</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">c</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"n\">ge_antisymm</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">b</span>\n</code></pre></div>",
        "id": 514557049,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745686688
    },
    {
        "content": "<p>What do you think about <code>LT.lt.not_le : a &lt; b → ¬b ≤ a</code>? should it be renamed to <code>LT.lt.not_ge</code>?</p>",
        "id": 514557791,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745687195
    },
    {
        "content": "<p>i think that makes sense, actually</p>",
        "id": 514558055,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1745687379
    },
    {
        "content": "<p>For <code>ne_of_lt' (h : b &lt; a) : a ≠ b</code>, mathlib uses <code>ne_of_gt</code>. I'll also replace that.</p>",
        "id": 514558375,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1745687637
    },
    {
        "content": "<p>To keep this moving forward, would someone like to volunteer to make a companion PR to <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/blob/lean4/templates/contribute/naming.md\">the naming guide</a>?</p>",
        "id": 515786715,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1746215256
    },
    {
        "content": "<p>I realize now I should probably separate out the part of the PR that renames lemmas, so that that is easier to review. Then that could go together with a change to the naming guide. Should the PR also change all occurrences of the names? I'd rather temporarily keep the old names so that the PR is manageable, with a TODO to deprecate the old names.</p>\n<p>There are also a few lemmas in core e.g. in the Nat and Int namespace that should be renamed for the new convention.</p>",
        "id": 515801670,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1746221409
    },
    {
        "content": "<p>Yes, if it isn't too much trouble, splitting it up into more easily-reviewable chunks would be greatly appreciated.</p>",
        "id": 515802060,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1746221575
    },
    {
        "content": "<p>Here are the changes I'm proposing for this PR</p>\n<ul>\n<li>adding <code>ge</code>/<code>gt</code>:</li>\n</ul>\n<p><code>lt_or_le</code> -&gt; <code>lt_or_ge</code><br>\n<code>le_or_lt</code> -&gt; <code>le_or_gt</code><br>\n<code>not_lt_of_lt</code> -&gt; <code>not_lt_of_gt</code><br>\n<code>not_le_of_lt</code> -&gt; <code>not_le_of_gt</code><br>\n<code>not_lt_of_le</code> -&gt; <code>not_lt_of_ge</code><br>\n<code>le_of_not_le</code> -&gt; <code>le_of_not_ge</code><br>\n<code>le_of_not_lt</code> -&gt; <code>le_of_not_gt</code><br>\n<code>lt_of_not_le</code> -&gt; <code>lt_of_not_ge</code><br>\n<code>lt_iff_not_le</code> -&gt; <code>lt_iff_not_ge</code><br>\n<code>lt_of_le_not_le</code> -&gt; <code>lt_of_le_not_ge</code><br>\n<code>lt_iff_le_not_le</code> -&gt; <code>lt_iff_le_not_ge</code><br>\n<code>eq_or_lt_of_not_lt</code> -&gt; <code>eq_or_lt_of_not_gt</code><br>\n<code>not_lt_iff_le_imp_le</code> -&gt; <code>not_lt_iff_le_imp_ge</code><br>\n<code>ge_imp_eq_iff_le_imp_le</code> -&gt; <code>le_imp_eq_iff_le_imp_ge : (a ≤ b → a = b) ↔ (a ≤ b → b ≤ a)</code></p>\n<p><code>Ne.lt_or_lt</code> -&gt; <code>Ne.lt_or_gt</code><br>\n<code>Ne.not_le_or_not_le</code> -&gt; <code>Ne.not_le_or_not_ge</code></p>\n<p><code>LT.lt.not_lt</code> -&gt; <code>LT.lt.not_gt</code><br>\n<code>LT.lt.not_le</code> -&gt; <code>LT.lt.not_ge</code><br>\n<code>LE.le.not_lt</code> -&gt; <code>LE.le.not_gt</code><br>\n<code>LE.le.lt_of_not_le</code> -&gt; <code>LE.le.lt_of_not_ge</code></p>\n<ul>\n<li>removing <code>ge</code>/<code>gt</code>:</li>\n</ul>\n<p><code>gt_of_gt_of_ge</code> -&gt; <code>lt_of_lt_of_le'</code><br>\n<code>gt_of_ge_of_gt</code> -&gt; <code>lt_of_le_of_lt'</code><br>\n<code>ne_of_gt</code> -&gt; <code>ne_of_lt'</code><br>\n<code>ge_of_eq</code> -&gt; <code>le_of_eq'</code><br>\n<code>eq_or_gt_of_le</code> -&gt; <code>eq_or_lt_of_le'</code><br>\n<code>gt_or_eq_of_le</code> -&gt; <code>lt_or_eq_of_le'</code></p>\n<p><code>Eq.ge</code> -&gt; <code>Eq.le'</code><br>\n<code>Eq.not_gt</code> -&gt; <code>Eq.not_lt'</code></p>\n<p><code>LE.le.eq_or_gt</code> -&gt; <code>LE.le.eq_or_lt'</code><br>\n<code>LE.le.gt_or_eq</code> -&gt; <code>LE.le.lt_or_eq'</code><br>\n<code>LE.le.eq_or_gt</code> -&gt; <code>LE.le.eq_or_lt'</code><br>\n<code>LE.le.gt_or_eq</code> -&gt; <code>LE.le.lt_or_eq'</code></p>\n<ul>\n<li>removing:</li>\n</ul>\n<p><code>gt_irrefl</code> (same as <code>lt_irrefl</code>)</p>\n<ul>\n<li>Bound variable plays the role of first argument:</li>\n</ul>\n<p><code>LE.le.lt_or_le</code> -&gt; <code>LE.le.(forall_)gt_or_le (h : a ≤ b) (c : α) : a &lt; c ∨ c ≤ b</code><br>\n<code>LE.le.le_or_lt</code> -&gt; <code>LE.le.(forall_)ge_or_lt</code><br>\n<code>LE.le.le_or_le</code> -&gt; <code>LE.le.(forall_)ge_or_le</code></p>\n<p><code>le_of_forall_lt'</code> -&gt; <code>le_of_forall_gt (H : ∀ c, a &lt; c → b &lt; c) : b ≤ a</code><br>\n<code>forall_lt_iff_le'</code> -&gt; <code>forall_gt_iff_le</code></p>",
        "id": 515898748,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1746277917
    },
    {
        "content": "<p>For some of the ones that remove <code>ge</code>/<code>gt</code>, I think it's not so clear that they are a good change, since they introduce primed names.</p>",
        "id": 515898967,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1746277989
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/24775\">#24775</a> implements the first block of renames in my message above. It replaces all occurences and adds deprecations. The replacements were done automatically, in the first commit, so that the remaining commits are easier to review separately. It would be nice if this could be reviewed quickly, since it will probably quickly gather merge conflicts.</p>",
        "id": 517358637,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1746967736
    },
    {
        "content": "<p>Do you mind also creating a PR to the naming guide (with examples, etc.) that we can reference / merge simultaneously?</p>",
        "id": 517359032,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1746968103
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/626\">https://github.com/leanprover-community/leanprover-community.github.io/pull/626</a></p>\n<p>Here's the PR to the naming guide. The correctness of the included examples depends on more changes than just this mathilb PR.</p>",
        "id": 517362107,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1746970948
    },
    {
        "content": "<p>In the update to the naming convention, I recommend <code>ne_of_gt</code> over <code>ne_of_lt'</code> (contrary to my message above). Feel free to make suggestions about the details of the new naming convention.</p>",
        "id": 517362280,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1746971119
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> When you have some time could you take a look at <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/626\">https://github.com/leanprover-community/leanprover-community.github.io/pull/626</a> and see if the rules are OK?</p>",
        "id": 518049304,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1747224873
    },
    {
        "content": "<p>I've made a new PR to the naming guide clarifying how to determine which order is considered normal, and which is considered swapped. This uses the convention suggested by <span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span> in <a href=\"https://github.com/leanprover-community/mathlib4/pull/24775#discussion_r2094712550\">a comment</a></p>\n<p><a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/629\">https://github.com/leanprover-community/leanprover-community.github.io/pull/629</a></p>",
        "id": 519610504,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1747833505
    },
    {
        "content": "<p>An example is:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">not_ge_of_lt</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Preorder</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>Jovan had named this <code>not_le_of_gt</code> in <a href=\"https://github.com/leanprover-community/mathlib4/pull/24775\">#24775</a>, but using <code>lt</code> for <code>h : a &lt; b</code> felt more natural to me since it shows up first in the theorem statement (as opposed to using <code>le</code> for <code>b ≤ a</code> which shows up first in the name).</p>\n<p>Pinging <span class=\"user-mention\" data-user-id=\"246273\">@Bhavik Mehta</span> <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> again for comments.</p>",
        "id": 519612895,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1747834121
    },
    {
        "content": "<p>btw we also have <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LT.lt.not_le#doc\">docs#LT.lt.not_le</a></p>",
        "id": 519619923,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1747835885
    },
    {
        "content": "<p>Thanks! I added a comment to <a href=\"https://github.com/leanprover-community/mathlib4/pull/24775\">#24775</a> pointing those out.</p>",
        "id": 519620814,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1747836122
    },
    {
        "content": "<p>All right, I've ported <a href=\"https://github.com/leanprover-community/mathlib4/pull/24775\">#24775</a> to the updated naming convention, so it is ready for review again</p>",
        "id": 522465155,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749077775
    },
    {
        "content": "<p>Thanks for merging it. Part 2 is now at <a href=\"https://github.com/leanprover-community/mathlib4/pull/25560\">#25560</a></p>",
        "id": 522889972,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749295906
    },
    {
        "content": "<p>Here's part 3: <a href=\"https://github.com/leanprover-community/mathlib4/pull/25566\">#25566</a></p>",
        "id": 522905474,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749314125
    },
    {
        "content": "<p>I've also made <a href=\"https://github.com/leanprover-community/mathlib4/pull/25567\">#25567</a> to deprecate <code>gt_irrefl</code>.<br>\nAnd I've made <a href=\"https://github.com/leanprover-community/mathlib4/pull/25568\">#25568</a> to reorder some lemmas in <code>Mathlib.Order.Basic</code>, so that they are in the correct section.</p>",
        "id": 522907687,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749316623
    },
    {
        "content": "<p><code>LE.le.ge</code>, <code>GE.ge.le</code>, <code>LT.lt.gt</code> and <code>GT.gt.lt</code> don't follow the new naming convention, and don't seem very useful. Should we deprecate them?</p>",
        "id": 522908950,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749318076
    },
    {
        "content": "<p>The same could be said about <code>gt_iff_lt</code> and <code>ge_iff_le</code>, but they are actually used sometimes. And those are defined in core.</p>",
        "id": 522909136,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749318331
    },
    {
        "content": "<p>Keep them please</p>",
        "id": 522909654,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1749319060
    },
    {
        "content": "<p>What do people think about adding the following line of code to <code>Mathlib.Init</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"sd\">/-- Declare `∃ x &gt; y, ...` as syntax for `∃ x, y &lt; x ∧ ...` -/</span>\n<span class=\"n\">binder_predicate</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">priority</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">high</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"s2\">\" &gt; \"</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">:</span><span class=\"n\">term</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">`</span><span class=\"o\">(</span><span class=\"bp\">$</span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"bp\">$</span><span class=\"n\">x</span><span class=\"o\">)</span>\n</code></pre></div>\n<p>And modifying the pretty printer accordingly?</p>\n<p>Then we can continue to use the nice <code>∃ x &gt; y</code> and <code>∀ x &gt; y</code> notation, without the headache of having to rewrite with <code>gt_iff_lt</code> every time.</p>",
        "id": 522910464,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749319974
    },
    {
        "content": "<p>Yes, in fact I don't understand why Core doesn't do this already</p>",
        "id": 522910485,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1749320004
    },
    {
        "content": "<p>if core did this, i imagine it would rather turn it into <code>`($x &gt; $y)</code></p>",
        "id": 522910523,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749320051
    },
    {
        "content": "<p>simply for the sake of consistency</p>",
        "id": 522910546,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749320070
    },
    {
        "content": "<p>That's what core is currently doing. Hence the need for <code>(priority := high)</code>.</p>",
        "id": 522910560,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749320090
    },
    {
        "content": "<p>ah, i misunderstood the issue</p>",
        "id": 522910615,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1749320142
    },
    {
        "content": "<p>Here's part 4: <a href=\"https://github.com/leanprover-community/mathlib4/pull/25572\">#25572</a></p>\n<p>This one fixes the transitivity lemmas. In particular, it deprecates <code>gt_of_gt_of_ge</code> and <code>gt_of_ge_of_gt</code></p>",
        "id": 522913132,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749323327
    },
    {
        "content": "<p>I tried to add that to core (or batteries?) but got refused</p>",
        "id": 522917891,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1749329108
    },
    {
        "content": "<p>Yeah, I can imagine core wouldn't be too keen on this because it might be confusing. But it fits with the mathlib convention of mostly using <code>≤</code> and <code>&lt;</code>. I'm making an attempt to do this in mathlib here <a href=\"https://github.com/leanprover-community/mathlib4/pull/25573\">#25573</a>.</p>",
        "id": 522918066,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749329311
    },
    {
        "content": "<p>Do we agree with renames like these?</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">LE</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"bp\">.</span><span class=\"n\">le_iff_eq</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">LE</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"bp\">.</span><span class=\"n\">ge_iff_eq'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">h</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">↔</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span>\n<span class=\"n\">LE</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"bp\">.</span><span class=\"n\">eq_of_not_gt</span><span class=\"w\"> </span><span class=\"bp\">-&gt;</span><span class=\"w\"> </span><span class=\"n\">LE</span><span class=\"bp\">.</span><span class=\"n\">le</span><span class=\"bp\">.</span><span class=\"n\">eq_of_not_lt'</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hab</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">≤</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hba</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"bp\">¬</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">a</span>\n</code></pre></div>\n<p>Although this does follow the new naming rules, it means we end up with more primed names, which is not ideal.</p>",
        "id": 522922170,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749335422
    },
    {
        "content": "<p>All right, I haven't heard anyone complain, so here's part 5: <a href=\"https://github.com/leanprover-community/mathlib4/pull/25586\">#25586</a><br>\nAmong other things, it does the above renames</p>",
        "id": 522974656,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1749385491
    },
    {
        "content": "<p>I think this concludes all of the renaming of lemmas about <code>≤</code> and <code>&lt;</code>. We haven't talked about <code>EventuallyLE</code>, but I presume we want it to follow the same naming, hence I've made <a href=\"https://github.com/leanprover-community/mathlib4/pull/26969\">#26969</a> which renames # <code>EventuallyLE.le_iff_eq</code> to <code>EventuallyLE.ge_iff_eq'</code></p>",
        "id": 528098149,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1752158300
    },
    {
        "content": "<p>I spotted one more wrongly named lemma: <a href=\"https://github.com/leanprover-community/mathlib4/pull/27269\">#27269</a></p>",
        "id": 529536307,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1752880759
    },
    {
        "content": "<p>Does <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=StrictAnti.lt_iff_lt#doc\">docs#StrictAnti.lt_iff_lt</a> count as badly named?</p>",
        "id": 533556479,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1754718266
    },
    {
        "content": "<p>I made a PR for it <a href=\"https://github.com/leanprover-community/mathlib4/pull/28314\">#28314</a></p>",
        "id": 534060244,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1755035306
    },
    {
        "content": "<p>Oh, thanks! I got a bit distracted.</p>",
        "id": 534789675,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1755386946
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 564127727,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1765917071
    },
    {
        "content": "<p>I've taken over the PR changing the bounded quantification delaborator at <a href=\"https://github.com/leanprover-community/mathlib4/pull/32985\">#32985</a> (edited)<br>\nI'd push for a consensus about whether to go ahead to prevent the PR rotting</p>",
        "id": 564150284,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1765928191
    },
    {
        "content": "<p>Thank you for this! I've seen this as a problem for the longest time.</p>",
        "id": 564198925,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1765961611
    },
    {
        "content": "<p>Looks like it's not happening <span aria-label=\"frowning\" class=\"emoji emoji-1f626\" role=\"img\" title=\"frowning\">:frowning:</span> <br>\nFrom my understanding the maintainers want the change to be made in core by replacing <code>GE</code> with notation, if any change is made at all.</p>",
        "id": 564343320,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1766005911
    },
    {
        "content": "<p>If there is continued appetite for this change, please feel free to make an RFC to Lean (I don't have the capacity to and I don't care strongly enough).</p>",
        "id": 564738727,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1766162698
    },
    {
        "content": "<p>Getting rid of <code>&gt;</code> altogether seems really drastic. But I support the iniciative.<br>\nCan't take it myself since the last times I've tried PRing to core it has not gone very well.</p>",
        "id": 564771943,
        "sender_full_name": "Violeta Hernández",
        "timestamp": 1766176353
    },
    {
        "content": "<p>I don't think core lean should get rid of <code>&gt;</code>, because it is a normal thing in real world mathematics. I also don't think that the change to the forall and exists binder predicates will be accepted in core, because it is confusing.</p>\n<p>I can only imagine that core would improve the ability to use &lt; and &gt; interchangeably.</p>",
        "id": 564772307,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1766176549
    },
    {
        "content": "<p>We should have <code>a &gt; b</code>, but I haven't seen the argument yet why it can't be notation for <code>LT.lt b a</code></p>",
        "id": 564776114,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1766178659
    },
    {
        "content": "<p>Oh, maybe there's one that it messes with <code>calc</code> like <code>\\in</code> does</p>",
        "id": 564776181,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1766178691
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"459227\">Violeta Hernández</span> <a href=\"#narrow/channel/287929-mathlib4/topic/naming.20convention.20for.20.E2.89.A4.20and.20.3C/near/564771943\">said</a>:</p>\n<blockquote>\n<p>Getting rid of <code>&gt;</code> altogether seems really drastic. But I support the iniciative.<br>\nCan't take it myself since the last times I've tried PRing to core it has not gone very well.</p>\n</blockquote>\n<p>It would be notation, not removed</p>",
        "id": 564778911,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1766180335
    }
]