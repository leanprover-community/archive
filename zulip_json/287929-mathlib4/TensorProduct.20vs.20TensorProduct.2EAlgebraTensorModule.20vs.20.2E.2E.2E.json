[
    {
        "content": "<p>We currently have two ways to talk about the tensor product of modules:</p>\n<ul>\n<li>Things in the <code>TensorProduct</code> namespace are about the tensor product of two <code>R</code>-modules <code>M</code> and <code>N</code> as an <code>R</code>-module</li>\n<li>Things in the <code>TensorProduct.AlgebraTensorModule </code> namespace are about the tensor product of an<code>R</code>-module <code>M</code> with an <code>A</code>-module <code>N</code> as an <code>A</code>-module, where <code>A</code> is an <code>R</code>-algebra</li>\n</ul>",
        "id": 521089114,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1748523372
    },
    {
        "content": "<p>On top of this, there's the tensor product of algebras and of coalgebras whose respective APIs lie in the <code>Algebra.TensorProduct</code> and <code>Coalgebra.TensorProduct</code> namespaces (making the <code>Algebra</code> and <code>Coalgebra</code> namespaces basically unopenable btw, since almost everything in <code>Algebra.TensorProduct</code>/<code>Coalgebra.TensorProduct</code> would conflict with almost everything in the <code>TensorProduct</code> namespace).</p>",
        "id": 521089325,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1748523468
    },
    {
        "content": "<p>Declarations in the <code>TensorProduct</code> namespace are <strong>not</strong> defeq to their analogues in the <code>TensorProduct.AlgebraTensorModule</code> namespace. For most of these declarations, mathlib doesn't even know that they are equal (in fact, <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=TensorProduct.AlgebraTensorModule.rid_eq_rid#doc\">docs#TensorProduct.AlgebraTensorModule.rid_eq_rid</a> is the only one I could find)</p>",
        "id": 521089957,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1748523679
    },
    {
        "content": "<p>Recently, <span class=\"user-mention\" data-user-id=\"439483\">@Andrew Yang</span> changed the defeq of the declarations in the <code>Coalgebra.TensorProduct</code> namespace from the ones in <code>TensorProduct</code> to the ones in <code>TensorProduct.AlgebraTensorModule</code>. Toric quite literally exploded.</p>",
        "id": 521090183,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1748523758
    },
    {
        "content": "<p>Have you considered removing the <code>|| catch_fire</code> step from your CI, if the explosion was literal?</p>",
        "id": 521090296,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1748523810
    },
    {
        "content": "<p>Okay, it didn't explode <em>that</em> literally <span aria-label=\"laughing\" class=\"emoji emoji-1f606\" role=\"img\" title=\"laughing\">:laughing:</span></p>",
        "id": 521090431,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1748523853
    },
    {
        "content": "<p>I would guess that we want to drop everything in <code>TensorProduct</code> and replace it with the stuff in <code>AlgebraTensorModule</code>, but that we didn't do so in the past because of performance</p>",
        "id": 521090477,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1748523868
    },
    {
        "content": "<p>Or maybe the generalities were not comparable until more recently</p>",
        "id": 521090554,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1748523891
    },
    {
        "content": "<p>I also agree that the <code>Foo.TensorProduct</code> namespacing is terrible, but I think it's difficult to clean this up without first doing the merge I just described.</p>",
        "id": 521090636,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1748523922
    },
    {
        "content": "<p>Here's the PR making them defeq so we can switch more easily later: <a href=\"https://github.com/leanprover-community/mathlib4/pull/25298\">#25298</a></p>",
        "id": 521091350,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1748524164
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 521094097,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1748525066
    }
]