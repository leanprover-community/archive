[
    {
        "content": "<p>I am a bit dismayed that now I am forced to rewrite all of my uses of <code>induction'</code> (primed) to the new unprimed syntax throughout various repos, though I understand the motivation for cleaning it up.</p>\n<p>But, at least: <strong>is there a page documenting the syntax</strong>? The Mathlib4 source doesn't seem to do this (typically, Mathlib doesn't contained documentation for Mathlib tactics), but also the Lean 4 manual doesn't seem to do it either.</p>",
        "id": 548043641,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761863832
    },
    {
        "content": "<p>If a page documenting the syntax did exist, it would be wonderful to link to it from </p>\n<ol>\n<li><a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Tactics.html#Lean.Parser.Tactic.induction\">https://leanprover-community.github.io/mathlib4_docs/Init/Tactics.html#Lean.Parser.Tactic.induction</a></li>\n<li>Some of the error messages in <a href=\"https://github.com/leanprover-community/mathlib4/commit/5e8936e560f53cd39eb49ed22e93662a0f0a1928\">https://github.com/leanprover-community/mathlib4/commit/5e8936e560f53cd39eb49ed22e93662a0f0a1928</a> (this I guess is obsolete, not that the tactic is just gone)</li>\n</ol>",
        "id": 548044264,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761864140
    },
    {
        "content": "<p>I think <a class=\"message-link\" href=\"/#narrow/channel/113488-general/topic/Discussion.20thread.20for.20Lean.20Language.20Reference/near/511012166\">#general &gt; Discussion thread for Lean Language Reference @ ðŸ’¬</a>  is a related message from David with his thoughts at least at that moment.</p>",
        "id": 548044510,
        "sender_full_name": "Julian Berman",
        "timestamp": 1761864269
    },
    {
        "content": "<p>I should clarify that I am less concerned about abstract thoughts than I am about <strong>actually knowing how to use the tactic</strong>. I don't know how to use <code>induction</code>. I can piece it together with a bunch of grepping through mathlib, but usually when I do things that way I miss some of the flavour and different modes of how to use things. My impression is that <code>induction</code> is a commonly used tactic, and I would like to understand it well.</p>",
        "id": 548044841,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761864441
    },
    {
        "content": "<p>Ah, I think you interpreted \"documenting the syntax\" as \"provide a formal grammar\". I meant a normal page with any kind of documentation at all!</p>",
        "id": 548044939,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761864502
    },
    {
        "content": "<p>Indeed I did -- the latter seems lots more likely to already exist but I don't know of where specifically it might be, I see <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a> still uses <code>induction'</code> at least.</p>",
        "id": 548045024,
        "sender_full_name": "Julian Berman",
        "timestamp": 1761864544
    },
    {
        "content": "<p>This is generally where my frustration is coming from: banning a core tactic I've used for years without documenting the replacement is not an amazing user experience.</p>",
        "id": 548045134,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761864590
    },
    {
        "content": "<p>Isnâ€™t the syntax documented in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Init/Tactics.html#Lean.Parser.Tactic.induction\">https://leanprover-community.github.io/mathlib4_docs/Init/Tactics.html#Lean.Parser.Tactic.induction</a>?</p>",
        "id": 548046735,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1761865463
    },
    {
        "content": "<p>Is the stuff at <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.Parser.Tactic.induction#doc\">docs#Lean.Parser.Tactic.induction</a> not enough? Can you spell out what you might be looking for from a documentation page that's not present there?</p>",
        "id": 548047088,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1761865670
    },
    {
        "content": "<p>Does <a href=\"https://leanprover-community.github.io/mathlib-manual/html-multi//Tactics/All-tactics/#induction-next\">https://leanprover-community.github.io/mathlib-manual/html-multi//Tactics/All-tactics/#induction-next</a> answer your question?</p>",
        "id": 548047436,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761865872
    },
    {
        "content": "<p>That's the tactic doc-string, I believe. (In general, if that \"all tactics\" page in the mathlib manual fails to mention at tactic, that's a bug.)</p>",
        "id": 548047503,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761865913
    },
    {
        "content": "<p>Examples are things that are not mentioned:</p>\n<ol>\n<li>What is the newline structure if you don't have a one line use? That page gives exactly one example of the syntax showing where the child tactics go, but it's a one-liner. This is the most confusing thing to start.</li>\n<li>Making explicit that one has to use the names of the arguments in the induction principle? I think? Maybe one doesn't have do that, or could use n + 1? There's no discussion of why you can do n+1 for match and not here, or whether they are in fact different.</li>\n</ol>",
        "id": 548047545,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761865937
    },
    {
        "content": "<p>New tactics have to be added manually at the moment, so it's possible this is lagging behind. The <code>field</code> tactic is missing, for example.</p>",
        "id": 548047556,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761865940
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Is.20there.20any.20documentation.20of.20the.20induction.20tactic.20syntax.3F/near/548047503\">said</a>:</p>\n<blockquote>\n<p>That's the tactic doc-string, I believe. (In general, if that \"all tactics\" page in the mathlib manual fails to mention at tactic, that's a bug.)</p>\n</blockquote>\n<p>This is the same as the thing which I think is insufficient. I should say that you're catching me in a very narrow window of still being confused about things like newline syntax, flexibility, etc. Soon I am going to forget about this as learn the tactic and settle into the long, slow process of manually fixing my code to be more verbose than it used to be. (Cursor seems quite unreliable at doing this translation, but maybe it'll improve for longer files with more context.)</p>",
        "id": 548047782,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761866060
    },
    {
        "content": "<p>I agree, the tactic docstring is not comprehensive enough. Sorry for that!</p>",
        "id": 548047942,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761866149
    },
    {
        "content": "<p>No worries! I do appreciate that once I do the translation I'll have all the benefits of the more verbose syntax.</p>",
        "id": 548048026,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761866196
    },
    {
        "content": "<p>Let me also add: <code>induction'</code> is deprecated within mathlib --- you can still use it in your projects. (Yes, it can be nice to migrate. But waiting for good migration guides is a valid reason to wait, and you point out that some things are indeed missing.)</p>",
        "id": 548048098,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761866239
    },
    {
        "content": "<p>Aha! I may hold off on the translation as yet, then. And I imagine I can avoid deprecation warnings too?</p>",
        "id": 548048518,
        "sender_full_name": "Geoffrey Irving",
        "timestamp": 1761866467
    },
    {
        "content": "<p>You can turn off the deprecation linter using set_option. (The linter even tells you how.) If you add this to your lakefile, the warning is off project-wide.</p>",
        "id": 548048713,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761866573
    }
]