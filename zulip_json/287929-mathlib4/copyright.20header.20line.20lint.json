[
    {
        "content": "<p>it would seem that the <a href=\"https://leanprover-community.github.io/contribute/style.html#:~:text=/%2D%0ACopyright%20(c)%202015%20Joe%20Cool.%20All%20rights%20reserved.%0AReleased%20under%20Apache%202.0%20license%20as%20described%20in%20the%20file%20LICENSE.%0AAuthor%3A%20Joe%20Cool.%0A%2D/\">current example</a> for how the copyright header should look like <em>doesn't pass CI</em>...</p>",
        "id": 454494144,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722098085
    },
    {
        "content": "<p>particularly, it doesn't seem to like <code>Author:</code>, and only allows <code>Authors:</code></p>",
        "id": 454494302,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722098254
    },
    {
        "content": "<p>reading through the linter which checks this, apparently the example is also disallowed because it ends with a period...</p>",
        "id": 454494820,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722098747
    },
    {
        "content": "<p>the relevant piece of code can be found <a href=\"https://github.com/leanprover-community/mathlib4/blob/master/Mathlib/Tactic/Linter/TextBased.lean\">here</a> at lines 206-212</p>",
        "id": 454495057,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722098948
    },
    {
        "content": "<p>I agree with you: the \"normalization of copyright headers\" happened <a href=\"#narrow/stream/113488-general/topic/Authors.3A\">some time ago</a>, but it looks like the style-guide around it did not get updated.</p>\n<p>I imagine that a PR setting the rules straight would be welcome!</p>",
        "id": 454618923,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722177509
    },
    {
        "content": "<p>btw, iirc the autocomplete for <code>copy</code> was removed, right?</p>",
        "id": 454619245,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722177788
    },
    {
        "content": "<p>Not on my VSCode...</p>",
        "id": 454619262,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722177803
    },
    {
        "content": "<p>oh, that might be a local issue for me then. nevermind.</p>",
        "id": 454619285,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722177822
    },
    {
        "content": "<p>It was not</p>",
        "id": 454619291,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1722177824
    },
    {
        "content": "<p>I never copy-paste copyright headers: I always autocomplete with <code>copy</code> and then I already have two cursors in the two places where I am supposed to write my name.</p>",
        "id": 454619310,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722177841
    },
    {
        "content": "<p>weird that it doesn't work for me then</p>",
        "id": 454619551,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722177932
    },
    {
        "content": "<p>oh well</p>",
        "id": 454619573,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722177937
    },
    {
        "content": "<p>You might have to press TAB to get the autocompletions to trigger</p>",
        "id": 454619632,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1722177952
    },
    {
        "content": "<p>nope, doesn't work for me <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span></p>",
        "id": 454619797,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722177985
    },
    {
        "content": "<p>It used to be enough to type Enter, though that controversially changed recently.  <span aria-label=\"upside down\" class=\"emoji emoji-1f643\" role=\"img\" title=\"upside down\">:upside_down:</span></p>",
        "id": 454619848,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722178003
    },
    {
        "content": "<p>ah, so  that's what i was thinking of</p>",
        "id": 454619901,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722178018
    },
    {
        "content": "<p>PR is <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/508\">here</a></p>",
        "id": 454620545,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1722178425
    },
    {
        "content": "<p>Btw, there are two files in mathlib that use <code>Author</code> instead of <code>Authors</code> and they both have more than one author.</p>",
        "id": 454620961,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722178794
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15231\">#15231</a> fixes this</p>",
        "id": 454637102,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1722185755
    },
    {
        "content": "<p>Should the style linter also lint <code>test</code> files? Right now, it does not... which is why this was not caught.</p>",
        "id": 454637155,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1722185775
    },
    {
        "content": "<p>Just for fun, I tried to match author names that I might guess represent the same person among mathlib files.</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Files authored</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>Alex Best</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Alex J. Best</td>\n<td>24</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Brendan Murphy</td>\n<td>5</td>\n</tr>\n<tr>\n<td>Brendan S. Murphy</td>\n<td>1</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Dagur Asgeirsson</td>\n<td>68</td>\n</tr>\n<tr>\n<td>Dagur Tómas Ásgeirsson</td>\n<td>1</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Edward Ayers</td>\n<td>2</td>\n</tr>\n<tr>\n<td>E. W. Ayers</td>\n<td>2</td>\n</tr>\n<tr>\n<td>E.W.Ayers</td>\n<td>3</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Filipo A. E. Nuccio</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Filippo A. E. Nuccio</td>\n<td>20</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Floris van Doorn</td>\n<td>175</td>\n</tr>\n<tr>\n<td>Floris Van Doorn</td>\n<td>2</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Ian Benway</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Ian Benway.</td>\n<td>1</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Jesse Han</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Jesse Michael Han</td>\n<td>4</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Johanes Hölzl</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Johannes Hölzl</td>\n<td>359</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Kevin H. Wilson</td>\n<td>3</td>\n</tr>\n<tr>\n<td>Kevin Wilson</td>\n<td>1</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>María Inés de Frutos Fernández</td>\n<td>1</td>\n</tr>\n<tr>\n<td>María Inés de Frutos-Fernández</td>\n<td>18</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Matthew Ballard</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Matthew Robert Ballard</td>\n<td>2</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Nick Kuhn</td>\n<td>2</td>\n</tr>\n<tr>\n<td>Nikolas Kuhn</td>\n<td>3</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Richard Hill</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Richard M. Hill</td>\n<td>2</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Robert Lewis</td>\n<td>11</td>\n</tr>\n<tr>\n<td>Robert Y. Lewis</td>\n<td>59</td>\n</tr>\n<tr>\n<td>Rob Lewis</td>\n<td>1</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Sam van Gool</td>\n<td>4</td>\n</tr>\n<tr>\n<td>Sam v. Gool</td>\n<td>1</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Sebastien Gouezel</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Sébastien Gouëzel</td>\n<td>227</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Tomas Skrivan</td>\n<td>9</td>\n</tr>\n<tr>\n<td>Tomáš Skřivan</td>\n<td>5</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Violeta Hernández</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Violeta Hernández Palacios</td>\n<td>20</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Yael Dillies</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Yaël Dillies</td>\n<td>286</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Yakov Pechersky</td>\n<td>25</td>\n</tr>\n<tr>\n<td>Yakov Peckersky</td>\n<td>1</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n<tr>\n<td>Yury G. Kudryashov</td>\n<td>75</td>\n</tr>\n<tr>\n<td>Yury G. KudryashovJ</td>\n<td>1</td>\n</tr>\n<tr>\n<td>Yury Kudriashov</td>\n<td>6</td>\n</tr>\n<tr>\n<td>Yury Kudryashov</td>\n<td>412</td>\n</tr>\n<tr>\n<td>--</td>\n<td></td>\n</tr>\n</tbody>\n</table>",
        "id": 454640469,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722186970
    },
    {
        "content": "<p>Since we're talking about the copyright header linter: I found a bug in the new text-based linter: it would not check if the copyright header was complete after a four lines. Most files comply, some have more or less interesting violations - and about 50 have so many authors that multiple lines are used to list them. <a href=\"https://github.com/leanprover-community/mathlib4/tree/MR-copyright-check-last-line\">branch#MR-copyright-check-last-line</a> has the details: all remaining files have many authors</p>",
        "id": 454642531,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1722187544
    },
    {
        "content": "<p>Is there a preference for how to deal with this?</p>\n<ul>\n<li>We don't care, just let it be</li>\n<li>Remove headers which are clearly wrong; let the rest be (and do not lint this)</li>\n<li>add linter exceptions for all 50 files</li>\n<li>Format all authors on a single line (and teach the long linter to ignore this)</li>\n<li>Allow authors lines to span multiple lines (but: how to distinguish many authors from other rubbish?)</li>\n</ul>",
        "id": 454642896,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1722187662
    },
    {
        "content": "<p>All \"Yury Kudryashov\"s are me. Do you prefer to normalize all names in one PR, or should I submit a separate PR for my copyright headers?</p>",
        "id": 454670483,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722203782
    },
    {
        "content": "<p>I'm happy to uniformize the names above and, when there is a majority of usages, I would go for that version.  However, I'd give some time to people to tell me that they agree/disagree: I did no git-scavenging to check how the names above originated, for instance.</p>",
        "id": 454670789,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722204079
    },
    {
        "content": "<p>In my case, they originated from different e-mail signatures on different accounts (Emacs snippet inserts the current value of <code>user-full-name</code>) +1 typo.</p>",
        "id": 454671153,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1722204463
    },
    {
        "content": "<p>I went ahead and performed the author name changes that the table above suggests.  I always went for the most common spelling, I think!</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/15256\">#15256</a></p>",
        "id": 454741512,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722237087
    },
    {
        "content": "<p>Of course, if anyone notices that I merged two different authors, just because they had similar names, please tell me!  Looking at the list, all the changes look pretty straightforward, but you never know.</p>",
        "id": 454741686,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1722237134
    }
]