[
    {
        "content": "<p>I am working on organizing and expanding the Mathlib documentation as part of the Mathlib initiative, to cover all gaps and make sure new contributors can find what they need. We are categorizing them according to the <a href=\"https://docs.divio.com/documentation-system/\">Divio system</a> into learning oriented <strong>tutorials</strong> (think: a <a href=\"https://github.com/PatrickMassot/GlimpseOfLean\">Glimpse of Lean</a>), (problem oriented) <strong>how-to guides</strong> (think: <a href=\"https://leanprover-community.github.io/extras/calc.html\">How to use <code>calc</code></a>), (understanding oriented) <strong>explanations</strong> (think: most library notes) and (information oriented) <strong>references</strong> (think: the API documentation).</p>\n<p>I have already gone through and analyzed all the pages on <code>leanprover-community.github.io</code>, so now I would like to ask you:</p>\n<ul>\n<li>What piece of documentation has been invaluable to you?</li>\n<li>Is there a critically missing bit of documentation that we should write as soon as possible?</li>\n</ul>",
        "id": 543702156,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759916359
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/wiki/Monad-map\">https://github.com/leanprover-community/mathlib4/wiki/Monad-map</a> has been extremely useful to me at various points in time; I think having similar graphs for algebraic typeclasses in the documentation would be quite helpful, hopefully in a somewhat autogenerated way</p>",
        "id": 543705197,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1759917319
    },
    {
        "content": "<p>(we'd probably still want multiple graphs so as not to show everything at once; eg one for algebra, one for order, one for a simplified intersection of the two, ...)</p>",
        "id": 543705352,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1759917374
    },
    {
        "content": "<p>Is there a centralized resource that documents what Mathlib's preferred simp normal forms are?</p>",
        "id": 543709227,
        "sender_full_name": "Chris Henson",
        "timestamp": 1759918617
    },
    {
        "content": "<p>I really, really miss the automatic <a href=\"https://leanprover-community.github.io/mathlib_docs/notes.html\">library note</a>, <a href=\"https://leanprover-community.github.io/mathlib_docs/attributes.html\">attribute</a>, <a href=\"https://leanprover-community.github.io/mathlib_docs/tactics.html\">tactic</a>, <a href=\"https://leanprover-community.github.io/mathlib_docs/commands.html\">command</a>, and <a href=\"https://leanprover-community.github.io/mathlib_docs/hole_commands.html\">hole command</a> pages that doc-gen3 was able to generate for us. We do have the <a href=\"https://leanprover-community.github.io/mathlib-manual/html-multi/\">mathlib manual</a> which covers some of the above, but it'd be nice if it were more complete and more closely integrated with doc-gen4 for e.g. cross-links between doc-gen4 docstrings and tactics as well as more automated updates.</p>",
        "id": 543716589,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1759921057
    },
    {
        "content": "<p>When I was learning Lean there were very few resources about anything, and I found the short notes filed under \"Documentation\" in the box on the left of the community website very useful. Several of these notes were written by Patrick and I in 2018; sometimes I would write something which was OK-ish and then get it up there in the hope that someone else who knew what they were talking about (and I certainly didn't back then) would make it better. Examples: I learnt about conv from <a href=\"https://leanprover-community.github.io/extras/conv.html\">https://leanprover-community.github.io/extras/conv.html</a> (which I think Patrick wrote), I learnt about simp from <a href=\"https://leanprover-community.github.io/extras/simp.html\">https://leanprover-community.github.io/extras/simp.html</a> (which I think I wrote, although the current version bears no resemblence to my original efforts), the only reference for well-founded recursion was <a href=\"https://leanprover-community.github.io/extras/well_founded_recursion.html\">https://leanprover-community.github.io/extras/well_founded_recursion.html</a> for many years (which I think Chris Hughes wrote) etc. These brief \"focus on one thing, explain an overview and then details, with lots of examples\" documents were things I found very helpful.</p>\n<p>Both my undergrads and other people seem to find the tactic documentation for the Imperial course <a href=\"https://b-mehta.github.io/formalising-mathematics-notes/Part_2/Part_2.html\">https://b-mehta.github.io/formalising-mathematics-notes/Part_2/Part_2.html</a> very helpful; again it takes one topic (here, a tactic) and does the same thing: overview, more detailed explanation, examples.</p>",
        "id": 543719201,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1759921844
    },
    {
        "content": "<p>I forgot about the various wiki pages! Bhavik's Formalizing Mathematics notes are also very useful. Thanks for pointing them out!</p>",
        "id": 543728398,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759924667
    },
    {
        "content": "<p>Yeah, gathering some of the dozen tactic lists and cheat sheets would be great</p>",
        "id": 543729162,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1759924881
    },
    {
        "content": "<p>About autogenerating library notes etc pages: is it still worth upgrading doc-gen4 or do we expect Verso to take over in the future?</p>",
        "id": 543739383,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759927691
    },
    {
        "content": "<p>Since it is already autogenerating the tactic pages for the Mathlib manual project.</p>",
        "id": 543739521,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759927730
    },
    {
        "content": "<p>I used to find this page incredibly helpful: <a href=\"https://leanprover.github.io/reference/tactics.html\">https://leanprover.github.io/reference/tactics.html</a> it was essentially always open when I was getting started. I think it's somewhere (in terms of detail) between the page on my maths notes (which was in large part written by Kevin!) and this page <a href=\"https://leanprover-community.github.io/papers/lean-tactics.pdf\">https://leanprover-community.github.io/papers/lean-tactics.pdf</a>, but in a way I found very helpful.</p>",
        "id": 543752302,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1759931207
    },
    {
        "content": "<p>I library notes become a definition ( <span aria-label=\"fingers crossed\" class=\"emoji emoji-1f91e\" role=\"img\" title=\"fingers crossed\">:fingers_crossed:</span>), at least we'll have doc-gen include them on the generated page. I would really like references to them in the generated documentation to work. A page of all library notes... is useful, but perhaps less urgent.</p>",
        "id": 543765237,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759934279
    },
    {
        "content": "<p>One thing I'd really like: have a collection of overviews or introductions to particular library areas. Topology, basis calculus proofs, ODEs, differential geometry, algebraic geometry, etc. Some of these exist on the webpage (and might want an update?), others should be written. And we should have a <em>canonical</em> home for these (the mathlib manual, perhaps?).</p>",
        "id": 543765530,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759934357
    },
    {
        "content": "<p>For me, finding documentation on some of the Mathlib tactics has been difficult, but maybe i'm just not looking in the right places. I wish the mathlib docs had a page similar to the <a href=\"http://lean-lang.org/doc/reference/latest/Tactic-Proofs/Tactic-Reference/\">lean reference manual's tactic reference</a> (although more usage examples would be nice <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span>)</p>",
        "id": 543770570,
        "sender_full_name": "Julia Scheaffer",
        "timestamp": 1759935490
    },
    {
        "content": "<p>Are the <a href=\"https://leanprover-community.github.io/mathlib-manual/html-multi/Tactics/#tactics\">tactic pages in the Mathlib manual</a> what you are looking for, but with more explanations?</p>",
        "id": 543771000,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759935586
    },
    {
        "content": "<p>Or are you looking for a more problem-oriented approach, suggesting tactics to use at specific types of goals, instead of listing each tactic one by one?</p>",
        "id": 543771309,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759935641
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/543771000\">said</a>:</p>\n<blockquote>\n<p>Are the <a href=\"https://leanprover-community.github.io/mathlib-manual/html-multi/Tactics/#tactics\">tactic pages in the Mathlib manual</a> what you are looking for, but with more explanations?</p>\n</blockquote>\n<p>I believe that is what I'm looking for. Explanations are always helpful. That page seems a bit more helpful than the lean reference manual (definitely has more usage examples) but seems incomplete in some areas. (the entire category theory section is empty <span aria-label=\"confusion\" class=\"emoji emoji-1fae4\" role=\"img\" title=\"confusion\">:confusion:</span>)</p>",
        "id": 543772275,
        "sender_full_name": "Julia Scheaffer",
        "timestamp": 1759935845
    },
    {
        "content": "<p>The manual definitely needs more love! I'll make sure that is on our wishlist.</p>",
        "id": 543773283,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759936094
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/543771309\">said</a>:</p>\n<blockquote>\n<p>Or are you looking for a more problem-oriented approach, suggesting tactics to use at specific types of goals, instead of listing each tactic one by one?</p>\n</blockquote>\n<p>I think that the problem oriented approach is covered fairly well by the \"lean tactic cheat-sheet\" documents, but maybe problem-oriented resources for more specific situations would be helpful. I remember when I had a proof situation where i needed to use <code>conv</code> for the first time, figuring out how to use it from the tactic reference was a bit difficult.</p>\n<p>Now that I look again, I see there's a section of the lean language reference on using <code>conv</code> so maybe my issue is just figuring out where the resource I need are located.</p>",
        "id": 543774287,
        "sender_full_name": "Julia Scheaffer",
        "timestamp": 1759936379
    },
    {
        "content": "<p>I wonder if we should have the Lean reference manual as the first \"volume\" of the Mathlib manual?</p>",
        "id": 543774690,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1759936480
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"953668\">Julia Scheaffer</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/543774287\">said</a>:</p>\n<blockquote>\n<p>Now that I look again, I see there's a section of the lean language reference on using <code>conv</code> so maybe my issue is just figuring out where the resource I need are located.</p>\n</blockquote>\n<p>There is also <a href=\"https://lean-lang.org/theorem_proving_in_lean4/The-Conversion-Tactic-Mode/\">a section in TPIL</a>.</p>",
        "id": 543775214,
        "sender_full_name": "Vlad Tsyrklevich",
        "timestamp": 1759936618
    },
    {
        "content": "<p>Maybe the tactic manual can link to the relevant sections of the Lean language reference, as needed? Such as, simp linking to simp normal forms, conv linking to the section on conv, etc.</p>",
        "id": 543784630,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1759939276
    },
    {
        "content": "<p>There is no guide anywhere on \"what makes for a good proof API\". I think there's at least one paper in this for what it's worth :)</p>",
        "id": 543797683,
        "sender_full_name": "Wrenna Robson",
        "timestamp": 1759943451
    },
    {
        "content": "<p>Maybe not something you can fix but SEO / website discoverability for the Mathlib docs and manual are quite poor</p>",
        "id": 543859613,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1759976245
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"123965\">Bryan Gin-ge Chen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/543716589\">said</a>:</p>\n<blockquote>\n<p>I really, really miss the automatic <a href=\"https://leanprover-community.github.io/mathlib_docs/notes.html\">library note</a>, <a href=\"https://leanprover-community.github.io/mathlib_docs/attributes.html\">attribute</a>, <a href=\"https://leanprover-community.github.io/mathlib_docs/tactics.html\">tactic</a>, <a href=\"https://leanprover-community.github.io/mathlib_docs/commands.html\">command</a>, and <a href=\"https://leanprover-community.github.io/mathlib_docs/hole_commands.html\">hole command</a> pages that doc-gen3 was able to generate for us. We do have the <a href=\"https://leanprover-community.github.io/mathlib-manual/html-multi/\">mathlib manual</a> which covers some of the above, but it'd be nice if it were more complete and more closely integrated with doc-gen4 for e.g. cross-links between doc-gen4 docstrings and tactics as well as more automated updates.</p>\n</blockquote>\n<p>I often see <code>-- see note [xxx]</code> in mathlib4, but I can only find the document for them in mathlib3. Is the document of library note not ported to mathlib4 yet, or am I missing something?</p>",
        "id": 543992827,
        "sender_full_name": "Dexin Zhang",
        "timestamp": 1760024226
    },
    {
        "content": "<p>As far as I can tell, there was one missing porting note, <code>partially-applied ext lemmas</code>, which was fixed in a commit today. If you come across any others, please let me know!</p>",
        "id": 543993052,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1760024286
    },
    {
        "content": "<p>Oh! I now find them; I need to search for <code>library_note</code>. I thought there should be a document webpage for notes. Anyway thanks so much!</p>",
        "id": 543996761,
        "sender_full_name": "Dexin Zhang",
        "timestamp": 1760025239
    },
    {
        "content": "<p>There most likely will be such a webpage in the future. But for now, indeed you should search for <code>library_note</code>.</p>",
        "id": 544091906,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1760075901
    },
    {
        "content": "<p>I think that a list of all reasonably common tactics, such as <a href=\"https://leanprover-community.github.io/papers/lean-tactics.pdf\">https://leanprover-community.github.io/papers/lean-tactics.pdf</a>, is very valuable. The problem with this list is that it's hard to find; it would be much nicer if such a thing was reachable from the mathlib docs. And ideally in such an overview there would be links to read the full doc-strings of the tactics.</p>",
        "id": 544223139,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1760119333
    },
    {
        "content": "<p>There's <a href=\"https://lean-lang.org/doc/reference/latest/Tactic-Proofs/Tactic-Reference/\">https://lean-lang.org/doc/reference/latest/Tactic-Proofs/Tactic-Reference/</a></p>",
        "id": 544289730,
        "sender_full_name": "Vilim Lendvaj",
        "timestamp": 1760160132
    },
    {
        "content": "<p>One thing I would like documentation on is a guide which states how to express common mathematical objects in Lean. Typeclasses are not in one-to-one correspondence with algebraic structures, due to trying to make the library as general as possible. In many cases it is not obvious how to express things like Banach spaces. So, I think it would be really helpful if there was a giant table (or a bunch of smaller tables, or whatever makes sense for organization) which looked something like</p>\n<ul>\n<li>\"V is a vector space over a field ùïú\" -&gt; <code>{ùïú : Type*} [Field ùïú] {V : Type*} [Module ùïú V]</code></li>\n<li>\"V is a (not-necessarily complete) normed vector space\" -&gt; <code>{ùïú : Type*}[NontriviallyNormedField ùïú]  {V : Type*} [SeminormedAddCommGroup V] [NormedSpace ùïú V]</code></li>\n<li>\"V is a Banach space\" -&gt; <code>{ùïú : Type*} [NontriviallyNormedField ùïú]  {V : Type*} [SeminormedAddCommGroup V] [NormedSpace ùïú V] [CompleteSpace V]</code></li>\n<li>\"V is a real Hilbert space over ùïú = R or C\" -&gt; <code>{ùïú : Type*} [RCLike ùïú] {V : Type*} [SeminormedAddCommGroup V] [InnerProductSpace ùïú V] [CompleteSpace V]</code></li>\n</ul>\n<p>where the entries of each table are possible coupled with explanations of why the construction is the way it is (i.e. why we don't have <code>VectorSpace</code> and only have <code>Module</code>, or how to choose between <code>SeminormedAddCommGroup</code> and <code>NormedAddCommGroup</code>, which I don't actually understand myself.<br>\nI guess my point is that new members might have difficulty figuring out which mixin typeclasses to use, and this might help them.</p>\n<p>Similar tables could be made for topological spaces, or even things that aren't types (like how to declare linear maps and conjugate linear maps).</p>",
        "id": 544296394,
        "sender_full_name": "Niels Voss",
        "timestamp": 1760167508
    },
    {
        "content": "<p>to add to that, we can document how we use the language of complete lattice to talk about submodules and ideals</p>",
        "id": 544297048,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760168301
    },
    {
        "content": "<p>In general, we are missing documented examples</p>",
        "id": 544300752,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1760172104
    },
    {
        "content": "<p>Are people aware of the existence of <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a>? It answers a  <em>lot</em> of those questions.</p>",
        "id": 544309391,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1760180094
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"521331\">@Niels Voss</span> <span class=\"user-mention\" data-user-id=\"110064\">@Kenny Lau</span> <em>all</em> your examples are covered in <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a>.</p>",
        "id": 544309427,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1760180130
    },
    {
        "content": "<p>MIL is great and asnwers those questions but it is a book, with the answers scattered among the explanations in the pages. I guess it would be helpful to also have a reference sheet for those.</p>",
        "id": 544321993,
        "sender_full_name": "R√©my Degenne",
        "timestamp": 1760189739
    },
    {
        "content": "<p>Just like both tactic cheat sheets and longer tactic explanations with examples are both useful.</p>",
        "id": 544322153,
        "sender_full_name": "R√©my Degenne",
        "timestamp": 1760189859
    },
    {
        "content": "<p>Having per-area guides \"here's a phrasebook\" (translating English to Lean, like you said) coupled with a gentle introduction (a la MIL) and a theory overview would be great.. You just need a volunteer to create those <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 544327497,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760194812
    },
    {
        "content": "<p>Or, these days, an MI employee? <span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span></p>",
        "id": 544327905,
        "sender_full_name": "Ya√´l Dillies",
        "timestamp": 1760195174
    },
    {
        "content": "<p>Btw <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span> please feel free to take over the repo called \"mathlib-manual\" and do whatever you'd like with it! Or integrate it into whatever you end up building :)</p>\n<p>That was mainly a quick prototype and I would be happy if that got integrated into something more complete and better maintained. I would just wish that the autogenerated \"list of all tactics\" finds a place somewhere<span aria-label=\"blush\" class=\"emoji emoji-1f60a\" role=\"img\" title=\"blush\">:blush:</span></p>",
        "id": 544329803,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1760197067
    },
    {
        "content": "<p>About that list: since the underlying Lean code is instructive on how to get all tactics, it should also be quite straight forward to generate this list in doc-gen instead, and display it somewhere there on the page, if you'd wanted to do that.</p>",
        "id": 544330014,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1760197262
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/544223139\">said</a>:</p>\n<blockquote>\n<p>I think that a list of all reasonably common tactics, such as <a href=\"https://leanprover-community.github.io/papers/lean-tactics.pdf\">https://leanprover-community.github.io/papers/lean-tactics.pdf</a>, is very valuable. The problem with this list is that it's hard to find; it would be much nicer if such a thing was reachable from the mathlib docs. And ideally in such an overview there would be links to read the full doc-strings of the tactics.</p>\n</blockquote>\n<p>This is incredibly useful and I had no idea it existed</p>",
        "id": 544356405,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1760224092
    },
    {
        "content": "<p><a href=\"https://seasawher.github.io/mathlib4-help/\">https://seasawher.github.io/mathlib4-help/</a></p>\n<p>is output of #help command</p>",
        "id": 544360175,
        "sender_full_name": "Asei Inoue",
        "timestamp": 1760229961
    },
    {
        "content": "<p>I feel overwhelmed by the various types of homomorphisms, each having different but similar syntax, and so I think copying <a href=\"https://www.ozonehouse.com/mark/periodic/\">Perl's periodic table of operators</a> for Mathlib would be pretty helpful.</p>",
        "id": 544360403,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1760230271
    },
    {
        "content": "<p>I feel the same way about typeclasses, but there are probably too many to make a readable diagram.<br>\nAlthough Wikipedia has some useful \"diagrams\" that I visit often:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Group_(mathematics)#Generalizations\">https://en.wikipedia.org/wiki/Group_(mathematics)#Generalizations</a> - A boolean table of properties of the single-operation algebras, from magmas to abelian groups</li>\n<li><a href=\"https://en.wikipedia.org/wiki/GCD_domain\">https://en.wikipedia.org/wiki/GCD_domain</a> - chain of inclusions from rngs to to domains to algebraically closed fields</li>\n</ul>",
        "id": 544360454,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1760230373
    },
    {
        "content": "<p>Maybe there's a way to partition the typeclasses graph by categories to make it easy to browse.<br>\nFor example <a href=\"https://www.math.ucdavis.edu/~greg/zoology/diagram.xml\">this complexity classes diagram</a> is hard to parse, but this <a href=\"https://anvaka.github.io/map-of-reddit/\">map of subreddits</a> is clustered into regions which make it easier to digest.</p>",
        "id": 544360665,
        "sender_full_name": "Snir Broshi",
        "timestamp": 1760230695
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"418569\">@Dan Abramov</span> has been pretty vocal re: making Lean more approachable and better documented... I'm curious if he has anything specific to add here</p>",
        "id": 544365610,
        "sender_full_name": "Matt Diamond",
        "timestamp": 1760237510
    },
    {
        "content": "<p>I think a list of the common trace options or other diagnostic / debugging tools could be helpful. (I also think a documented list of all trace options would be useful, but that's perhaps more niche).</p>",
        "id": 544582832,
        "sender_full_name": "Bhavik Mehta",
        "timestamp": 1760370409
    },
    {
        "content": "<p>Most of my fellow mathematicians would love to see a couple of examples on how to use mathlib to state, and prove, a nontrivial result in their area. I am not talking about new projects, but about things that are already in mathlib but the way they are stated is not always clear.</p>",
        "id": 544583915,
        "sender_full_name": "Riccardo Brasca",
        "timestamp": 1760370803
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"246273\">Bhavik Mehta</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/544582832\">said</a>:</p>\n<blockquote>\n<p>I think a list of the common trace options or other diagnostic / debugging tools could be helpful. (I also think a documented list of all trace options would be useful, but that's perhaps more niche).</p>\n</blockquote>\n<p>Aside, but to this end, it would be great to standardize the names themselves! :) <span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> started a thread on this here: <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/Naming.20convention.20for.20trace.20classes/with/543825395\">#lean4 &gt; Naming convention for trace classes</a></p>",
        "id": 544632902,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760397534
    },
    {
        "content": "<p>Is there a way to get a list of all currently available trace options?</p>",
        "id": 544680742,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760428090
    },
    {
        "content": "<p>Is this for metaprogramming, or a reference page request? (For metaprogramming: look for all <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Lean.OptionDecl#doc\">docs#Lean.OptionDecl</a> s declared in the environment whose name starts with <code>trace</code>?)</p>",
        "id": 544698388,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1760433587
    },
    {
        "content": "<p>My motivation was for \"does Lean core have a naming convention for trace classes\", to inform the above thread --- i.e., compiling a list by hand is fine.</p>",
        "id": 544723181,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760441380
    },
    {
        "content": "<p>I have <a href=\"https://gist.github.com/erdOne/8a3b59556bda81a86a38b7d2d5d08989\">this file</a> lying around in my local vscode for quite some while now because I don't know where to put it. But I think this might be useful for some people including me.</p>",
        "id": 544852479,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1760484785
    },
    {
        "content": "<p>Unfortunately there is still significant inconsistency in the trace class names in core. If anyone was interested in doing a survey, and even suggesting a way to improve consistency, we would probably happily adopt it.</p>",
        "id": 544852852,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1760485100
    },
    {
        "content": "<p>Note: code for listing all available trace classes is now in <a class=\"stream-topic\" data-stream-id=\"270676\" href=\"/#narrow/channel/270676-lean4/topic/Naming.20convention.20for.20trace.20classes/with/544874809\">#lean4 &gt; Naming convention for trace classes</a>, so as to avoid derailing this thread too far. :)</p>",
        "id": 544872876,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760501587
    },
    {
        "content": "<p>A list of all monadic notations might  be good</p>",
        "id": 544981420,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760537910
    },
    {
        "content": "<p>This comment <a href=\"#narrow/channel/287929-mathlib4/topic/Style.20bikeshed.3A.20.60.3C.7C.20.E2.86.90.60.20vs.2E.20.60.3C.7C.E2.86.90.60/near/544993673\">#mathlib4 &gt; Style bikeshed: &#96;&lt;| ‚Üê&#96; vs. &#96;&lt;|‚Üê&#96; @ üí¨</a> contains such a list.</p>",
        "id": 545002442,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760542983
    },
    {
        "content": "<p>(I have not tried to check if it is complete.)</p>",
        "id": 545002894,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760543102
    },
    {
        "content": "<p>Having this list, together with an explanation what these combinations mean, seems very useful indeed!</p>",
        "id": 545002968,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760543120
    },
    {
        "content": "<p>Note that most of the functionalities of these are subsumed by simpler and more readable <code>do</code> notation primitives! :)</p>\n<p>Fwiw, the ones I do see used are <code>&lt;$&gt;</code> (map, occasionally used terminally or for Option), <code>&lt;&amp;&amp;&gt;</code>, <code>&lt;||&gt;</code> (monadic versions of Boolean operators), <code>&lt;|&gt;</code> (<code>orElse</code>, though requires consideration of its backtracking behavior, and so explicit combinators are often preferred), and <code>&gt;&gt;</code> specifically for parsers.</p>\n<p>The rest are useful if you‚Äôre coming from or going to e.g. Haskell (or maybe are specifically studying monads!), but I think we ought to encourage <code>do</code> notation for its readability! :) As such, if we had a list of these, it might be useful to also show the <code>do</code> translation.</p>",
        "id": 545005739,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760543902
    },
    {
        "content": "<p>yeah I mainly want the do translation because i don't know anything about the theory but i understand programming</p>",
        "id": 545005888,
        "sender_full_name": "Kenny Lau",
        "timestamp": 1760543943
    },
    {
        "content": "<p>In one of my meta PRs, you recently suggested using <code>&lt;-</code> and switching the order over <code>&gt;&gt;=</code>. Perhaps this can also be documented there (and should be added to the style guide in any case).</p>",
        "id": 545007807,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760544469
    },
    {
        "content": "<p>Absolutely! I would very much like to collectively decide on and document a preference for <code>do</code> notation in the style guide instead of relying on convention-by-osmosis. :)</p>",
        "id": 545008637,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760544724
    },
    {
        "content": "<p>Thanks for starting the zulip thread! Let's see what comes out of it :)</p>",
        "id": 545011017,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1760545418
    },
    {
        "content": "<p><a href=\"#narrow/channel/287929-mathlib4/topic/Style.20RFC.3A.20prefer.20do.20notation.20in.20monadic.20code/with/545010846\">Link to the thread</a> :)</p>",
        "id": 545011644,
        "sender_full_name": "Thomas Murrills",
        "timestamp": 1760545598
    },
    {
        "content": "<p>Something I thought of while working on <a href=\"https://github.com/leanprover-community/mathlib4/pull/30759\">#30759</a>:</p>\n<p>When we deprecate \"named\" typeclasses like <code>LinearOrdered(Add)CommGroup</code> and <code>OrderedRing</code> in favor of combinations of more basic typeclasses -- are we (should we be) leaving pointers in the docs to make it easier to figure out the idiomatic way to spell these objects? Should we have a separate page listing these?</p>",
        "id": 547094822,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1761443631
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"123965\">@Bryan Gin-ge Chen</span> Might be a struggle given that folk can't agree how to spell \"linear ordered field\"</p>",
        "id": 547094971,
        "sender_full_name": "Artie Khovanov",
        "timestamp": 1761443798
    },
    {
        "content": "<p>Well, after <a href=\"https://github.com/leanprover-community/mathlib4/pull/30759\">#30759</a> LinearOrderedField won't even exist anymore, so I think we should try to have something, even if it lays out a few options...</p>",
        "id": 547095245,
        "sender_full_name": "Bryan Gin-ge Chen",
        "timestamp": 1761444105
    },
    {
        "content": "<p>The mathlib manual could use an update to mention some new tactics:</p>\n<ul>\n<li>the field tactic (same group as field_simp), and</li>\n<li>by_cases! (same group as by_cases)</li>\n</ul>\n<p><span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span> Can I ping you for this? Otherwise, <span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span> probably can tell us what to do.</p>",
        "id": 548047811,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761866076
    },
    {
        "content": "<p>The website on how to make a Lean project makes people download a Lean nightly from April 2024 (<a href=\"https://leanprover-community.github.io/install/project.html\">https://leanprover-community.github.io/install/project.html</a>). Do they really need to do that?</p>",
        "id": 548112083,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1761903092
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"634338\">Michael Rothgang</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/548047811\">said</a>:</p>\n<blockquote>\n<p>The mathlib manual could use an update to mention some new tactics:</p>\n<ul>\n<li>the field tactic (same group as field_simp), and</li>\n<li>by_cases! (same group as by_cases)</li>\n</ul>\n</blockquote>\n<p>I don't have any experience with writing for the manual, so this seems like a good excuse to try it out!</p>",
        "id": 548117096,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1761904685
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"479299\">Jovan Gerbscheid</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/548112083\">said</a>:</p>\n<blockquote>\n<p>The website on how to make a Lean project makes people download a Lean nightly from April 2024 (<a href=\"https://leanprover-community.github.io/install/project.html\">https://leanprover-community.github.io/install/project.html</a>). Do they really need to do that?</p>\n</blockquote>\n<p>The goal is to have a minimum working version (for those who installed Lean a long time ago and still default to an old Lean). We should be suggesting one from the past months at least, since there are major upgrades to the new project template. (How does elan select which Lean version to use, anyway?)</p>",
        "id": 548117343,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1761904765
    },
    {
        "content": "<p>Probably, looking at past PRs/commits by Jon will tell you at least the basics (\"add a new tactic X\"). Thanks for trying, this is unglamorous but important work.</p>",
        "id": 548134472,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1761910451
    },
    {
        "content": "<p>I tried updating the Mathlib manual so we could add the new tactics. It was a painful process because the current design involves copying over partial commits from the <code>leanprover/manual</code> repository (but being careful not to overwrite local modifications). So I decided to instead make a PR turning the files copied over, into a dependency brought in by Lake. <span class=\"user-mention\" data-user-id=\"385895\">@Jon Eugster</span>, what do you think?</p>\n<p><a href=\"https://github.com/leanprover-community/mathlib-manual/pull/8\">https://github.com/leanprover-community/mathlib-manual/pull/8</a></p>",
        "id": 548170089,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1761920768
    },
    {
        "content": "<p>Based on the previous PR, I made a bumping PR to update to v4.24.0. Note that <code>field</code> and <code>by_cases!</code> are not included in that Mathlib release yet.</p>",
        "id": 548185265,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1761924004
    },
    {
        "content": "<p>Looks good <span class=\"user-mention\" data-user-id=\"238446\">@Anne Baanen</span>, thanks. I agree the setup is always a merge-conflict nightmare and your solution should already reduce that significantly.</p>\n<p>Ideally everthing would be so far modularised and documented that it would be very little overhead to create a document which \"has all the features of the Lean language reference but different content\". Maybe that's already the case, idk, I'm not keeping up to date with David's work. But maybe you can ask him for a better setup.</p>\n<p>I think from me it's only the \"all tactics\" code and the content of the few pages there are there, everything is just as it is in the language reference</p>",
        "id": 548200768,
        "sender_full_name": "Jon Eugster",
        "timestamp": 1761928168
    },
    {
        "content": "<p>I just realised that the cheat sheet <a href=\"https://leanprover-community.github.io/papers/lean-tactics.pdf\">https://leanprover-community.github.io/papers/lean-tactics.pdf</a> is not linked on the webpage at all. I would expect an entry in the menu, maybe.</p>",
        "id": 554279602,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1762509307
    },
    {
        "content": "<p>This cheat sheet is wonderful! (Two remarks. The first one is nitpicking: if <code>try</code>says ‚Äúrun tac only if it succeeds.‚Äù, how can <code>try</code> know that the tactic will succeeds without running it?  And the second one is to add the possibility of naming the proofs to <code>generalize_proof</code>.)</p>",
        "id": 554283013,
        "sender_full_name": "Antoine Chambert-Loir",
        "timestamp": 1762510328
    },
    {
        "content": "<p>One thing that I like to browse is <a href=\"https://github.com/leanprover-community/mathlib4/tree/master/Counterexamples\">https://github.com/leanprover-community/mathlib4/tree/master/Counterexamples</a></p>\n<p>In general I think having a reference on basic exercises could be helpful. Here is one example of an exercise that I've challenged myself to prove.</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">noncomputable</span><span class=\"w\"> </span><span class=\"kn\">def</span><span class=\"w\"> </span><span class=\"n\">dirichletFunc</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"bp\">‚Üí</span><span class=\"w\"> </span><span class=\"n\">‚Ñù</span><span class=\"w\"> </span><span class=\"o\">:=</span>\n<span class=\"w\">  </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"k\">if</span><span class=\"w\"> </span><span class=\"n\">Irrational</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"k\">then</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"k\">else</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Classical</span><span class=\"w\"> </span><span class=\"k\">in</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span><span class=\"n\">‚Ñù</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">dirichletFunc</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">nhds</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">Filter</span><span class=\"bp\">.</span><span class=\"n\">principal</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">,</span><span class=\"mi\">1</span><span class=\"o\">}:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"gr\">sorry</span>\n</code></pre></div>\n<p>In general I think there would be a benefit if some undergraduate exercises that require computation would be shown. For example, given a matrix A and a solution vector b, determine the solution set. This was an exercise in my linear algebra course that was purely computation.</p>\n<p>Further examples of such exercises are:</p>\n<ul>\n<li>A function that is differentiable everywhere, but not continuously differentiable: (x*sin(x))</li>\n<li>A function that is smooth but not analytic <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>exp</mi><mo>‚Å°</mo><mo stretchy=\"false\">(</mo><mo>‚àí</mo><mn>1</mn><mi mathvariant=\"normal\">/</mi><mi>x</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">\\exp(-1/x)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mop\">exp</span><span class=\"mopen\">(</span><span class=\"mord\">‚àí</span><span class=\"mord\">1/</span><span class=\"mord mathnormal\">x</span><span class=\"mclose\">)</span></span></span></span><br>\nand so on.</li>\n</ul>",
        "id": 554302345,
        "sender_full_name": "metakuntyyy",
        "timestamp": 1762515795
    },
    {
        "content": "<p>If mathlib4_docs is on the page, should there maybe also be a link to loogle given that its a better search engine?</p>",
        "id": 556892620,
        "sender_full_name": "Henrik B√∂ving",
        "timestamp": 1763400874
    },
    {
        "content": "<p>Good suggestion! I opened a PR: <a href=\"https://github.com/leanprover-community/leanprover-community.github.io/pull/742\">leanprover-community.github.io#742</a></p>",
        "id": 556893741,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1763401154
    },
    {
        "content": "<p>Would you like to include my short guide <em>How to read Lean</em> on the new webpage?<br>\n<a href=\"https://github.com/madvorak/read-lean\">https://github.com/madvorak/read-lean</a></p>\n<p>Or, even better, would somebody like to write a better exposition to reading Lean for mathematicians, and include the better new guide instead of my guide?</p>\n<p>There are so many great tutorials on writing Lean code, yet almost nothing on reading Lean code!<br>\nI think it is a pity.<br>\nI believe that Lean is an extremely powerful language for communicating math:</p>\n<ul>\n<li>human to computer</li>\n<li>computer to computer</li>\n<li>computer to human</li>\n<li>human to human</li>\n</ul>",
        "id": 556900349,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1763403229
    },
    {
        "content": "<p>Could we have <a href=\"http://leansearch.net\">leansearch.net</a> or a similar natural language search tool integrated? I still find it quicker to search parts of mathlib that I know little about.</p>",
        "id": 556907484,
        "sender_full_name": "Shreyas Srinivas",
        "timestamp": 1763405472
    },
    {
        "content": "<p>I would appreciate a gentle tutorial on <code>grind</code>.  When my PR's are reviewed and I am shown how a block of proof code can be replaced by a single <code>grind</code> call, I often find the result almost magical.  The chapter on <code>grind</code> in The Lean Language Reference is not for the beginners, nor is it easy to search.  For example, I was shown the following <code>grind</code> call yesterday:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">grind</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">List</span><span class=\"bp\">.</span><span class=\"n\">mem_iff_getElem</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">_</span><span class=\"w\"> </span><span class=\"n\">extract_flatten</span><span class=\"o\">]</span>\n</code></pre></div>\n<p>It took me some time to find the reference on <code>=_</code> and, after reading it, I still don't really understand what it does.</p>",
        "id": 556920364,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1763409926
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110637\">Ching-Tsun Chou</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/556920364\">said</a>:</p>\n<blockquote>\n<p>I would appreciate a gentle tutorial on <code>grind</code>.  </p>\n</blockquote>\n<p>While I know the instructions for adding items include a \"Focused on Mathlib\" criteria, I think there is room to include best practices for <code>grind</code> in Mathlib as it is starting to be used more. Using the profiler to consider performance, tradeoffs with readability, sensitivity to proofs breaking, etc. are things that have been discussed in reviews but maybe not written down in a single location yet.</p>",
        "id": 556925503,
        "sender_full_name": "Chris Henson",
        "timestamp": 1763411686
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"417654\">@Martin Dvo≈ô√°k</span> <span class=\"user-mention\" data-user-id=\"466334\">@Shreyas Srinivas</span> You can make PRs to add these to the yaml file: see <a class=\"message-link\" href=\"/#narrow/channel/113486-announce/topic/Mathlib.20documentation.20overview/near/556890008\">#announce &gt; Mathlib documentation overview @ üí¨</a></p>",
        "id": 556983752,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1763444487
    },
    {
        "content": "<p>Thanks for the link, but really wanted to fish for something better than would replace my tutorial. If nobody else feels like writing a better exposition to reading Lean, I will PR mine.</p>",
        "id": 557879045,
        "sender_full_name": "Martin Dvo≈ô√°k",
        "timestamp": 1763458498
    },
    {
        "content": "<p>Hi all ‚Äî there are a few best-practice pointers that are often talked about on zulip that I haven't been able to find documentation for. (These aren't necessarily mathlib-focussed so please let me know if there's a better forum to ask this.) I think I have a working understanding of much of this by trial-and-error, but it would be nice to have a centralised reference to point newbies (me very-much included) to, especially if it were example oriented: \"here's the naive attempt, here's where it goes wrong, here's the idiomatic solution\".</p>\n<ul>\n<li><strong>defeq abuse</strong>: my understanding is that the point of this is to encourage using API, rather than eg deconstructing a hypothesis, in case the definition changes without changing the mathematical content ‚Äî is that correct? It also seems that this isn't uniform across the library, but maybe the exceptions are considered fundamental enough to be stable.</li>\n<li><strong>using tactics for data</strong>: you only have to fight with cryptic casts etc that come from <code>rw</code> and <code>simp</code> etc once to understand why this can be an issue! What I'm interested in is a precise account of what problems arise, to get a better idea of when it is okay. (I remember there being an example of this in <a href=\"https://leanprover-community.github.io/mathematics_in_lean/\">#mil</a> or <a href=\"https://leanprover.github.io/theorem_proving_in_lean4/\">#tpil</a>, but I can't remember exactly where.) For instance, it seems to be that <code>apply</code> and <code>exact</code> should be fine for constructing data, and sometimes more readable than an explicit term, <code>simp</code> is probably a definite no, but what about <code>by_cases</code>? Apparently there can sometimes be an issue with <code>refine</code>? (There was a brief discussion of this issue in the cslib channel, <a href=\"#narrow/channel/513188-CSLib/topic/Logic/near/560044077\">see here</a>.)</li>\n<li><strong>API building</strong>: this was mentioned up-thread, but I'd like to bump it if possible.  It's possible that the best version of this is a pointer to some examples of well-written API, but I found myself looking for guidance particularly on \"I've made this definition, what helper lemmas should I be defining to make it friendly to use\", as well as \"what should be tagged with <code>[simp]</code>\", and so forth.</li>\n<li><strong>golfing</strong>: this crosses over with tactic documentation, as in \"this tactic does what you need in one line\", as well as with best-practice style. I remember someone posting a link to some source code that came from a course, which was very useful, but again a centrally available example-guided reference would be wonderful. I understand it's a bit of a judgement call, but I'd also love some guidance on the <em>right amount</em> of golfing ‚Äî sometimes making a proof longer makes it easier to read and maintain, things of that kind. Of course a lot of this comes out in the review process (I learnt a lot from <span class=\"user-mention\" data-user-id=\"240862\">@Oliver Nash</span> 's reviews on my graph theory PRs) but for my part I'd like to write better code from the beginning :-).</li>\n</ul>\n<p>Lots of requests here! and the best-case scenario is being pointed to resources that already exist ‚Äî thank you for reading my two-cents...</p>",
        "id": 572145538,
        "sender_full_name": "Thomas Waring",
        "timestamp": 1770297534
    },
    {
        "content": "<p>Thank you for the detailed requests, so many useful ideas and observations in there! Indeed I can't think of anything that covers your questions completely. The closest I can think of is the advice in the <a href=\"https://leanprover-community.github.io/contribute/pr-review.html#improvements\">PR review guide</a>, maybe that helps a bit?</p>",
        "id": 572165206,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1770302146
    },
    {
        "content": "<p>I do think a central golfing guide would be really nice. <a href=\"https://github.com/fpvandoorn/LeanCourse25/blob/master/LeanCourse25/Lectures/Lecture21After.lean\">This document</a> (probably the one you're referring to) could serve as a basis. It certainly contains some heuristics on how much to golf.</p>",
        "id": 572178546,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1770305056
    },
    {
        "content": "<p>Re: tactics for data - my understanding is that</p>\n<ul>\n<li>exact and refine should be fine (though <code>by exact t</code> is just longer than an explicit term, so I don't quite see why that would be better)</li>\n<li>apply might be tricky (as that does unification)</li>\n<li><code>rw</code> should be avoided</li>\n<li>I would use <code>if</code> instead of <code>by_cases</code></li>\n</ul>",
        "id": 572178934,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1770305142
    },
    {
        "content": "<p>I'll be teaching an \"advanced Lean\" seminar next seminar, and some of the topics should touch on your questions. (\"API design\" is a really general question, though --- at some point, guidance will be area-dependent! Designing simp lemmas is a topic I intend to cover.)</p>",
        "id": 572179242,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1770305217
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/572165206\">said</a>:</p>\n<blockquote>\n<p>Thank you for the detailed requests, so many useful ideas and observations in there! Indeed I can't think of anything that covers your questions completely. The closest I can think of is the advice in the <a href=\"https://leanprover-community.github.io/contribute/pr-review.html#improvements\">PR review guide</a>, maybe that helps a bit?</p>\n</blockquote>\n<p>You're very welcome! &amp; that's a great point about the review guide, I will go back &amp; read it more thoroughly</p>",
        "id": 572317847,
        "sender_full_name": "Thomas Waring",
        "timestamp": 1770366509
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"634338\">@Michael Rothgang</span> thank you for these! </p>\n<ul>\n<li>That is indeed the golfing document I had in mind, thanks.</li>\n<li>Your advice on tactics for data is roughly what I had in mind (which is reassuring!) ‚Äî perhaps something about this could go in the the <a href=\"https://leanprover-community.github.io/extras/pitfalls.html\">pitfalls document</a>, with some examples. (I will try, for my own benefit, to write such an example.)</li>\n<li>The question on API design was a bit of a reach, and it makes sense that it would be area-dependent.</li>\n</ul>",
        "id": 572320065,
        "sender_full_name": "Thomas Waring",
        "timestamp": 1770367239
    },
    {
        "content": "<p>Cslib encourages the use of <code>grind</code>.  Does mathlib do, too?  Sometimes <code>grind</code> can shorten proofs  a lot.  Here's a recent example I encountered:<br>\n<a href=\"https://github.com/leanprover/cslib/pull/278#discussion_r2761488704\">https://github.com/leanprover/cslib/pull/278#discussion_r2761488704</a><br>\nThese days when I think my proof state has all the hypotheses needed to prove the goal, I just try <code>grind</code> to see if I get lucky.</p>",
        "id": 572479908,
        "sender_full_name": "Ching-Tsun Chou",
        "timestamp": 1770421476
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110637\">Ching-Tsun Chou</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Mathlib.3A.20the.20Missing.20Manuals/near/572479908\">said</a>:</p>\n<blockquote>\n<p>Cslib encourages the use of <code>grind</code>.  Does mathlib do, too?  Sometimes <code>grind</code> can shorten proofs  a lot.  Here's a recent example I encountered:<br>\n<a href=\"https://github.com/leanprover/cslib/pull/278#discussion_r2761488704\">https://github.com/leanprover/cslib/pull/278#discussion_r2761488704</a><br>\nThese days when I think my proof state has all the hypotheses needed to prove the goal, I just try <code>grind</code> to see if I get lucky.</p>\n</blockquote>\n<p><code>grind</code> is allowed and welcome, but not \"encouraged\" as a blanket rule. Sometimes a direct proof or more specialized tactic is more appropriate</p>",
        "id": 572509879,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1770452522
    },
    {
        "content": "<p>With regards to CSLib encouraging <code>grind</code>, I am probably the primary instigator, but would clarify that we also don't do so indiscriminately. I try to spend a lot of time looking at Zulip and Mathlib reviews to see what standards are emerging and <a href=\"#narrow/channel/287929-mathlib4/topic/style.20guidelines.20for.20grind/with/572383256\">as I again mentioned here</a> am interested in seeing these documented.</p>",
        "id": 572513968,
        "sender_full_name": "Chris Henson",
        "timestamp": 1770456400
    }
]