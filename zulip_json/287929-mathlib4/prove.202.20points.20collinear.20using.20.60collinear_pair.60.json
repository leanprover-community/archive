[
    {
        "content": "<p>hello i am quite new to mathlib and lean. i have this code that I have been trying to make work but cant. </p>\n<p>I found the theorem <code>collinear_pair</code> and I would like to just copy the proposition and then use <code>collinear_pair</code> to prove it. I don't know why this doesn't work, since I copied all the state that is shown in <code>mathlib\\Mathlib\\LinearAlgebra\\AffineSpace\\FiniteDimensional.lean</code></p>\n<p>It seems so hard to just reuse an existing theorem, trying to provide the other info like <code>k</code>, <code>V</code> and <code>P</code> to <code>collinear_pair</code> doesn't seem to work either. The goal state just remains as <code>**⊢** Collinear k {a, b}</code></p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">ι</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">AffineSubspace</span><span class=\"w\"> </span><span class=\"n\">Module</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DivisionRing</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">AffineSpace</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">]</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span>\n<span class=\"c1\">-- theorem collinear_pair (p₁ p₂ : P) : Collinear k ({p₁, p₂} : Set P) := by</span>\n<span class=\"kn\">theorem</span><span class=\"w\"> </span><span class=\"n\">ab_collinear</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Collinear</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">({</span><span class=\"n\">a</span><span class=\"o\">,</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Set</span><span class=\"w\"> </span><span class=\"n\">P</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">rw</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">collinear_pair</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"o\">]</span>\n</code></pre></div>",
        "id": 477726451,
        "sender_full_name": "max",
        "timestamp": 1729281652
    },
    {
        "content": "<p><code>rw</code> is for rewriting with equalities. Here <code>collinear_pair</code> does not state an equality.</p>",
        "id": 477727322,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729282057
    },
    {
        "content": "<p>when i try <code>theorem ab_collinear (a b : P) : Collinear k ({a, b} : Set P) := collinear_pair k a b</code> my VSCode still shows the goal state as </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_1</span>\n<span class=\"n\">V</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_2</span>\n<span class=\"n\">P</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"w\"> </span><span class=\"n\">u_3</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝³</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">DivisionRing</span><span class=\"w\"> </span><span class=\"n\">k</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝²</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AddCommGroup</span><span class=\"w\"> </span><span class=\"n\">V</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝¹</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Module</span><span class=\"w\"> </span><span class=\"n\">k</span><span class=\"w\"> </span><span class=\"n\">V</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">AffineSpace</span><span class=\"w\"> </span><span class=\"n\">V</span><span class=\"w\"> </span><span class=\"n\">P</span>\n<span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">P</span>\n<span class=\"bp\">⊢</span><span class=\"w\"> </span><span class=\"n\">P</span>\n</code></pre></div>",
        "id": 477727346,
        "sender_full_name": "max",
        "timestamp": 1729282074
    },
    {
        "content": "<p>Where is your cursor? Is it on <code>b</code> by any chance? and does it say \"Expected type\" in the infoview?</p>",
        "id": 477727441,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729282114
    },
    {
        "content": "<p>If so, that's just Lean telling you that the variable you are hovering is of type <code>P</code></p>",
        "id": 477727475,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729282140
    },
    {
        "content": "<p><a href=\"/user_uploads/3121/fTnncoiuL004zuxvMogNaRL9/image.png\">image.png</a><br>\nmy cursor is at the end of the line</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/fTnncoiuL004zuxvMogNaRL9/image.png\" title=\"image.png\"><img data-original-dimensions=\"1766x620\" src=\"/user_uploads/thumbnail/3121/fTnncoiuL004zuxvMogNaRL9/image.png/840x560.webp\"></a></div>",
        "id": 477727544,
        "sender_full_name": "max",
        "timestamp": 1729282179
    },
    {
        "content": "<p>oh, i was expecting <code>no goals</code>. so that means that I successfully reused <code>collinear_pair</code></p>",
        "id": 477727630,
        "sender_full_name": "max",
        "timestamp": 1729282207
    },
    {
        "content": "<p>The <code>no goals</code> only appear if you are in tactic mode, i.e. you started with <code>by</code></p>",
        "id": 477727896,
        "sender_full_name": "Etienne Marion",
        "timestamp": 1729282335
    },
    {
        "content": "<p>Yes, it says \"Expected type\" above what you called the goal state in your previous message</p>",
        "id": 477727954,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729282371
    },
    {
        "content": "<p>how do I know im done then? just the lack of error message?</p>",
        "id": 477727997,
        "sender_full_name": "max",
        "timestamp": 1729282391
    },
    {
        "content": "<p>Yes. If the underline is too weak of a signal for you, I suggest you install the VSCode extension called \"Error Lens\". It is life-changing.</p>",
        "id": 477728205,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729282474
    },
    {
        "content": "<p>okay thank you! i remember a while ago there was like a <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
        "id": 477728570,
        "sender_full_name": "max",
        "timestamp": 1729282630
    },
    {
        "content": "<p>Yes, that was in Lean 3. Sadly, doing maths in Lean 4 provides you with much less dopamine</p>",
        "id": 477729189,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1729282921
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/prove.202.20points.20collinear.20using.20.60collinear_pair.60/near/477728205\">said</a>:</p>\n<blockquote>\n<p>Yes. If the underline is too weak of a signal for you, I suggest you install the VSCode extension called \"Error Lens\". It is life-changing.</p>\n</blockquote>\n<p>I just installed it and it changed my life.</p>",
        "id": 477729371,
        "sender_full_name": "Andrew Yang",
        "timestamp": 1729283001
    },
    {
        "content": "<p>Note: the tada emoji is still there in <a href=\"https://github.com/Julian/lean.nvim/\">lean.nvim</a>, so you can have a huge win by dropping VSCode in favor of neovim and get back your dopamine.</p>",
        "id": 477797004,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1729336265
    },
    {
        "content": "<p>It's certainly possible to put it back in VS Code, but wasn't the issue that it was being displayed when the goals weren't accomplished? Is that also the case in nvim?</p>",
        "id": 477798183,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1729337401
    },
    {
        "content": "<p>Yeah, we don't do anything special there to \"fix\" that possibility, we just act optimistic I suppose that in preferring the frequent dopamine vs. occasional disappointment. (Actually I just said \"let's leave it as is and see if anyone complains\", and no one did so far.)</p>",
        "id": 477811970,
        "sender_full_name": "Julian Berman",
        "timestamp": 1729348337
    },
    {
        "content": "<p>Yeah the argument for removing the tada was that it was confusing beginners (who might think \"I see a tada therefore I must be done, even though there are errors everywhere\"), but it's unlikely that someone completely clueless will be using nvim!</p>",
        "id": 477814869,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1729350728
    }
]