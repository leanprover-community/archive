[
    {
        "content": "<p>I just tried to run <code>!bench</code> on a nightly testing commit, but it failed:<br>\n<a href=\"http://speed.lean-fro.org/mathlib4/run-detail/41e5d68f-95ec-432b-8f47-9e2d46edcddb\">http://speed.lean-fro.org/mathlib4/run-detail/41e5d68f-95ec-432b-8f47-9e2d46edcddb</a></p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">############</span>\n<span class=\"bp\">##</span> <span class=\"n\">Stderr</span> <span class=\"bp\">##</span>\n<span class=\"bp\">############</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">aixa5dj9k9hjvqkfcxzk8g737a7c62n0</span><span class=\"bp\">-</span><span class=\"n\">source'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">these</span> <span class=\"mi\">10</span> <span class=\"n\">paths</span> <span class=\"n\">will</span> <span class=\"n\">be</span> <span class=\"n\">fetched</span> <span class=\"o\">(</span><span class=\"mi\">7</span><span class=\"bp\">.</span><span class=\"mi\">59</span> <span class=\"n\">MiB</span> <span class=\"n\">download</span><span class=\"o\">,</span> <span class=\"mi\">35</span><span class=\"bp\">.</span><span class=\"mi\">16</span> <span class=\"n\">MiB</span> <span class=\"n\">unpacked</span><span class=\"o\">):</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">j9rc786ylq8cid4zgcn6idknilkbd4ax</span><span class=\"bp\">-</span><span class=\"n\">bash</span><span class=\"bp\">-</span><span class=\"mi\">5</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"n\">p16</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">d2bpliayddadf6lx6l1i04w265gqw8n6</span><span class=\"bp\">-</span><span class=\"n\">glibc</span><span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"bp\">.</span><span class=\"mi\">34</span><span class=\"bp\">-</span><span class=\"mi\">210</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">8</span><span class=\"n\">q06kxhkl4dq3vjd3ai2j8n9kr26c271</span><span class=\"bp\">-</span><span class=\"n\">gnumake</span><span class=\"bp\">-</span><span class=\"mi\">4</span><span class=\"bp\">.</span><span class=\"mi\">3</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">b8g2i5l196pdywljm3df4zlsk45jpzcy</span><span class=\"bp\">-</span><span class=\"n\">gnumake</span><span class=\"bp\">-</span><span class=\"mi\">4</span><span class=\"bp\">.</span><span class=\"mi\">3</span><span class=\"bp\">-</span><span class=\"n\">man</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">01</span><span class=\"n\">ymyhl5ckhav09f7p6vk7w227bicglv</span><span class=\"bp\">-</span><span class=\"n\">jq</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">6</span><span class=\"bp\">-</span><span class=\"n\">bin</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">wrlj7h8kixc5y8qkjaar24012nw9mr1m</span><span class=\"bp\">-</span><span class=\"n\">jq</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">6</span><span class=\"bp\">-</span><span class=\"n\">lib</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">89</span><span class=\"n\">m35h04cfx0w1wgwr6kd9abvganncm2</span><span class=\"bp\">-</span><span class=\"n\">jq</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">6</span><span class=\"bp\">-</span><span class=\"n\">man</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">finq3bf8qy4nwkc447q7msg4g8nliyii</span><span class=\"bp\">-</span><span class=\"n\">libidn2</span><span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"bp\">.</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">2</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">7</span><span class=\"n\">k3alvjrd0017ddk87rdnmdvlgh7yq9d</span><span class=\"bp\">-</span><span class=\"n\">libunistring</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">0</span>\n  <span class=\"bp\">/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">is67c0b7knhd8i930xxfpmrh0dskwymp</span><span class=\"bp\">-</span><span class=\"n\">onig</span><span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"bp\">.</span><span class=\"mi\">9</span><span class=\"bp\">.</span><span class=\"mi\">8</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">b8g2i5l196pdywljm3df4zlsk45jpzcy</span><span class=\"bp\">-</span><span class=\"n\">gnumake</span><span class=\"bp\">-</span><span class=\"mi\">4</span><span class=\"bp\">.</span><span class=\"mi\">3</span><span class=\"bp\">-</span><span class=\"n\">man'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">89</span><span class=\"n\">m35h04cfx0w1wgwr6kd9abvganncm2</span><span class=\"bp\">-</span><span class=\"n\">jq</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">6</span><span class=\"bp\">-</span><span class=\"n\">man'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">7</span><span class=\"n\">k3alvjrd0017ddk87rdnmdvlgh7yq9d</span><span class=\"bp\">-</span><span class=\"n\">libunistring</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">0</span><span class=\"bp\">'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">finq3bf8qy4nwkc447q7msg4g8nliyii</span><span class=\"bp\">-</span><span class=\"n\">libidn2</span><span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"bp\">.</span><span class=\"mi\">3</span><span class=\"bp\">.</span><span class=\"mi\">2</span><span class=\"bp\">'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">d2bpliayddadf6lx6l1i04w265gqw8n6</span><span class=\"bp\">-</span><span class=\"n\">glibc</span><span class=\"bp\">-</span><span class=\"mi\">2</span><span class=\"bp\">.</span><span class=\"mi\">34</span><span class=\"bp\">-</span><span class=\"mi\">210</span><span class=\"bp\">'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">j9rc786ylq8cid4zgcn6idknilkbd4ax</span><span class=\"bp\">-</span><span class=\"n\">bash</span><span class=\"bp\">-</span><span class=\"mi\">5</span><span class=\"bp\">.</span><span class=\"mi\">1</span><span class=\"bp\">-</span><span class=\"n\">p16'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">8</span><span class=\"n\">q06kxhkl4dq3vjd3ai2j8n9kr26c271</span><span class=\"bp\">-</span><span class=\"n\">gnumake</span><span class=\"bp\">-</span><span class=\"mi\">4</span><span class=\"bp\">.</span><span class=\"mi\">3</span><span class=\"bp\">'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">is67c0b7knhd8i930xxfpmrh0dskwymp</span><span class=\"bp\">-</span><span class=\"n\">onig</span><span class=\"bp\">-</span><span class=\"mi\">6</span><span class=\"bp\">.</span><span class=\"mi\">9</span><span class=\"bp\">.</span><span class=\"mi\">8</span><span class=\"bp\">'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"n\">wrlj7h8kixc5y8qkjaar24012nw9mr1m</span><span class=\"bp\">-</span><span class=\"n\">jq</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">6</span><span class=\"bp\">-</span><span class=\"n\">lib'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"n\">copying</span> <span class=\"n\">path</span> <span class=\"bp\">'/</span><span class=\"n\">nix</span><span class=\"bp\">/</span><span class=\"n\">store</span><span class=\"bp\">/</span><span class=\"mi\">01</span><span class=\"n\">ymyhl5ckhav09f7p6vk7w227bicglv</span><span class=\"bp\">-</span><span class=\"n\">jq</span><span class=\"bp\">-</span><span class=\"mi\">1</span><span class=\"bp\">.</span><span class=\"mi\">6</span><span class=\"bp\">-</span><span class=\"n\">bin'</span> <span class=\"k\">from</span> <span class=\"bp\">'</span><span class=\"n\">https</span><span class=\"o\">:</span><span class=\"bp\">//</span><span class=\"n\">cache.nixos.org'...</span>\n<span class=\"bp\">+</span> <span class=\"n\">temci</span> <span class=\"n\">exec</span> <span class=\"c1\">--config ./scripts/bench/temci-config.yml</span>\n<span class=\"o\">[</span><span class=\"mi\">2023</span><span class=\"bp\">-</span><span class=\"mi\">12</span><span class=\"bp\">-</span><span class=\"mi\">01</span> <span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"mi\">24</span><span class=\"o\">:</span><span class=\"mi\">49</span><span class=\"o\">,</span><span class=\"mi\">641</span><span class=\"o\">]</span> <span class=\"n\">Program</span> <span class=\"n\">block</span> <span class=\"n\">no.</span> <span class=\"mi\">2</span> <span class=\"n\">failed</span><span class=\"o\">:</span> <span class=\"n\">Unexpected</span> <span class=\"n\">return</span> <span class=\"n\">code</span> <span class=\"mi\">1</span><span class=\"o\">,</span> <span class=\"n\">expected</span> <span class=\"mi\">0</span>\n<span class=\"o\">[</span><span class=\"mi\">2023</span><span class=\"bp\">-</span><span class=\"mi\">12</span><span class=\"bp\">-</span><span class=\"mi\">01</span> <span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"mi\">24</span><span class=\"o\">:</span><span class=\"mi\">49</span><span class=\"o\">,</span><span class=\"mi\">641</span><span class=\"o\">]</span> <span class=\"n\">output</span>\n\n<span class=\"n\">Mathlib.lean</span><span class=\"o\">:</span><span class=\"mi\">1</span><span class=\"o\">:</span><span class=\"mi\">0</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"n\">package</span> <span class=\"bp\">'</span><span class=\"n\">Mathlib'</span>\n<span class=\"n\">You</span> <span class=\"n\">might</span> <span class=\"n\">need</span> <span class=\"n\">to</span> <span class=\"kn\">open</span> <span class=\"bp\">'/</span><span class=\"n\">home</span><span class=\"bp\">/</span><span class=\"n\">velcom</span><span class=\"bp\">/</span><span class=\"n\">mathlib4</span><span class=\"bp\">/</span><span class=\"n\">task_repo'</span> <span class=\"n\">as</span> <span class=\"n\">a</span> <span class=\"n\">workspace</span> <span class=\"k\">in</span> <span class=\"n\">your</span> <span class=\"n\">editor</span>\n\n<span class=\"o\">[</span><span class=\"mi\">2023</span><span class=\"bp\">-</span><span class=\"mi\">12</span><span class=\"bp\">-</span><span class=\"mi\">01</span> <span class=\"mi\">14</span><span class=\"o\">:</span><span class=\"mi\">24</span><span class=\"o\">:</span><span class=\"mi\">49</span><span class=\"o\">,</span><span class=\"mi\">641</span><span class=\"o\">]</span> <span class=\"n\">error</span>\n\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"n\">command</span> <span class=\"bp\">'</span><span class=\"n\">print</span><span class=\"bp\">-</span><span class=\"n\">paths'</span>\n</code></pre></div>\n<p>Is this on someoneâ€™s radar?</p>",
        "id": 405369007,
        "sender_full_name": "Joachim Breitner",
        "timestamp": 1701439078
    },
    {
        "content": "<p>I guess it would have to be on my radar but it wasn't so far</p>",
        "id": 405370671,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1701439481
    },
    {
        "content": "<p>Oh, I see a <code>lake print-paths</code> invocation, that needs updating</p>",
        "id": 405371037,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1701439583
    },
    {
        "content": "<p>Pushed a tentative fix onto nightly-testing, I hope that was the correct thing to do /cc <span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> . But the build is broken anyway.</p>",
        "id": 405375861,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1701441231
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span>, which Lean version requires that fix?</p>\n<p>Ideally changes that will be required long term get made as PRs to <code>bump/v4.5.0</code>, and then can be merged into <code>nightly-testing</code> while undergoing review.</p>",
        "id": 405456901,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1701475107
    },
    {
        "content": "<p>Right now <code>nightly-testing</code> is broken until we get Mathlib onto <code>v4.4.0-rc1</code>, hopefully in the next few hours.</p>",
        "id": 405456935,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1701475130
    },
    {
        "content": "<p>I think your fix wasn't right, in any case:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">lake</span> <span class=\"n\">setup</span><span class=\"bp\">-</span><span class=\"n\">file</span> <span class=\"c1\">--no-build Mathlib Mathlib</span>\n</code></pre></div>\n<p>doesn't produce any json on <code>nightly-testing</code>.<br>\n(but <code>lake setup-file Mathlib</code> does)</p>",
        "id": 405457422,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1701475343
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110087\">@Scott Morrison</span> works fine in <a href=\"https://github.com/leanprover-community/mathlib4/pull/8808\">#8808</a></p>",
        "id": 405794829,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1701685962
    }
]