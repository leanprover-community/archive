[
    {
        "content": "<p>I'm trying to set up Mathlib but have been running into difficulties.  In particular, for the file:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"kn\">import</span> <span class=\"n\">Mathlib.Data.Real.Basic</span>\n\n<span class=\"k\">#eval</span> <span class=\"mi\">1</span>\n</code></pre></div>\n<p>I get the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lake.exe print-paths Init Mathlib.Data.Real.Basic Mathlib.Data.Complex.Exponential Mathlib.Algebra.Periodic` failed:</span>\n\n<span class=\"n\">stderr</span><span class=\"o\">:</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Linter.UnreachableTactic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">Building</span> <span class=\"n\">Std.CodeAction.Basic</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Linter.UnnecessarySeqFocus</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">Building</span> <span class=\"n\">Std.Tactic.TryThis</span>\n<span class=\"n\">info</span><span class=\"o\">:</span> <span class=\"n\">Building</span> <span class=\"n\">Mathlib.Control.Basic</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe -DwarningAsError=true -Dlinter.missingDocs=true .\\lake-packages\\std\\.\\.\\Std\\Linter\\UnreachableTactic.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Linter\\UnreachableTactic.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Linter\\UnreachableTactic.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Linter\\UnreachableTactic.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Linter</span><span class=\"bp\">\\</span><span class=\"n\">UnreachableTactic.lean</span><span class=\"o\">:</span><span class=\"mi\">87</span><span class=\"o\">:</span><span class=\"mi\">45</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"o\">{</span><span class=\"bp\">...</span><span class=\"o\">}</span> <span class=\"kd\">notation</span><span class=\"o\">,</span> <span class=\"n\">expected</span> <span class=\"n\">type</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">form</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"bp\">...</span><span class=\"o\">)</span>\n  <span class=\"n\">Linter</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe -DwarningAsError=true -Dpp.unicode.fun=true .\\lake-packages\\mathlib\\.\\.\\Mathlib\\Control\\Basic.lean -R .\\lake-packages\\mathlib\\.\\. -o .\\lake-packages\\mathlib\\build\\lib\\Mathlib\\Control\\Basic.olean -i .\\lake-packages\\mathlib\\build\\lib\\Mathlib\\Control\\Basic.ilean -c .\\lake-packages\\mathlib\\build\\ir\\Mathlib\\Control\\Basic.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Mathlib</span><span class=\"bp\">\\</span><span class=\"n\">Control</span><span class=\"bp\">\\</span><span class=\"n\">Basic.lean</span><span class=\"o\">:</span><span class=\"mi\">272</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">expected</span> <span class=\"sc\">'{'</span> <span class=\"n\">or</span> <span class=\"n\">strict</span> <span class=\"n\">indentation</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Mathlib</span><span class=\"bp\">\\</span><span class=\"n\">Control</span><span class=\"bp\">\\</span><span class=\"n\">Basic.lean</span><span class=\"o\">:</span><span class=\"mi\">271</span><span class=\"o\">:</span><span class=\"mi\">78</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unsolved</span> <span class=\"n\">goals</span>\n<span class=\"n\">α</span><span class=\"bp\">✝</span> <span class=\"n\">β</span><span class=\"bp\">✝</span> <span class=\"n\">γ</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span>\n<span class=\"n\">m</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"bp\">?</span><span class=\"n\">m.20171</span>\n<span class=\"n\">m</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span> <span class=\"bp\">→</span> <span class=\"kt\">Type</span> <span class=\"n\">v</span>\n<span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">Applicative</span> <span class=\"n\">m</span>\n<span class=\"n\">inst</span><span class=\"bp\">✝</span> <span class=\"o\">:</span> <span class=\"n\">CommApplicative</span> <span class=\"n\">m</span>\n<span class=\"n\">α</span> <span class=\"n\">β</span> <span class=\"n\">γ</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u</span>\n<span class=\"n\">a</span> <span class=\"o\">:</span> <span class=\"n\">m</span> <span class=\"n\">α</span>\n<span class=\"n\">b</span> <span class=\"o\">:</span> <span class=\"n\">m</span> <span class=\"n\">β</span>\n<span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">α</span> <span class=\"bp\">→</span> <span class=\"n\">β</span> <span class=\"bp\">→</span> <span class=\"n\">γ</span>\n<span class=\"bp\">⊢</span> <span class=\"o\">(</span><span class=\"n\">Seq.seq</span> <span class=\"o\">(</span><span class=\"n\">f</span> <span class=\"bp\">&lt;$&gt;</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"k\">fun</span> <span class=\"n\">x</span> <span class=\"bp\">↦</span> <span class=\"n\">b</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"n\">p</span> <span class=\"bp\">↦</span> <span class=\"n\">f</span> <span class=\"n\">p.fst</span> <span class=\"n\">p.snd</span><span class=\"o\">)</span> <span class=\"bp\">&lt;$&gt;</span> <span class=\"n\">Seq.seq</span> <span class=\"o\">(</span><span class=\"n\">Prod.mk</span> <span class=\"bp\">&lt;$&gt;</span> <span class=\"n\">a</span><span class=\"o\">)</span> <span class=\"k\">fun</span> <span class=\"n\">x</span> <span class=\"bp\">↦</span> <span class=\"n\">b</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe -DwarningAsError=true -Dlinter.missingDocs=true .\\lake-packages\\std\\.\\.\\Std\\Linter\\UnnecessarySeqFocus.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Linter\\UnnecessarySeqFocus.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Linter\\UnnecessarySeqFocus.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Linter\\UnnecessarySeqFocus.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Linter</span><span class=\"bp\">\\</span><span class=\"n\">UnnecessarySeqFocus.lean</span><span class=\"o\">:</span><span class=\"mi\">63</span><span class=\"o\">:</span><span class=\"mi\">6</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"kd\">constant</span> <span class=\"bp\">'</span><span class=\"n\">Parser.Tactic.Conv.</span><span class=\"bp\">«</span><span class=\"n\">convNext__</span><span class=\"bp\">=&gt;</span><span class=\"n\">_</span><span class=\"bp\">»'</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Linter</span><span class=\"bp\">\\</span><span class=\"n\">UnnecessarySeqFocus.lean</span><span class=\"o\">:</span><span class=\"mi\">151</span><span class=\"o\">:</span><span class=\"mi\">47</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">invalid</span> <span class=\"o\">{</span><span class=\"bp\">...</span><span class=\"o\">}</span> <span class=\"kd\">notation</span><span class=\"o\">,</span> <span class=\"n\">expected</span> <span class=\"n\">type</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">form</span> <span class=\"o\">(</span><span class=\"n\">C</span> <span class=\"bp\">...</span><span class=\"o\">)</span>\n  <span class=\"n\">Linter</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe -DwarningAsError=true -Dlinter.missingDocs=true .\\lake-packages\\std\\.\\.\\Std\\Tactic\\TryThis.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\TryThis.olean -i .\\lake-packages\\std\\build\\lib\\Std\\Tactic\\TryThis.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\Tactic\\TryThis.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">Tactic</span><span class=\"bp\">\\</span><span class=\"n\">TryThis.lean</span><span class=\"o\">:</span><span class=\"mi\">51</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"n\">code_action_provider</span><span class=\"o\">]</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe` exited with code 1</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"bp\">&gt;</span> <span class=\"n\">LEAN_PATH</span><span class=\"bp\">=.\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">mathlib</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">Qq</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">aesop</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span><span class=\"bp\">;.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\</span><span class=\"n\">build</span><span class=\"bp\">\\</span><span class=\"n\">lib</span> <span class=\"n\">PATH</span> <span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe -DwarningAsError=true -Dlinter.missingDocs=true .\\lake-packages\\std\\.\\.\\Std\\CodeAction\\Basic.lean -R .\\lake-packages\\std\\.\\. -o .\\lake-packages\\std\\build\\lib\\Std\\CodeAction\\Basic.olean -i .\\lake-packages\\std\\build\\lib\\Std\\CodeAction\\Basic.ilean -c .\\lake-packages\\std\\build\\ir\\Std\\CodeAction\\Basic.c</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">stdout</span><span class=\"o\">:</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">CodeAction</span><span class=\"bp\">\\</span><span class=\"n\">Basic.lean</span><span class=\"o\">:</span><span class=\"mi\">29</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"n\">code_action_provider</span><span class=\"o\">]</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">CodeAction</span><span class=\"bp\">\\</span><span class=\"n\">Basic.lean</span><span class=\"o\">:</span><span class=\"mi\">166</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"n\">code_action_provider</span><span class=\"o\">]</span>\n<span class=\"bp\">.\\</span><span class=\"n\">lake</span><span class=\"bp\">-</span><span class=\"n\">packages</span><span class=\"bp\">\\</span><span class=\"n\">std</span><span class=\"bp\">\\.\\.\\</span><span class=\"n\">Std</span><span class=\"bp\">\\</span><span class=\"n\">CodeAction</span><span class=\"bp\">\\</span><span class=\"n\">Basic.lean</span><span class=\"o\">:</span><span class=\"mi\">213</span><span class=\"o\">:</span><span class=\"mi\">2</span><span class=\"o\">:</span> <span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">unknown</span> <span class=\"kn\">attribute</span> <span class=\"o\">[</span><span class=\"n\">code_action_provider</span><span class=\"o\">]</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">external</span> <span class=\"n\">command</span> <span class=\"bp\">`</span><span class=\"n\">c</span><span class=\"o\">:</span><span class=\"bp\">\\</span><span class=\"n\">Users</span><span class=\"bp\">\\</span><span class=\"n\">pwintz</span><span class=\"bp\">\\.</span><span class=\"n\">elan</span><span class=\"bp\">\\</span><span class=\"n\">toolchains</span><span class=\"bp\">\\</span><span class=\"n\">leanprover</span><span class=\"c1\">--lean4---nightly\\bin\\lean.exe` exited with code 1</span>\n</code></pre></div>\n<p>My <code>lakefile.lean</code> is as follows:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code> <span class=\"kn\">import</span> <span class=\"n\">Lake</span>\n<span class=\"kn\">open</span> <span class=\"n\">Lake</span> <span class=\"n\">DSL</span>\n\n<span class=\"n\">package</span> <span class=\"bp\">«</span><span class=\"n\">learn</span><span class=\"bp\">-</span><span class=\"n\">lean</span><span class=\"bp\">»</span> <span class=\"o\">{</span>\n  <span class=\"c1\">-- add any package configuration options here</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">require</span> <span class=\"n\">mathlib</span> <span class=\"k\">from</span> <span class=\"n\">git</span>\n  <span class=\"s2\">\"https://github.com/leanprover-community/mathlib4.git\"</span> <span class=\"bp\">@</span> <span class=\"s2\">\"master\"</span>\n\n<span class=\"kd\">@[default_target]</span>\n<span class=\"n\">lean_lib</span> <span class=\"bp\">«</span><span class=\"n\">LearnLean</span><span class=\"bp\">»</span> <span class=\"o\">{</span>\n  <span class=\"c1\">-- add any library configuration options here</span>\n<span class=\"o\">}</span>\n</code></pre></div>\n<p>Any ideas for how to fix this?</p>",
        "id": 363174336,
        "sender_full_name": "Paul Wintz",
        "timestamp": 1685743416
    },
    {
        "content": "<p>Also, if this is not the right forum to get this type of help, please let me know. I'm new here :)</p>",
        "id": 363175953,
        "sender_full_name": "Paul Wintz",
        "timestamp": 1685744055
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"621851\">@Paul Wintz</span> Did you follow the steps at <a href=\"https://github.com/leanprover-community/mathlib4#using-mathlib4-as-a-dependency\">https://github.com/leanprover-community/mathlib4#using-mathlib4-as-a-dependency</a>? It sounds like your <code>lean-toolchain</code> file does not match mathlib4's</p>",
        "id": 363310008,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1685799728
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span>, I'm not sure if I followed thos steps the first time, so I've started over, to make sure. When I run <code>elan run leanprover/lean4:nightly-2023-02-04 lake new lean-test math</code> the output is </p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"bp\">$</span> <span class=\"n\">elan</span> <span class=\"n\">run</span> <span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">nightly</span><span class=\"bp\">-</span><span class=\"mi\">2023</span><span class=\"bp\">-</span><span class=\"mi\">02</span><span class=\"bp\">-</span><span class=\"mi\">04</span> <span class=\"n\">lake</span> <span class=\"n\">new</span> <span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">test</span> <span class=\"n\">math</span>\n<span class=\"n\">error</span><span class=\"o\">:</span> <span class=\"n\">toolchain</span> <span class=\"bp\">'</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">nightly</span><span class=\"bp\">-</span><span class=\"mi\">2023</span><span class=\"bp\">-</span><span class=\"mi\">02</span><span class=\"bp\">-</span><span class=\"mi\">04</span><span class=\"bp\">'</span> <span class=\"n\">is</span> <span class=\"n\">not</span> <span class=\"n\">installed</span>\n</code></pre></div>\n<p>Do I need to build <code>mathlib4</code>as described <a href=\"https://github.com/leanprover-community/mathlib4#build-instructions\">here</a> before I run <code>elan run leanprover/lean4:nightly-2023-02-04 lake new lean-test math</code>?</p>",
        "id": 363849408,
        "sender_full_name": "Paul Wintz",
        "timestamp": 1686003219
    },
    {
        "content": "<p>probably <code>elan toolchain install leanprover/lean4:nightly-2023-02-04</code> solves your problem. but what you really want to do is check whether the contents of <code>lean-toolchain</code> in your project match with the current version of mathlib4 (and run <code>lake update</code> to make sure you have the current version of mathlib4 in your project)</p>",
        "id": 363864238,
        "sender_full_name": "Moritz Doll",
        "timestamp": 1686011366
    },
    {
        "content": "<p>I think</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">lake</span> <span class=\"bp\">+</span><span class=\"n\">leanprover</span><span class=\"bp\">/</span><span class=\"n\">lean4</span><span class=\"o\">:</span><span class=\"n\">nightly</span><span class=\"bp\">-</span><span class=\"mi\">2023</span><span class=\"bp\">-</span><span class=\"mi\">02</span><span class=\"bp\">-</span><span class=\"mi\">04</span> <span class=\"n\">new</span> <span class=\"n\">lean</span><span class=\"bp\">-</span><span class=\"n\">test</span> <span class=\"n\">math</span>\n</code></pre></div>\n<p>is the right command. This seems to successfully install the relevant version of lean if it is not available (unlike <code>elan run</code>).</p>",
        "id": 363865311,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1686012185
    },
    {
        "content": "<p>(That said, this is a very old toolchain, and definitely <em>not</em> the one in mathlib4's current <code>lean-toolchain</code>, which is what you should be using.)</p>",
        "id": 363865329,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1686012209
    },
    {
        "content": "<p>Oops yes, the <code>elan run</code> issue was noticed before, but we didn't adjust the readme. <a href=\"https://github.com/leanprover-community/mathlib4/pull/4724\">!4#4724</a></p>",
        "id": 363921990,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1686039595
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110087\">Scott Morrison</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Trouble.20Importing.20Mathlib/near/363865329\">said</a>:</p>\n<blockquote>\n<p>(That said, this is a very old toolchain, and definitely <em>not</em> the one in mathlib4's current <code>lean-toolchain</code>, which is what you should be using.)</p>\n</blockquote>\n<p>It's a fine toolchain for setting up the project. This is the most robust solution we have right now.</p>",
        "id": 363922204,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1686039642
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110024\">Sebastian Ullrich</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Trouble.20Importing.20Mathlib/near/363310008\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"621851\">Paul Wintz</span> Did you follow the steps at <a href=\"https://github.com/leanprover-community/mathlib4#using-mathlib4-as-a-dependency\">https://github.com/leanprover-community/mathlib4#using-mathlib4-as-a-dependency</a>? It sounds like your <code>lean-toolchain</code> file does not match mathlib4's</p>\n</blockquote>\n<p>Does it have to be exactly the same?<br>\nMy lean project's toolchain is \"leanprover/lean4:v4.0.0-rc4\" <br>\nwhereas mathlib's is \"leanprover/lean4:v4.0.0\".<br>\nI tried <code>elan toolchain install leanprover/lean4:v4.0.0</code> and it gave output<br>\nleanprover/lean4:v4.0.0 unchanged - Lean (version 4.0.0, commit ec941735c80d, Release)</p>",
        "id": 389912485,
        "sender_full_name": "David Sprayberry",
        "timestamp": 1694190091
    },
    {
        "content": "<p>It does, please follow the steps as written</p>",
        "id": 389912937,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1694190280
    }
]