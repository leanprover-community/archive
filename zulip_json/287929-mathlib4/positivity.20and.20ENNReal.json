[
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">hn</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ENNReal</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">&lt;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"bp\">/</span><span class=\"w\"> </span><span class=\"n\">n</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">positivity</span><span class=\"w\"> </span><span class=\"c1\">-- fails</span>\n</code></pre></div>\n<p>Can <code>positivity</code> be taught to deal with this kind of goal? (I assume it needs to know that <code>n</code> is not infinity here.) <br>\nThis came up when reviewing <a href=\"https://github.com/leanprover-community/mathlib4/pull/16675\">#16675</a>.</p>",
        "id": 483889869,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1732274712
    },
    {
        "content": "<p>It <em>can</em>, especially now that we have the <code>finiteness</code> tactic</p>",
        "id": 483892039,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1732275507
    },
    {
        "content": "<p>I plan to teach it to do that this weekend.</p>",
        "id": 483941529,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1732291426
    }
]