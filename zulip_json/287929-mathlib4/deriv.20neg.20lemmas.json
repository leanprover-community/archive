[
    {
        "content": "<p>The names of <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=deriv_neg#doc\">docs#deriv_neg</a> vs <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=deriv_neg%27#doc\">docs#deriv_neg'</a> vs <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=deriv_neg%27%27#doc\">docs#deriv_neg''</a> vs <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=deriv.neg#doc\">docs#deriv.neg</a> vs <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=deriv.neg%27#doc\">docs#deriv.neg'</a> seem pretty subobtimal, especially given that the prime means something different to what it means for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=fderiv_neg#doc\">docs#fderiv_neg</a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=fderiv_neg%27#doc\">docs#fderiv_neg'</a>, where again the prime means something different to what it means for <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=fderiv_mul#doc\">docs#fderiv_mul</a> vs <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=fderiv_mul%27#doc\">docs#fderiv_mul'</a>. What names do we want here?</p>",
        "id": 514357126,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745580693
    },
    {
        "content": "<p>(context: in <a href=\"https://github.com/leanprover-community/mathlib4/pull/24351\">#24351</a> I want to add some lemmas about <code>deriv_pow</code>, but want to claim the <code>'</code> to mean \"noncommutative\" to match <code>mul'</code>)</p>",
        "id": 514357533,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745580815
    },
    {
        "content": "<p>To save you some clicks, the neg lemmas are:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">deriv_neg</span><span class=\"w\">               </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">Neg</span><span class=\"bp\">.</span><span class=\"n\">neg</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">1</span>\n<span class=\"n\">deriv_neg'</span><span class=\"w\">                      </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">Neg</span><span class=\"bp\">.</span><span class=\"n\">neg</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">1</span>\n<span class=\"n\">deriv_neg''</span><span class=\"w\">             </span><span class=\"o\">(</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">x</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"mi\">1</span>\n<span class=\"n\">deriv</span><span class=\"bp\">.</span><span class=\"n\">neg</span><span class=\"w\">   </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"n\">deriv</span><span class=\"bp\">.</span><span class=\"n\">neg'</span><span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">}</span><span class=\"w\">         </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">deriv</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"n\">fderiv_neg</span><span class=\"w\">  </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"k\">fun</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">y</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span>\n<span class=\"n\">fderiv_neg'</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"w\"> </span><span class=\"bp\">â†’</span><span class=\"w\"> </span><span class=\"n\">F</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">E</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"bp\">-</span><span class=\"n\">f</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"bp\">-</span><span class=\"n\">fderiv</span><span class=\"w\"> </span><span class=\"n\">ğ•œ</span><span class=\"w\"> </span><span class=\"n\">f</span><span class=\"w\"> </span><span class=\"n\">x</span>\n</code></pre></div>",
        "id": 514366879,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745583625
    },
    {
        "content": "<p>Did we not just have a discussion about naming <code>foo f</code> vs <code>foo (fun x =&gt; f x)</code>?</p>",
        "id": 514370148,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1745584595
    },
    {
        "content": "<p>Yes, but that doesn't help with naming <code>foo (fun x =&gt; -x)</code> vs <code>foo (fun x =&gt; - f x)</code></p>",
        "id": 514370604,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745584734
    },
    {
        "content": "<p>Related question from the other topic: <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Delete.20or.20rename.20AEMeasurable.2Efst.20and.20AEMeasurable.2Esnd/near/514281258\">#mathlib4 &gt; Delete or rename AEMeasurable.fst and AEMeasurable.snd @ ğŸ’¬</a></p>",
        "id": 514372033,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745585177
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"214703\">Yury G. Kudryashov</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Delete.20or.20rename.20AEMeasurable.2Efst.20and.20AEMeasurable.2Esnd/near/514281258\">said</a>:</p>\n<blockquote>\n<p>How should we name lemmas like <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.integral_prod_swap#doc\">docs#MeasureTheory.integral_prod_swap</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.integral_fun_fst#doc\">docs#MeasureTheory.integral_fun_fst</a> <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=MeasureTheory.integral_fn_integral_add#doc\">docs#MeasureTheory.integral_fn_integral_add</a> ?</p>\n</blockquote>",
        "id": 514372099,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745585204
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/deriv.20neg.20lemmas/near/514357533\">said</a>:</p>\n<blockquote>\n<p>(context: in <a href=\"https://github.com/leanprover-community/mathlib4/pull/24351\">#24351</a> I want to add some lemmas about <code>deriv_pow</code>, but want to claim the <code>'</code> to mean \"noncommutative\" to match <code>mul'</code>)</p>\n</blockquote>\n<p>Should we rename <code>mul'</code> to <code>mul_noncomm</code> or <code>mul_nc</code>?</p>",
        "id": 514373257,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1745585539
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/stream/287929-mathlib4/topic/deriv.20neg.20lemmas/near/514370604\">said</a>:</p>\n<blockquote>\n<p>Yes, but that doesn't help with naming <code>foo (fun x =&gt; -x)</code> vs <code>foo (fun x =&gt; - f x)</code></p>\n</blockquote>\n<p>I think <code>deriv.neg</code> should be <code>deriv_neg_comp</code> because applying <code>deriv_neg_comp hf</code> should be the same as applying <code>deriv_comp deriv_neg hf</code>.</p>\n<p>(Could be also <code>deriv_comp_neg</code> but I'm thinking of <code>comp</code> as \"infix\")</p>\n<p>(Ah this is the same as <span class=\"user-mention\" data-user-id=\"387244\">@YaÃ«l Dillies</span> suggested in the other thread)</p>",
        "id": 514382396,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1745588268
    },
    {
        "content": "<p>Not sure what rule should we have for <code>deriv_neg</code> vs <code>deriv_neg'</code>. Ideally such a convention would make it clear for <code>fderiv</code> as well where you can potentially apply <code>x</code> and <code>dx</code>.</p>",
        "id": 514382928,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1745588442
    }
]