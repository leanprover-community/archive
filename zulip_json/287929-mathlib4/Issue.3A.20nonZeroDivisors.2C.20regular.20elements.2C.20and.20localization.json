[
    {
        "content": "<p>I opened issue <a href=\"https://github.com/leanprover-community/mathlib4/pull/22997\">#22997</a> and am now copying the content here for discussion.</p>\n<h3>Non-zero-divisors</h3>\n<p>We currently have the following defeqs:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span><span class=\"bp\">.</span><span class=\"n\">Algebra</span><span class=\"bp\">.</span><span class=\"n\">GroupWithZero</span><span class=\"bp\">.</span><span class=\"n\">NonZeroDivisors</span>\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">MonoidWithZero</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"o\">]</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">nonZeroDivisorsLeft</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">nonZeroDivisors</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">nonZeroDivisorsRight</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"n\">nonZeroSMulDivisors</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"n\">M</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"n\">rfl</span>\n</code></pre></div>\n<p>Notice also that <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/GroupWithZero/NonZeroDivisors.html#nonZeroDivisorsLeft\"><code>nonZeroDivisorsLeft</code></a> coincides with non-left zero divisors according to <a href=\"https://en.wikipedia.org/wiki/Zero_divisor\">Wikipedia</a>, while <code>nonZeroDivisorsRight</code> coincides with non-right zero divisors. My suggestions are:</p>\n<ul>\n<li>\n<p>Switch the names <code>nonZeroDivisorsLeft</code> and <code>nonZeroDivisorsRight</code> (possibly rename to <code>nonLeft/RightZeroDivisors</code>)</p>\n</li>\n<li>\n<p>Make <code>nonZeroDivisors</code> an abbreviation of <code>nonZeroDivisorsLeft</code></p>\n</li>\n<li>\n<p>(?) Define <code>nonZeroDivisorsLeft</code> using <code>nonZeroSMulDivisors</code></p>\n</li>\n</ul>\n<h3>Regular elements</h3>\n<ul>\n<li>\n<p>Define the submonoids <code>leftRegulars</code>, <code>rightRegulars</code> and <code>smulRegulars</code> in terms of <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Regular/Basic.html#IsLeftRegular\"><code>IsLeftRegular</code></a>, <code>IsRightRegular</code> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Regular/SMul.html#IsSMulRegular\"><code>IsSMulRegular</code></a> (and additivize)</p>\n</li>\n<li>\n<p>Show that they agree with <code>non(SMul)ZeroDivisorsLeft/Right</code> in a ring (<code>â‰¤</code>holds in general)</p>\n</li>\n<li>\n<p>Redefine <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Group/Defs.html#IsLeftCancelMul\"><code>Is(Left,Right)CancelMul</code></a> and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Order/AddTorsor.html#IsCancelSMul\"><code>IsCancelSMul</code></a> in terms of <code>Is(Left,Right)Regular</code> and <code>IsSMulRegular</code></p>\n</li>\n</ul>\n<h3>Localization (of commutative monoids/semirings)</h3>\n<ul>\n<li>Replace <code>nonZeroDivisors</code> by <code>regulars</code> in localization API, especially in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Localization/FractionRing.html#IsFractionRing\">IsFractionRing</a>, <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Localization/FractionRing.html#FractionRing\">FractionRing</a>, and <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/LinearAlgebra/Dimension/Localization.html#IsLocalizedModule.rank_eq\">IsLocalizedModule.rank_eq</a>: <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/RingTheory/Localization/Defs.html#IsLocalization.injective\">IsLocalization.injective</a> continue to hold, and it's also true that the localization map <code>f</code> in <a href=\"https://leanprover-community.github.io/mathlib4_docs/Mathlib/Algebra/Module/LocalizedModule/Basic.html#IsLocalizedModule\">IsLocalizedModule</a> is injective iff the submonoid S is contained in <code>smulRegulars R M</code>.</li>\n</ul>",
        "id": 506033811,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1742183320
    },
    {
        "content": "<p>I often find the <code>left</code>/<code>right</code> naming conventions confusing.</p>",
        "id": 506076045,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1742200104
    },
    {
        "content": "<p>In this case, my initial instinct would be to define a \"left zero-divisor\" with the same convention that your Wikipedia link uses: <code>a</code> is a lzd if there is some non-zero <code>x</code> such that <code>ax = 0</code>.</p>",
        "id": 506076051,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1742200107
    },
    {
        "content": "<p>So, assuming I did not get confused again about left and right, I am happy with your proposed changes!</p>",
        "id": 506076099,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1742200119
    }
]