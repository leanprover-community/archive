[
    {
        "content": "<p>I have the following universe error at L129:</p>\n<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"n\">invalid</span> <span class=\"n\">occurrence</span> <span class=\"n\">of</span> <span class=\"kd\">universe</span> <span class=\"n\">level</span> <span class=\"bp\">'</span><span class=\"n\">u_4'</span> <span class=\"n\">at</span> <span class=\"bp\">'</span><span class=\"n\">ConvexOn.exists_ge_of_mem_convexHull'</span><span class=\"o\">,</span> <span class=\"n\">it</span> <span class=\"n\">does</span> <span class=\"n\">not</span> <span class=\"n\">occur</span> <span class=\"n\">at</span> <span class=\"n\">the</span> <span class=\"n\">declaration</span> <span class=\"n\">type</span><span class=\"o\">,</span> <span class=\"n\">nor</span> <span class=\"n\">it</span> <span class=\"n\">is</span> <span class=\"n\">explicit</span> <span class=\"kd\">universe</span> <span class=\"n\">level</span> <span class=\"n\">provided</span> <span class=\"kd\">by</span> <span class=\"n\">the</span> <span class=\"n\">user</span><span class=\"o\">,</span> <span class=\"n\">occurring</span> <span class=\"n\">at</span> <span class=\"n\">expression</span>\n  <span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"n\">u_4</span> <span class=\"bp\">+</span> <span class=\"mi\">2</span><span class=\"o\">}</span>\n    <span class=\"o\">(</span><span class=\"n\">Eq.mp.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">}</span>\n      <span class=\"o\">(</span><span class=\"n\">Eq.ndrec.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">u_2</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">Eq.refl.</span><span class=\"o\">{</span><span class=\"mi\">1</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">Membership.mem.</span><span class=\"o\">{</span><span class=\"n\">u_2</span><span class=\"o\">,</span> <span class=\"n\">u_2</span><span class=\"o\">}</span> <span class=\"n\">x</span> <span class=\"o\">(</span><span class=\"bp\">â†‘</span><span class=\"o\">(</span><span class=\"n\">convexHull.</span><span class=\"o\">{</span><span class=\"n\">u_1</span><span class=\"o\">,</span> <span class=\"n\">u_2</span><span class=\"o\">}</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toOrderHom</span> <span class=\"n\">s</span><span class=\"o\">)))</span>\n        <span class=\"o\">(</span><span class=\"n\">_root_.convexHull_eq.</span><span class=\"o\">{</span><span class=\"n\">u_1</span><span class=\"o\">,</span> <span class=\"n\">u_2</span><span class=\"o\">,</span> <span class=\"n\">u_4</span><span class=\"o\">}</span> <span class=\"n\">s</span><span class=\"o\">))</span>\n      <span class=\"n\">hx</span><span class=\"o\">)</span>\n    <span class=\"k\">fun</span> <span class=\"n\">Î±</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span>\n    <span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"n\">u_4</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">}</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"n\">t</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span>\n      <span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"n\">max</span> <span class=\"o\">(</span><span class=\"n\">u_4</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">u_1</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)}</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"n\">w</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span>\n        <span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"n\">max</span> <span class=\"o\">(</span><span class=\"n\">u_4</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">u_2</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">)}</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"n\">p</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span>\n          <span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">}</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"n\">hwâ‚€</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span>\n            <span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">}</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"n\">hwâ‚</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span>\n              <span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">}</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"n\">hp</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span>\n                <span class=\"n\">Eq.ndrec.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">u_2</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">}</span>\n                  <span class=\"o\">(</span><span class=\"n\">Exists.casesOn.</span><span class=\"o\">{</span><span class=\"n\">u_4</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">}</span>\n                    <span class=\"o\">(</span><span class=\"n\">exists_ge_of_centerMass.</span><span class=\"o\">{</span><span class=\"n\">u_4</span><span class=\"o\">,</span> <span class=\"n\">u_3</span><span class=\"o\">,</span> <span class=\"n\">u_2</span><span class=\"o\">,</span> <span class=\"n\">u_1</span><span class=\"o\">}</span> <span class=\"n\">hf</span> <span class=\"n\">hwâ‚€</span>\n                      <span class=\"o\">(</span><span class=\"n\">Eq.rec.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">,</span> <span class=\"n\">u_1</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">}</span> <span class=\"n\">zero_lt_one.</span><span class=\"o\">{</span><span class=\"n\">u_1</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">Eq.symm.</span><span class=\"o\">{</span><span class=\"n\">u_1</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">}</span> <span class=\"n\">hwâ‚</span><span class=\"o\">))</span> <span class=\"k\">fun</span> <span class=\"n\">i</span> <span class=\"n\">hi</span> <span class=\"bp\">=&gt;</span>\n                      <span class=\"n\">subset_convexHull.</span><span class=\"o\">{</span><span class=\"n\">u_1</span><span class=\"o\">,</span> <span class=\"n\">u_2</span><span class=\"o\">}</span> <span class=\"bp\">ğ•œ</span> <span class=\"n\">s</span> <span class=\"o\">(</span><span class=\"n\">hp</span> <span class=\"n\">i</span> <span class=\"n\">hi</span><span class=\"o\">))</span>\n                    <span class=\"k\">fun</span> <span class=\"n\">i</span> <span class=\"n\">h</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">And.casesOn.</span><span class=\"o\">{</span><span class=\"mi\">0</span><span class=\"o\">}</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"n\">hit</span> <span class=\"n\">Hi</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">Exists.intro.</span><span class=\"o\">{</span><span class=\"n\">u_2</span> <span class=\"bp\">+</span> <span class=\"mi\">1</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">And.intro</span> <span class=\"o\">(</span><span class=\"n\">hp</span> <span class=\"n\">i</span> <span class=\"n\">hit</span><span class=\"o\">)</span> <span class=\"n\">Hi</span><span class=\"o\">))</span>\n                  <span class=\"n\">h</span>\n<span class=\"n\">at</span> <span class=\"n\">declaration</span> <span class=\"n\">body</span>\n  <span class=\"k\">fun</span> <span class=\"o\">{</span><span class=\"bp\">ğ•œ</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_1</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">E</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_2</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">Î²</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_3</span><span class=\"o\">}</span> <span class=\"o\">[</span><span class=\"n\">LinearOrderedField</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">AddCommGroup</span> <span class=\"n\">E</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">LinearOrderedAddCommGroup</span> <span class=\"n\">Î²</span><span class=\"o\">]</span>\n      <span class=\"o\">[</span><span class=\"n\">Module</span> <span class=\"bp\">ğ•œ</span> <span class=\"n\">E</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">Module</span> <span class=\"bp\">ğ•œ</span> <span class=\"n\">Î²</span><span class=\"o\">]</span> <span class=\"o\">[</span><span class=\"n\">OrderedSMul</span> <span class=\"bp\">ğ•œ</span> <span class=\"n\">Î²</span><span class=\"o\">]</span> <span class=\"o\">{</span><span class=\"n\">s</span> <span class=\"o\">:</span> <span class=\"n\">Set</span> <span class=\"n\">E</span><span class=\"o\">}</span> <span class=\"o\">{</span><span class=\"n\">f</span> <span class=\"o\">:</span> <span class=\"n\">E</span> <span class=\"bp\">â†’</span> <span class=\"n\">Î²</span><span class=\"o\">}</span>\n      <span class=\"o\">(</span><span class=\"n\">hf</span> <span class=\"o\">:</span> <span class=\"n\">ConvexOn</span> <span class=\"bp\">ğ•œ</span> <span class=\"o\">(</span><span class=\"bp\">â†‘</span><span class=\"o\">(</span><span class=\"n\">convexHull</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toOrderHom</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"n\">f</span><span class=\"o\">)</span> <span class=\"o\">{</span><span class=\"n\">x</span> <span class=\"o\">:</span> <span class=\"n\">E</span><span class=\"o\">}</span> <span class=\"o\">(</span><span class=\"n\">hx</span> <span class=\"o\">:</span> <span class=\"n\">x</span> <span class=\"bp\">âˆˆ</span> <span class=\"bp\">â†‘</span><span class=\"o\">(</span><span class=\"n\">convexHull</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toOrderHom</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n    <span class=\"n\">Exists.casesOn</span> <span class=\"o\">(</span><span class=\"n\">Eq.mp</span> <span class=\"o\">(</span><span class=\"n\">_root_.convexHull_eq</span> <span class=\"n\">s</span> <span class=\"bp\">â–¸</span> <span class=\"n\">Eq.refl</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"bp\">âˆˆ</span> <span class=\"bp\">â†‘</span><span class=\"o\">(</span><span class=\"n\">convexHull</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">)</span><span class=\"bp\">.</span><span class=\"n\">toOrderHom</span> <span class=\"n\">s</span><span class=\"o\">))</span> <span class=\"n\">hx</span><span class=\"o\">)</span>\n      <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">Î±</span> <span class=\"o\">:</span> <span class=\"kt\">Type</span> <span class=\"n\">u_4</span><span class=\"o\">)</span>\n        <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span>\n          <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">Finset</span> <span class=\"n\">Î±</span><span class=\"o\">),</span>\n            <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">w</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">),</span>\n              <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">z</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"n\">E</span><span class=\"o\">),</span>\n                <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_1</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"mi\">0</span> <span class=\"bp\">â‰¤</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">),</span>\n                  <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_2</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Finset.sum</span> <span class=\"n\">t</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">),</span>\n                    <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_3</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"n\">z</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"n\">w</span> <span class=\"n\">z</span> <span class=\"bp\">=</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n      <span class=\"n\">Exists.casesOn</span> <span class=\"n\">h</span>\n        <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">t</span> <span class=\"o\">:</span> <span class=\"n\">Finset</span> <span class=\"n\">Î±</span><span class=\"o\">)</span>\n          <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span>\n            <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">w</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">),</span>\n              <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">z</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"n\">E</span><span class=\"o\">),</span>\n                <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_1</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"mi\">0</span> <span class=\"bp\">â‰¤</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">),</span>\n                  <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_2</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Finset.sum</span> <span class=\"n\">t</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">),</span>\n                    <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_3</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"n\">z</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"n\">w</span> <span class=\"n\">z</span> <span class=\"bp\">=</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n        <span class=\"n\">Exists.casesOn</span> <span class=\"n\">h</span>\n          <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">w</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"bp\">ğ•œ</span><span class=\"o\">)</span>\n            <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span>\n              <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">z</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"n\">E</span><span class=\"o\">),</span>\n                <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_1</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"mi\">0</span> <span class=\"bp\">â‰¤</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">),</span>\n                  <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_2</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Finset.sum</span> <span class=\"n\">t</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">),</span>\n                    <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_3</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"n\">z</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"n\">w</span> <span class=\"n\">z</span> <span class=\"bp\">=</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n          <span class=\"n\">Exists.casesOn</span> <span class=\"n\">h</span>\n            <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span> <span class=\"bp\">â†’</span> <span class=\"n\">E</span><span class=\"o\">)</span>\n              <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span>\n                <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_1</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"mi\">0</span> <span class=\"bp\">â‰¤</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">),</span>\n                  <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_2</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Finset.sum</span> <span class=\"n\">t</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">),</span>\n                    <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_3</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"n\">p</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"n\">w</span> <span class=\"n\">p</span> <span class=\"bp\">=</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n            <span class=\"n\">Exists.casesOn</span> <span class=\"n\">h</span>\n              <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">hwâ‚€</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"mi\">0</span> <span class=\"bp\">â‰¤</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span>\n                <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span>\n                  <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_1</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Finset.sum</span> <span class=\"n\">t</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">),</span>\n                    <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_2</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"n\">p</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"n\">w</span> <span class=\"n\">p</span> <span class=\"bp\">=</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n              <span class=\"n\">Exists.casesOn</span> <span class=\"n\">h</span>\n                <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">hwâ‚</span> <span class=\"o\">:</span> <span class=\"o\">(</span><span class=\"n\">Finset.sum</span> <span class=\"n\">t</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">=</span> <span class=\"mi\">1</span><span class=\"o\">)</span>\n                  <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"bp\">âˆƒ</span> <span class=\"o\">(</span><span class=\"n\">x_1</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"n\">p</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">s</span><span class=\"o\">),</span> <span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"n\">w</span> <span class=\"n\">p</span> <span class=\"bp\">=</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n                <span class=\"n\">Exists.casesOn</span> <span class=\"n\">h</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">hp</span> <span class=\"o\">:</span> <span class=\"bp\">âˆ€</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">),</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">â†’</span> <span class=\"n\">p</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">s</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"n\">w</span> <span class=\"n\">p</span> <span class=\"bp\">=</span> <span class=\"n\">x</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n                  <span class=\"n\">h</span> <span class=\"bp\">â–¸</span>\n                    <span class=\"n\">Exists.casesOn</span>\n                      <span class=\"o\">(</span><span class=\"n\">exists_ge_of_centerMass</span> <span class=\"n\">hf</span> <span class=\"n\">hwâ‚€</span> <span class=\"o\">(</span><span class=\"n\">Eq.symm</span> <span class=\"n\">hwâ‚</span> <span class=\"bp\">â–¸</span> <span class=\"n\">zero_lt_one</span><span class=\"o\">)</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">hi</span> <span class=\"o\">:</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span>\n                        <span class=\"n\">subset_convexHull</span> <span class=\"bp\">ğ•œ</span> <span class=\"n\">s</span> <span class=\"o\">(</span><span class=\"n\">hp</span> <span class=\"n\">i</span> <span class=\"n\">hi</span><span class=\"o\">))</span>\n                      <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">h</span> <span class=\"o\">:</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span> <span class=\"bp\">âˆ§</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">p</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">â‰¤</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"n\">i</span><span class=\"o\">))</span> <span class=\"bp\">=&gt;</span>\n                      <span class=\"n\">And.casesOn</span> <span class=\"n\">h</span>\n                        <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">hit</span> <span class=\"o\">:</span> <span class=\"n\">i</span> <span class=\"bp\">âˆˆ</span> <span class=\"n\">t</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">Hi</span> <span class=\"o\">:</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">centerMass</span> <span class=\"n\">t</span> <span class=\"o\">(</span><span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">w</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"k\">fun</span> <span class=\"o\">(</span><span class=\"n\">i</span> <span class=\"o\">:</span> <span class=\"n\">Î±</span><span class=\"o\">)</span> <span class=\"bp\">=&gt;</span> <span class=\"n\">p</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"bp\">â‰¤</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"n\">i</span><span class=\"o\">))</span> <span class=\"bp\">=&gt;</span>\n                        <span class=\"n\">Exists.intro</span> <span class=\"o\">(</span><span class=\"n\">p</span> <span class=\"n\">i</span><span class=\"o\">)</span> <span class=\"o\">{</span> <span class=\"n\">left</span> <span class=\"o\">:=</span> <span class=\"n\">hp</span> <span class=\"n\">i</span> <span class=\"n\">hit</span><span class=\"o\">,</span> <span class=\"n\">right</span> <span class=\"o\">:=</span> <span class=\"n\">Hi</span> <span class=\"o\">}</span>\n</code></pre></div>\n<p>How do I fix it?</p>",
        "id": 352267366,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1682341276
    },
    {
        "content": "<p>The file doesn't have any explicit universe declarations at all, which to me feels weird</p>",
        "id": 352267570,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1682341322
    },
    {
        "content": "<p>for <code>convexHull_eq</code> you have to give an explicit universe level for the type in the existential quantifier, see my fix for <code>Analysis.Convex.Combination</code></p>",
        "id": 352270003,
        "sender_full_name": "Moritz Doll",
        "timestamp": 1682341819
    },
    {
        "content": "<p>Right, that worked</p>",
        "id": 352275885,
        "sender_full_name": "Jeremy Tan",
        "timestamp": 1682342973
    }
]