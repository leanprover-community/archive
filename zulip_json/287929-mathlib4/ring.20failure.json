[
    {
        "content": "<p>The whole file <a href=\"https://github.com/leanprover-community/mathlib/blob/master/src/algebra/group_power/identities.lean\">https://github.com/leanprover-community/mathlib/blob/master/src/algebra/group_power/identities.lean</a> is beyond the reach of our current mathlib4 ring tactic.</p>",
        "id": 304757160,
        "sender_full_name": "Patrick Massot",
        "timestamp": 1666107060
    },
    {
        "content": "<p>see <a href=\"#narrow/stream/287929-mathlib4/topic/status.20of.20.60ring.60/near/303965507\">https://leanprover.zulipchat.com/#narrow/stream/287929-mathlib4/topic/status.20of.20.60ring.60/near/303965507</a></p>",
        "id": 304790113,
        "sender_full_name": "Alex J. Best",
        "timestamp": 1666110679
    },
    {
        "content": "<p>Here is an example of <code>ring</code> failing on a simple goal which should be within its reach. This is a real example from APAP:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"mi\">32</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>",
        "id": 483506812,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1732115390
    },
    {
        "content": "<p>(whoops, that thread already existed <span aria-label=\"graveyard\" class=\"emoji emoji-1faa6\" role=\"img\" title=\"graveyard\">:graveyard:</span>)</p>",
        "id": 483507513,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1732115525
    },
    {
        "content": "<p>This doesn't look in scope for <code>ring</code> to me</p>",
        "id": 483508373,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1732115704
    },
    {
        "content": "<p>Here's a perhaps more minimal example:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span>\n<span class=\"w\">  </span><span class=\"n\">ring_nf</span>\n</code></pre></div>",
        "id": 483509082,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1732115855
    },
    {
        "content": "<p>There is <code>rpow_ring</code> in PFR that is extremely helpful in this kind of situation...</p>",
        "id": 483509302,
        "sender_full_name": "Sébastien Gouëzel",
        "timestamp": 1732115906
    },
    {
        "content": "<p>Here is an even more minimal example that shows that it should be in scope for <code>ring</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">example</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℕ</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">ℝ</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"bp\">=</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"bp\">*</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"o\">)</span><span class=\"w\"> </span><span class=\"bp\">^</span><span class=\"w\"> </span><span class=\"n\">m</span><span class=\"w\"> </span><span class=\"o\">:=</span><span class=\"w\"> </span><span class=\"k\">by</span><span class=\"w\"> </span><span class=\"n\">ring</span>\n</code></pre></div>",
        "id": 483512027,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1732116627
    },
    {
        "content": "<p>The issue is that <code>ring</code> simplifies numerals under a single power, but doesn't combine numerals outside different powers</p>",
        "id": 483512701,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1732116809
    },
    {
        "content": "<p>If it didn't do the former or did do the latter, then my example would work</p>",
        "id": 483512778,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1732116835
    }
]