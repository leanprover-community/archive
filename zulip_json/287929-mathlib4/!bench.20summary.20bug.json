[
    {
        "content": "<p>I wrote the script to summarise the <code>!bench</code> output: I'll fix the issue, but won't get to it until much later today or, more likely, tomorrow.</p>",
        "id": 481060406,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730965102
    },
    {
        "content": "<p>It should be relatively straightforward, though, since if I remember correctly, all the formatting is done separately.</p>",
        "id": 481060446,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730965134
    },
    {
        "content": "<p>E.g., it should be just changing </p>\n<p><a href=\"https://github.com/leanprover-community/mathlib4/blob/master/scripts%2Fbench_summary.lean#L52\">https://github.com/leanprover-community/mathlib4/blob/master/scripts%2Fbench_summary.lean#L52</a></p>",
        "id": 481060630,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730965223
    },
    {
        "content": "<p>Are all percentages wrong by a factor of 10, or just the build ones?</p>",
        "id": 481070692,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730969497
    },
    {
        "content": "<p>If you import <code>Mathlib.Data.String.Defs</code> than you can add <code>let decDigs := (toString decDigs).leftpad (c := '0') 2</code>. However, this doesn't round to two digits, it floors instead. I think this kind of string formatting should be in batteries/core, not handled in this script</p>",
        "id": 481108363,
        "sender_full_name": "Daniel Weber",
        "timestamp": 1730982254
    },
    {
        "content": "<p>(deleted)</p>",
        "id": 481113809,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1730984070
    },
    {
        "content": "<p>I think that I identified the bug.  The code discarded a \"leading 0\": it correctly computed the percentage to be <code>0.</code> followed by <code>8</code> but printed <code>8</code> as a single digit number, instead of padding with <code>0</code> so that it was a 2-digit number that represented <code>8</code>!</p>",
        "id": 481161492,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730998400
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/18732\">#18732</a></p>",
        "id": 481161524,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730998410
    },
    {
        "content": "<p>I also made the script a little more verbose, reporting command-line analogues of the commands that the lean script executes, since this might be useful for debugging and added some comments.  Also, I took care of deprecations.</p>",
        "id": 481161540,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730998416
    },
    {
        "content": "<p>Let me know if you prefer to have a PR with just the fix and then a second one with these extra improvements.</p>",
        "id": 481161544,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1730998418
    },
    {
        "content": "<p><a href=\"#narrow/channel/287929-mathlib4/topic/.21bench.20summary.20bug/near/481060406\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"287929\" href=\"/#narrow/channel/287929-mathlib4/topic/typeclass.20inference.20in.20linarith\">#mathlib4 &gt; typeclass inference in linarith</a> by <span class=\"user-mention silent\" data-user-id=\"260507\">Heather Macbeth</span>.</p>",
        "id": 481577360,
        "sender_full_name": "Notification Bot",
        "timestamp": 1731256772
    },
    {
        "content": "<p>I've stopped seeing summaries in <a href=\"https://github.com/leanprover-community/mathlib4/pull/19711#issuecomment-2515666841\">recent</a> !bench <a href=\"https://github.com/leanprover-community/mathlib4/pull/18419#issuecomment-2515181903\">calls</a>.<br>\nDid the bot owner run out of quota or something?</p>",
        "id": 485980604,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1733271100
    },
    {
        "content": "<p>I also noticed that, but did not get a chance to investigate.</p>",
        "id": 486104367,
        "sender_full_name": "Damiano Testa",
        "timestamp": 1733322261
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/19734#issuecomment-2519750519\">Apparently the bot stopped even reacting to <code>!bench</code> now</a>.</p>",
        "id": 486267638,
        "sender_full_name": "Junyan Xu",
        "timestamp": 1733393396
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/19733\">#19733</a> was another instance.</p>",
        "id": 486270772,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1733394335
    },
    {
        "content": "<p>Benchmarking of merged PRs seems also missing.<br>\n<span class=\"user-mention\" data-user-id=\"110024\">@Sebastian Ullrich</span> Is there anything suspicious going on with the benchmarking runner?</p>",
        "id": 486270842,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1733394357
    },
    {
        "content": "<p>I hit the server process with a wrench and restarted it. I also put a little robot next to it that hits it with the same wrench every 24 hours from now on.</p>",
        "id": 486273041,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1733394985
    },
    {
        "content": "<p>Reminds me of <a href=\"https://xkcd.com/538/\">https://xkcd.com/538/</a> - hopefully not <em>that</em> kind of wrench :-)</p>",
        "id": 486302187,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1733404375
    }
]