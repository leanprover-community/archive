[
    {
        "content": "<p>At the top of this mathlib file I get headings (stuff starting with <code>#</code>) in comments in blue</p>\n<p><a href=\"/user_uploads/3121/XxHqcoNI2UrH3YDNQS36rLdV/Screenshot-from-2023-07-20-09-08-44.png\">Screenshot-from-2023-07-20-09-08-44.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/XxHqcoNI2UrH3YDNQS36rLdV/Screenshot-from-2023-07-20-09-08-44.png\" title=\"Screenshot-from-2023-07-20-09-08-44.png\"><img src=\"/user_uploads/3121/XxHqcoNI2UrH3YDNQS36rLdV/Screenshot-from-2023-07-20-09-08-44.png\"></a></div><p>but later on down the file this stops working and everything is in green, even lines starting with <code>##</code>. </p>\n<p><a href=\"/user_uploads/3121/IsiCKL-SVuTLW9gxCCdi3uKu/Screenshot-from-2023-07-20-09-09-17.png\">Screenshot-from-2023-07-20-09-09-17.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/IsiCKL-SVuTLW9gxCCdi3uKu/Screenshot-from-2023-07-20-09-09-17.png\" title=\"Screenshot-from-2023-07-20-09-09-17.png\"><img src=\"/user_uploads/3121/IsiCKL-SVuTLW9gxCCdi3uKu/Screenshot-from-2023-07-20-09-09-17.png\"></a></div><p>Is it like that for everyone?</p>",
        "id": 376882276,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1689840593
    },
    {
        "content": "<p>Same for me</p>",
        "id": 376882934,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1689840734
    },
    {
        "content": "<p>It seems if you unindent the code block immediately above <code>## Subobjects</code> then that heading is blue again.</p>",
        "id": 376883114,
        "sender_full_name": "Scott Morrison",
        "timestamp": 1689840772
    },
    {
        "content": "<p>That looks worse in the html though</p>",
        "id": 376884021,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1689840959
    },
    {
        "content": "<p>So probably we should fix the highlighter</p>",
        "id": 376884147,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1689840977
    },
    {
        "content": "<p>It looks like the nested comment in the code block is the source of the issue</p>",
        "id": 376884225,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1689841001
    },
    {
        "content": "<div class=\"codehilite\" data-code-language=\"Lean\"><pre><span></span><code><span class=\"c1\">-- colours refer to VS Code</span>\n\n<span class=\"c\">/-</span><span class=\"cm\">!</span>\n<span class=\"cm\"># I am in blue!</span>\n\n<span class=\"cm\">* a bullet point</span>\n<span class=\"cm\">  ```</span>\n<span class=\"cm\">  /- a comment in indented quoted code -/</span>\n<span class=\"cm\">  ```</span>\n\n<span class=\"cm\"># I am now in green!</span>\n<span class=\"cm\">-/</span>\n</code></pre></div>",
        "id": 376884303,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1689841020
    },
    {
        "content": "<p>presumably a regex found the end of the comment</p>",
        "id": 376884496,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1689841066
    },
    {
        "content": "<p>Does using <code> ```lean </code> instead of <code> ``` </code> to open the code blocks make any difference?</p>",
        "id": 376884533,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1689841075
    },
    {
        "content": "<p>no</p>",
        "id": 376884635,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1689841088
    }
]