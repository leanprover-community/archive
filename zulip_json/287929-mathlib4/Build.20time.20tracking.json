[
    {
        "content": "<p>Should we add a relatively small collection of metrics from the speed center to the list? This would help us catch Mathlib-wide changes with significant negative impact I think.</p>",
        "id": 510664331,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1744031101
    },
    {
        "content": "<p>The main ones are <code>simp</code>, type class search (and the whole build of course)</p>",
        "id": 510664962,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1744031237
    },
    {
        "content": "<p>I have also been thinking about other ways to integrate the speed center with Zulip. I'm a bit worried that a weekly report will be hard to act upon since it doesn't really show the cause. If Mathlib is slower to compile because there is more available in Mathlib, then there is nothing to worry about. And in the course of a week we have a lot of additions...</p>",
        "id": 510666919,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744031678
    },
    {
        "content": "<p>The direction I was thinking is a bot in the #rss stream posting every significant difference, <a href=\"https://speed.lean-lang.org/mathlib4/home\">like on the speedcenter homepage</a>. Either as a separate thread in that stream, or editing the benchmark results into the mathlib4 commit message. (Not sure which one would be better: the first one should be easier to implement and ensures we don't miss anything, the second one would be easier to follow along the whole history with.)</p>",
        "id": 510667305,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744031771
    },
    {
        "content": "<p>Speaking of the speedcenter: are there relatively easy way a user can obtain similar data from a local setup? I’d love to be able to benchmark some of my stuff locally.</p>",
        "id": 510668486,
        "sender_full_name": "Robin Carlier",
        "timestamp": 1744032034
    },
    {
        "content": "<p>I like the idea of using the #rss stream.</p>",
        "id": 510679337,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744034276
    },
    {
        "content": "<p>I like the idea of posting every significant difference. However, note that the speedcenter homepage there are a lot of false positives.</p>\n<p><a href=\"/user_uploads/3121/0is-SY-ZIhjoeiA1ZqTcPAoF/afbeelding.png\">afbeelding.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/0is-SY-ZIhjoeiA1ZqTcPAoF/afbeelding.png\" title=\"afbeelding.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"957x1339\" src=\"/user_uploads/thumbnail/3121/0is-SY-ZIhjoeiA1ZqTcPAoF/afbeelding.png/840x560.webp\"></a></div>",
        "id": 510682555,
        "sender_full_name": "Jovan Gerbscheid",
        "timestamp": 1744034934
    },
    {
        "content": "<p>True! I expect we'll decide not to act upon most of the messages. And I recall we can set a significance threshold for all of the reported stats in the speedcenter itself so that both the homepage and the Zulip thread get cleaned up for the price of one :)</p>",
        "id": 510690062,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744036510
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Technical.20Debt.20Counters/near/510666919\">said</a>:</p>\n<blockquote>\n<p>I have also been thinking about other ways to integrate the speed center with Zulip. I'm a bit worried that a weekly report will be hard to act upon since it doesn't really show the cause. If Mathlib is slower to compile because there is more available in Mathlib, then there is nothing to worry about. And in the course of a week we have a lot of additions...</p>\n</blockquote>\n<p>I suppose that one naive way to think about this could be the compile time to lines of code ratio <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span></p>",
        "id": 510900248,
        "sender_full_name": "Maja Kądziołka",
        "timestamp": 1744109902
    },
    {
        "content": "<p>Some years and Lean versions ago I ran a regression on this and I recall the best fit was that compile time is cubic in lines of code.</p>",
        "id": 510900412,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744109971
    },
    {
        "content": "<p>(More precisely, compile time in seconds for the whole library is cubic in <code>cloc</code> output.)</p>",
        "id": 510900552,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744110006
    },
    {
        "content": "<p><a href=\"\">Found it!</a></p>\n<blockquote>\n<p>Here are some graphs I made a while ago:</p>\n<p><a href=\"/user_uploads/3121/QlakvIebf5wgxTl80xeowGVE/afbeelding.png\">cloc_vs_time.png</a></p>\n<p><a href=\"/user_uploads/3121/JCOS-UfKJB3bdoOxTRoMbJdP/afbeelding.png\">lines_per_second.png</a></p>\n<p><a href=\"/user_uploads/3121/RzbF9Ux3akyJuZzoQpNXyu-W/afbeelding.png\">Fit.png</a></p>\n<p>I took the part of the graph before 13th of June, to skip the big jump. According to LibreOffice, the growth is roughly cubical up to then, x^2.934 to be precise, with R² ≥ 0.98.</p>\n<p>If I take all the data, the growth is x^2.31 with R² ≥ 0.95.</p>\n</blockquote>",
        "id": 510901189,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744110209
    },
    {
        "content": "<p>So yeah, it's data from 2021. I would not trust these numbers at all nowadays, and the big recent changes to parallelism means there's not going to be a lot of recent data to run the regression on either.</p>",
        "id": 510901818,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744110387
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Technical.20Debt.20Counters/near/510900412\">said</a>:</p>\n<blockquote>\n<p>Some years and Lean versions ago I ran a regression on this and I recall the best fit was that compile time is cubic in lines of code.</p>\n</blockquote>\n<p>that's... troubling. not a good trend to see, IMHO</p>",
        "id": 510902265,
        "sender_full_name": "Maja Kądziołka",
        "timestamp": 1744110515
    },
    {
        "content": "<p>(Shall we move the build time discussion so Damiano's <code>maxHeartbeats</code> work doesn't get buried?)</p>",
        "id": 510903000,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744110733
    },
    {
        "content": "<p>Here's a fit to the data of last March, showing a much more linear growth: <a href=\"/user_uploads/3121/tyNdRo35kVPBDM8sCTdDioQR/afbeelding.png\">2025-03.png</a>  (Trying a power law or similar didn't give any noticeably better R² values.)</p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/tyNdRo35kVPBDM8sCTdDioQR/afbeelding.png\" title=\"2025-03.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"2230x1414\" src=\"/user_uploads/thumbnail/3121/tyNdRo35kVPBDM8sCTdDioQR/afbeelding.png/840x560.webp\"></a></div>",
        "id": 510928647,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744117801
    },
    {
        "content": "<p>it's interesting how it looks like it <em>locally</em> has a much smaller slope...</p>",
        "id": 510929146,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744117917
    },
    {
        "content": "<p>jq code for parsing the speedcenter JSON output into a CSV: <code>jq '.commits[].values | map(floor) | @csv' -r speedcenter-march.json &gt; speedcenter-march.csv</code>. Loaded it into Apple Numbers and fiddled with it until I got a decent scatter plot.</p>",
        "id": 510934627,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744119033
    },
    {
        "content": "<p>And the API endpoint to get this JSON is <code>https://speed.lean-lang.org/mathlib4/api/graph/detail/e7b27246-a3e6-496a-b552-ff4b45c7236e?start_time=1740805200&amp;end_time=1744905600&amp;dimensions=size:.lean::build:instructions</code> (but getting the data is quite slow and timed out a few times for me...)</p>",
        "id": 510934645,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744119036
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/510929146\">said</a>:</p>\n<blockquote>\n<p>it's interesting how it looks like it <em>locally</em> has a much smaller slope...</p>\n</blockquote>\n<p>True! I'm not sure how best to deal with the fact that this is very much a piecewise function...</p>",
        "id": 510936725,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744119478
    },
    {
        "content": "<p>I now have a prototype benchmark analysis script. Example output:</p>\n<blockquote>\n<p><strong>refactor(Interval/Finset/Fin): use <code>Finset.attachFin</code> (<a href=\"https://github.com/leanprover-community/mathlib4/pull/23738\">#23738</a>)</strong><br>\n<code>e37082f608ffd1ef0cc7cfe5ba34eb7bec578ca5</code><br>\nAuthor: Yury G. Kudryashov &lt;<a href=\"mailto:urkud@urkud.name\">urkud@urkud.name</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/3b3dd7e1-1c9d-46d3-a5d9-f71773e338d8\">Significant benchmark differences</a>:</p>\n<p>~Mathlib.Data.Nat.Factorial.SuperFactorial --- instructions: -14.1 G (-55.4 %)</p>\n</blockquote>\n<p>It also works for the lean4 speedcenter, e.g.:</p>\n<blockquote>\n<p><strong>chore: panic on blocking waits in <code>sync</code> tasks (<a href=\"https://github.com/leanprover-community/mathlib4/pull/7853\">#7853</a>)</strong><br>\n<code>1b40c46ab1eeec1e1bdc1c8526067b9af8efb7ac</code><br>\nAuthor: Sebastian Ullrich &lt;<a href=\"mailto:sebasti@nullri.ch\">sebasti@nullri.ch</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/lean4/run-detail/231e7b2c-81c4-46fe-b3e6-486f4fd16396\">Significant benchmark differences</a>:</p>\n<p><a href=\"http://binarytrees.st\">binarytrees.st</a> --- task-clock: -0.188 s (-6.4 %)<br>\n<a href=\"http://binarytrees.st\">binarytrees.st</a> --- wall-clock: -0.189 s (-6.4 %)<br>\nlake env --- task-clock: -0.00854 s (-5.5 %)<br>\nlake env --- wall-clock: -0.0085 s (-5.45 %)<br>\nlake startup --- maxrss: 1.24 KKB (1.66 %)<br>\nliasolver --- maxrss: 1.73 KKB (2.32 %)<br>\nnat_repr --- maxrss: 1.75 KKB (2.35 %)<br>\nparser --- maxrss: 1.75 KKB (2.35 %)<br>\nqsort --- maxrss: 1.75 KKB (2.35 %)</p>\n</blockquote>",
        "id": 510969171,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744127279
    },
    {
        "content": "<p>Here's a fun bikeshedding question: how to indicate that a benchmark improved or worsened? Maybe an emoji like <span aria-label=\"green circle\" class=\"emoji emoji-1f7e2\" role=\"img\" title=\"green circle\">:green_circle:</span> / <span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span>?</p>",
        "id": 510970315,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744127573
    },
    {
        "content": "<p>I will also need to figure out how to link to the correct repo (mathlib4/lean4/???).</p>",
        "id": 510970446,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744127618
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/510970315\">said</a>:</p>\n<blockquote>\n<p>Here's a fun bikeshedding question: how to indicate that a benchmark improved or worsened? Maybe an emoji like <span aria-label=\"green circle\" class=\"emoji emoji-1f7e2\" role=\"img\" title=\"green circle\">:green_circle:</span> / <span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span>?</p>\n</blockquote>\n<p>Where is this being indicated?</p>",
        "id": 510970751,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744127716
    },
    {
        "content": "<p>I was thinking per-dimension, so e.g.:</p>\n<blockquote>\n<p><strong>chore: panic on blocking waits in <code>sync</code> tasks (<a href=\"https://github.com/leanprover-community/mathlib4/pull/7853\">#7853</a>)</strong><br>\n<code>1b40c46ab1eeec1e1bdc1c8526067b9af8efb7ac</code><br>\nAuthor: Sebastian Ullrich &lt;<a href=\"mailto:sebasti@nullri.ch\">sebasti@nullri.ch</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/lean4/run-detail/231e7b2c-81c4-46fe-b3e6-486f4fd16396\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"green circle\" class=\"emoji emoji-1f7e2\" role=\"img\" title=\"green circle\">:green_circle:</span> <a href=\"http://binarytrees.st\">binarytrees.st</a> --- task-clock: -0.188 s (-6.4 %)<br>\n<span aria-label=\"green circle\" class=\"emoji emoji-1f7e2\" role=\"img\" title=\"green circle\">:green_circle:</span> <a href=\"http://binarytrees.st\">binarytrees.st</a> --- wall-clock: -0.189 s (-6.4 %)<br>\n<span aria-label=\"green circle\" class=\"emoji emoji-1f7e2\" role=\"img\" title=\"green circle\">:green_circle:</span> lake env --- task-clock: -0.00854 s (-5.5 %)<br>\n<span aria-label=\"green circle\" class=\"emoji emoji-1f7e2\" role=\"img\" title=\"green circle\">:green_circle:</span> lake env --- wall-clock: -0.0085 s (-5.45 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> lake startup --- maxrss: 1.24 KKB (1.66 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> liasolver --- maxrss: 1.73 KKB (2.32 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> nat_repr --- maxrss: 1.75 KKB (2.35 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> parser --- maxrss: 1.75 KKB (2.35 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> qsort --- maxrss: 1.75 KKB (2.35 %)</p>\n</blockquote>",
        "id": 510970975,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744127773
    },
    {
        "content": "<p>I would suggest something like a red up triangle and blue down triangle if possible</p>",
        "id": 510971035,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744127793
    },
    {
        "content": "<p>The issue is that sometimes higher numbers are better.</p>",
        "id": 510971129,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744127821
    },
    {
        "content": "<p>So <span aria-label=\"upwards trend\" class=\"emoji emoji-1f4c8\" role=\"img\" title=\"upwards trend\">:upwards_trend:</span> and <span aria-label=\"downwards trend\" class=\"emoji emoji-1f4c9\" role=\"img\" title=\"downwards trend\">:downwards_trend:</span> wouldn't work either.</p>",
        "id": 510971188,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744127835
    },
    {
        "content": "<p>then a blue up triangle and red down triangle</p>",
        "id": 510971208,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744127840
    },
    {
        "content": "<p>I can't find any other triangles than red, but maybe:</p>\n<p><span aria-label=\"red triangle up\" class=\"emoji emoji-1f53a\" role=\"img\" title=\"red triangle up\">:red_triangle_up:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> and <span aria-label=\"red triangle down\" class=\"emoji emoji-1f53b\" role=\"img\" title=\"red triangle down\">:red_triangle_down:</span> / <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>?</p>",
        "id": 510971674,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744127973
    },
    {
        "content": "<p>Hmm, doesn't pair very well visually.</p>\n<p><span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> and <span aria-label=\"down button\" class=\"emoji emoji-1f53d\" role=\"img\" title=\"down button\">:down_button:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>?</p>",
        "id": 510971887,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744128013
    },
    {
        "content": "<p>With icons and PR/commit links:</p>\n<blockquote>\n<p><strong>feat: a finite crystallographic reduced irreducible root pairing containing two roots with Coxeter weight three is spanned by this pair (<a href=\"https://github.com/leanprover-community/mathlib4/pull/23634\">mathlib4#23634</a>)</strong><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/commit/fa4b09af1251c0b743ac5b3aba0aeea7f85ad9a2\"><code>fa4b09af1251c0b743ac5b3aba0aeea7f85ad9a2</code></a><br>\nAuthor: Oliver Nash &lt;<a href=\"mailto:github@olivernash.org\">github@olivernash.org</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/a59f9b46-2430-42d0-8a62-f46b5d68aa89\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> ~Mathlib.LinearAlgebra.RootSystem.Finite.Lemmas --- instructions: 34.8 G (18.3 %)</p>\n</blockquote>\n<blockquote>\n<p><strong>refactor(Interval/Finset/Fin): use <code>Finset.attachFin</code> (<a href=\"https://github.com/leanprover-community/mathlib4/pull/23738\">mathlib4#23738</a>)</strong><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/commit/e37082f608ffd1ef0cc7cfe5ba34eb7bec578ca5\"><code>e37082f608ffd1ef0cc7cfe5ba34eb7bec578ca5</code></a><br>\nAuthor: Yury G. Kudryashov &lt;<a href=\"mailto:urkud@urkud.name\">urkud@urkud.name</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/3b3dd7e1-1c9d-46d3-a5d9-f71773e338d8\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> ~Mathlib.Data.Nat.Factorial.SuperFactorial --- instructions: -14.1 G (-55.4 %)</p>\n</blockquote>",
        "id": 510974600,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744128742
    },
    {
        "content": "<p>Posting to Zulip also seems to work: see <a class=\"stream-topic\" data-stream-id=\"441057\" href=\"/#narrow/channel/441057-junk/topic/Benchmark.20results.20for.20mathlib4/with/510976764\">#junk &gt; Benchmark results for mathlib4</a></p>",
        "id": 510977848,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744129620
    },
    {
        "content": "<p>I'll leave it at this for right now to get some feedback, let me know what you think!</p>",
        "id": 510977966,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744129662
    },
    {
        "content": "<p>Code is available at <a href=\"https://github.com/Vierkantor/lean-infra/blob/velcom-bot/velcom-bot/velcom-bot.py\">https://github.com/Vierkantor/lean-infra/blob/velcom-bot/velcom-bot/velcom-bot.py</a></p>",
        "id": 510978503,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744129811
    },
    {
        "content": "<p>So <span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> <span aria-label=\"down button\" class=\"emoji emoji-1f53d\" role=\"img\" title=\"down button\">:down_button:</span> are \"bad\" and <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> are \"good\"?</p>",
        "id": 511069761,
        "sender_full_name": "Johan Commelin",
        "timestamp": 1744171458
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/510977848\">said</a>:</p>\n<blockquote>\n<p>Posting to Zulip also seems to work: see <a class=\"stream-topic\" data-stream-id=\"441057\" href=\"/#narrow/channel/441057-junk/topic/Benchmark.20results.20for.20mathlib4/with/510976764\">#junk &gt; Benchmark results for mathlib4</a></p>\n</blockquote>\n<p>this is a private stream, you should post it here instead</p>",
        "id": 511081262,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744177598
    },
    {
        "content": "<p><strong>feat: make TryThis work in widget messages (<a href=\"https://github.com/leanprover/lean4/pull/7610\">lean4#7610</a>)</strong><br>\n<a href=\"https://github.com/leanprover/lean4/commit/e6ce55ffd44e206cc5210f457694d8fef176945d\"><code>e6ce55ffd44e206cc5210f457694d8fef176945d</code></a><br>\nAuthor: Wojciech Nawrocki &lt;<a href=\"mailto:wjnawrocki@protonmail.com\">wjnawrocki@protonmail.com</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/lean4/run-detail/d14f0a3c-1aea-4646-bf81-4fd37a9eb807\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> bv_decide_large_aig.lean --- task-clock: -0.148 s (-3.16 %)<br>\n<span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> bv_decide_mod --- task-clock: 0.456 s (1.7 %)<br>\n<span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> bv_decide_mod --- wall-clock: 0.442 s (1.65 %)<br>\n<span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> ilean roundtrip --- compress: 0.0153  (1.08 %)<br>\n<span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> ilean roundtrip --- parse: -0.0267  (-4.26 %)<br>\n<span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> stdlib --- maxrss: -10.8 KKB (-1.19 %)<br>\n<span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> workspaceSymbols --- task-clock: 0.303 s (2.95 %)<br>\n<span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> workspaceSymbols --- wall-clock: 0.304 s (2.96 %)</p>",
        "id": 511097525,
        "sender_full_name": "Anne's test bot",
        "timestamp": 1744184117
    },
    {
        "content": "<p><strong>chore: split out small chunks from <code>MeasureTheory.Integral.Lebesgue.Basic</code> (<a href=\"https://github.com/leanprover-community/mathlib4/pull/23819\">mathlib4#23819</a>)</strong><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/commit/f07b6a302a773f2794fbde911eb5582aba2f6146\"><code>f07b6a302a773f2794fbde911eb5582aba2f6146</code></a><br>\nAuthor: Jeremy Tan Jie Rui &lt;<a href=\"mailto:reddeloostw@gmail.com\">reddeloostw@gmail.com</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/986e8cec-571f-48f3-b424-2d897c29bae7\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> ~Mathlib.MeasureTheory.Integral.Lebesgue.Basic --- instructions: -20.4 G (-18.2 %)</p>",
        "id": 511097542,
        "sender_full_name": "Anne's test bot",
        "timestamp": 1744184121
    },
    {
        "content": "<p><strong>feat: pre-composing by an essentially surjective functor doesn't change the essential image (<a href=\"https://github.com/leanprover-community/mathlib4/pull/23840\">mathlib4#23840</a>)</strong><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/commit/afe5ac93dbf8e74db404b12aa51ab7839a5d6dbd\"><code>afe5ac93dbf8e74db404b12aa51ab7839a5d6dbd</code></a><br>\nAuthor: Yaël Dillies &lt;<a href=\"mailto:yael.dillies@gmail.com\">yael.dillies@gmail.com</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/d1db1a41-04b6-4b8c-bb81-05663cf7d247\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"up button\" class=\"emoji emoji-1f53c\" role=\"img\" title=\"up button\">:up_button:</span> build --- fix level params: 2.19 s (7.54 %)</p>",
        "id": 511097543,
        "sender_full_name": "Anne's test bot",
        "timestamp": 1744184121
    },
    {
        "content": "<p>(In order to not spam the thread too much, I only moved over a few example messages.)</p>",
        "id": 511097872,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744184222
    },
    {
        "content": "<p>If some metrics are found to be too noisy (potentially everything but instruction counts), I can exclude them in the DB so that they are hidden from the speedcenter homepage as well</p>",
        "id": 511100868,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1744185147
    },
    {
        "content": "<p>For Mathlib I think <code>share common exprs</code>, <code>.olean serialization</code>, <code>fix level params</code> and <code>instantiate metavars</code> are the main sources of noise right now. They seem to commonly vary 5%-8% between commits. I would suggest a threshold of at least 10% (or completely silenced).</p>",
        "id": 511102813,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744185682
    },
    {
        "content": "<p>can we adaptively determine standard deviations and post when they are above the threshold?</p>",
        "id": 511107188,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744186852
    },
    {
        "content": "<p>There are a few metrics that report \"change/stddev\". Not sure how that works with the rest of the system though.</p>",
        "id": 511107616,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744186968
    },
    {
        "content": "<p>They are derived from multiple runs on the same commit but Mathlib itself is too expensive to run multiple times</p>",
        "id": 511108004,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1744187055
    },
    {
        "content": "<p>is it possible to use e.g. the past 3-5 commits instead?</p>",
        "id": 511108408,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744187157
    },
    {
        "content": "<p>Not without changing the code, which no-one is working on or even familiar with</p>",
        "id": 511108557,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1744187188
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/511102813\">said</a>:</p>\n<blockquote>\n<p>For Mathlib I think <code>share common exprs</code>, <code>.olean serialization</code>, <code>fix level params</code> and <code>instantiate metavars</code> are the main sources of noise right now. They seem to commonly vary 5%-8% between commits. I would suggest a threshold of at least 10% (or completely silenced).</p>\n</blockquote>\n<p>silenced</p>",
        "id": 511108614,
        "sender_full_name": "Sebastian Ullrich",
        "timestamp": 1744187205
    },
    {
        "content": "<p>Thanks!</p>",
        "id": 511109141,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744187344
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Build.20time.20tracking/near/510971674\">said</a>:</p>\n<blockquote>\n<p>I can't find any other triangles than red, but maybe:</p>\n</blockquote>\n<p>We could always add custom emojis</p>",
        "id": 511117642,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744189570
    },
    {
        "content": "<p>Minor change: now older runs should be processed earlier than newer ones, so they appear in the stream in the right order.</p>",
        "id": 511165634,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744203388
    },
    {
        "content": "<p>Slightly silly suggestions:<br>\n<a href=\"/user_uploads/3121/ogTaY4vJWNBmJ31Uu_V9aX6U/down-good.png\">down-good.png</a><br>\n<a href=\"/user_uploads/3121/0BzY6wCVCSS19b1mkMTkAl22/down-sad.png\">down-sad.png</a><br>\n<a href=\"/user_uploads/3121/DlLZs-OAdyawUYwW9yKZA4IO/up-good.png\">up-good.png</a><br>\n<a href=\"/user_uploads/3121/4aMUiz2T3c5CjdhpuS5Cx4Pg/up-sad.png\">up-sad.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/ogTaY4vJWNBmJ31Uu_V9aX6U/down-good.png\" title=\"down-good.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"64x64\" src=\"/user_uploads/thumbnail/3121/ogTaY4vJWNBmJ31Uu_V9aX6U/down-good.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/0BzY6wCVCSS19b1mkMTkAl22/down-sad.png\" title=\"down-sad.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"64x64\" src=\"/user_uploads/thumbnail/3121/0BzY6wCVCSS19b1mkMTkAl22/down-sad.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/DlLZs-OAdyawUYwW9yKZA4IO/up-good.png\" title=\"up-good.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"64x64\" src=\"/user_uploads/thumbnail/3121/DlLZs-OAdyawUYwW9yKZA4IO/up-good.png/840x560.webp\"></a></div><div class=\"message_inline_image\"><a href=\"/user_uploads/3121/4aMUiz2T3c5CjdhpuS5Cx4Pg/up-sad.png\" title=\"up-sad.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"64x64\" src=\"/user_uploads/thumbnail/3121/4aMUiz2T3c5CjdhpuS5Cx4Pg/up-sad.png/840x560.webp\"></a></div>",
        "id": 511168724,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744204157
    },
    {
        "content": "<p>better than nothing</p>",
        "id": 511170082,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744204525
    },
    {
        "content": "<p>A ringing endorsement</p>",
        "id": 511170208,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1744204561
    },
    {
        "content": "<p>i guess we can have the bot also just post <em>both</em> emoji rather than some custom combo</p>",
        "id": 511170312,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744204581
    },
    {
        "content": "<p>that seems to me like a less silly way to go about it</p>",
        "id": 511170453,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744204615
    },
    {
        "content": "<p>that being said, silly is also nice</p>",
        "id": 511170525,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744204634
    },
    {
        "content": "<p>so {<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>,  <span aria-label=\"blue circle\" class=\"emoji emoji-1f535\" role=\"img\" title=\"blue circle\">:blue_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>, <span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span>, <span aria-label=\"blue circle\" class=\"emoji emoji-1f535\" role=\"img\" title=\"blue circle\">:blue_circle:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span>}?</p>",
        "id": 511171073,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744204765
    },
    {
        "content": "<p>well, i was thinking { <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span>  <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>,  <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>, <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span>, <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span>}</p>",
        "id": 511174053,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744205444
    },
    {
        "content": "<p>in particular that might be more recognisable to any colorblind people?</p>",
        "id": 511174164,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744205465
    },
    {
        "content": "<p>I think reporting any PR where the change in total instructions is &gt; 100B (or &lt; 100B) would be an improvement for tracking. Generally, I’ve found that &gt; 1B/line indicates a problem but that might require touching the other code. Does it?</p>",
        "id": 511174727,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1744205575
    },
    {
        "content": "<p>You mean lines of code for the whole of Mathlib or per file? The first one should not be too hard to implement since we already have total <code>.lean</code> size. I don't see any per-file line counts in VelCom, so the current bot implementation wouldn't be able to get that information.</p>",
        "id": 511176295,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744205962
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"684366\">Edward van de Meent</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/511174053\">said</a>:</p>\n<blockquote>\n<p>well, i was thinking { <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span>  <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>,  <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span>, <span aria-label=\"sad\" class=\"emoji emoji-2639\" role=\"img\" title=\"sad\">:sad:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span>, <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span>}</p>\n</blockquote>\n<p>I think it is better to have something very visually obvious, including a color change. If this was HTML there would be more options for being able to style the text and so on so it looks like a stock ticker</p>",
        "id": 511176974,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744206124
    },
    {
        "content": "<p>another possibility is something like { <span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> , <span aria-label=\"small blue diamond\" class=\"emoji emoji-1f539\" role=\"img\" title=\"small blue diamond\">:small_blue_diamond:</span> } for increasing the visual differentiation</p>",
        "id": 511177024,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744206134
    },
    {
        "content": "<p>although this biases toward regression reporting, while big improvements might also be something to call out</p>",
        "id": 511177210,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744206183
    },
    {
        "content": "<p>how about <span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span>/<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ?</p>",
        "id": 511177365,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1744206221
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"238446\">Anne Baanen</span> <a href=\"#narrow/stream/287929-mathlib4/topic/Build.20time.20tracking/near/511176295\">said</a>:</p>\n<blockquote>\n<p>You mean lines of code for the whole of Mathlib or per file? The first one should not be too hard to implement since we already have total <code>.lean</code> size. I don't see any per-file line counts in VelCom, so the current bot implementation wouldn't be able to get that information.</p>\n</blockquote>\n<p>The ratio of total instructions change to total lines added in the PR.</p>",
        "id": 511177637,
        "sender_full_name": "Matthew Ballard",
        "timestamp": 1744206276
    },
    {
        "content": "<p>FWIW, the Rust project has a bot post an automated comment of benchmarking runs (similar to our bot). It uses a (green) check-mark and a red cross for improvements and regressions.</p>",
        "id": 511210959,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744214338
    },
    {
        "content": "<p>So, I'd tend to keep it simple: add a checkmark for \"improvements\" and cross for regressions. If we want to denote \"large\" and \"somewhat large\" differently, just go for two checkmarks/crosses?</p>",
        "id": 511211429,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744214443
    },
    {
        "content": "<p>Orwell's \"plusgood, good, ungood, plusungood\" was of course (purposefully) simplistic - but imho it captures the essence in this context quite well.</p>",
        "id": 511211734,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744214508
    },
    {
        "content": "<p><strong>chore: use mixin ordered algebraic typeclasses (part 2) (<a href=\"https://github.com/leanprover-community/mathlib4/pull/20595\">mathlib4#20595</a>)</strong><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/commit/d7d140ed9486cbd76db4f6c9aad255a2c1f230e5\"><code>d7d140ed9486cbd76db4f6c9aad255a2c1f230e5</code></a><br>\nAuthor: Yuyang Zhao 赵雨扬 &lt;<a href=\"mailto:zhao.yu-yang@foxmail.com\">zhao.yu-yang@foxmail.com</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/05effff9-ca9d-423d-a81e-e54be422bf0e\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Algebra.Order.Archimedean.Basic --- instructions: 10.8 G (17.6 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Algebra.Order.CauSeq.Basic --- instructions: 14.5 G (16.6 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Algebra.Order.Floor.Ring --- instructions: 30.1 G (46.7 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Algebra.Order.Floor.Semiring --- instructions: 15.2 G (36.2 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Algebra.Order.ToIntervalMod --- instructions: 43 G (53.8 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Analysis.Convex.Deriv --- instructions: 13.1 G (20.7 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Analysis.Convex.Jensen --- instructions: 10.9 G (20.2 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Analysis.Convex.Mul --- instructions: 15.3 G (20.8 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Analysis.Convex.Side --- instructions: 11.4 G (12.5 %)<br>\n<span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span> ~Mathlib.Analysis.MeanInequalitiesPow --- instructions: -12 G (-20.5 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Combinatorics.SimpleGraph.Regularity.Uniform --- instructions: 11.3 G (25 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.GroupTheory.ArchimedeanDensely --- instructions: 11.6 G (18.5 %)<br>\n<span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span> ~Mathlib.LinearAlgebra.Orientation --- instructions: -13.5 G (-15.7 %)<br>\n<span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span> ~Mathlib.Topology.Algebra.Field --- instructions: -11.2 G (-29.7 %)<br>\n<span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> ~Mathlib.Topology.Instances.AddCircle --- instructions: 10.9 G (19.8 %)</p>",
        "id": 511218500,
        "sender_full_name": "Anne's test bot",
        "timestamp": 1744216283
    },
    {
        "content": "<p><strong>chore: use mixin ordered algebraic typeclasses (part 2) (<a href=\"https://github.com/leanprover-community/mathlib4/pull/20595\">mathlib4#20595</a>)</strong><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/commit/d7d140ed9486cbd76db4f6c9aad255a2c1f230e5\"><code>d7d140ed9486cbd76db4f6c9aad255a2c1f230e5</code></a><br>\nAuthor: Yuyang Zhao 赵雨扬 &lt;<a href=\"mailto:zhao.yu-yang@foxmail.com\">zhao.yu-yang@foxmail.com</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/05effff9-ca9d-423d-a81e-e54be422bf0e\">Significant benchmark differences</a>:</p>\n<p><span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Algebra.Order.Archimedean.Basic --- instructions: 10.8 G (17.6 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Algebra.Order.CauSeq.Basic --- instructions: 14.5 G (16.6 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Algebra.Order.Floor.Ring --- instructions: 30.1 G (46.7 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Algebra.Order.Floor.Semiring --- instructions: 15.2 G (36.2 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Algebra.Order.ToIntervalMod --- instructions: 43 G (53.8 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Analysis.Convex.Deriv --- instructions: 13.1 G (20.7 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Analysis.Convex.Jensen --- instructions: 10.9 G (20.2 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Analysis.Convex.Mul --- instructions: 15.3 G (20.8 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Analysis.Convex.Side --- instructions: 11.4 G (12.5 %)<br>\n<span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> ~Mathlib.Analysis.MeanInequalitiesPow --- instructions: -12 G (-20.5 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Combinatorics.SimpleGraph.Regularity.Uniform --- instructions: 11.3 G (25 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.GroupTheory.ArchimedeanDensely --- instructions: 11.6 G (18.5 %)<br>\n<span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> ~Mathlib.LinearAlgebra.Orientation --- instructions: -13.5 G (-15.7 %)<br>\n<span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> <span aria-label=\"down\" class=\"emoji emoji-2b07\" role=\"img\" title=\"down\">:down:</span> ~Mathlib.Topology.Algebra.Field --- instructions: -11.2 G (-29.7 %)<br>\n<span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> <span aria-label=\"up\" class=\"emoji emoji-2b06\" role=\"img\" title=\"up\">:up:</span> ~Mathlib.Topology.Instances.AddCircle --- instructions: 10.9 G (19.8 %)</p>",
        "id": 511219253,
        "sender_full_name": "Anne's test bot",
        "timestamp": 1744216485
    },
    {
        "content": "<p>I think I like the <span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> / <span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span> approach better, the circles seem a bit too visually heavy. One drawback is that <span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span> might be interpreted to mean the build for that file failed...</p>",
        "id": 511219717,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744216631
    },
    {
        "content": "<p>For me, the arrows are a bit unreadable, being white on a light-blue background.</p>",
        "id": 511220372,
        "sender_full_name": "Aaron Liu",
        "timestamp": 1744216814
    },
    {
        "content": "<p>maybe just a non-emoji up/down triangle?</p>",
        "id": 511220556,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744216878
    },
    {
        "content": "<p>Should we table-ify as</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th style=\"text-align: right;\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Algebra.Order.Archimedean.Basic</td>\n<td>instructions: 10.8 G</td>\n<td style=\"text-align: right;\">17.6 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Algebra.Order.CauSeq.Basic</td>\n<td>instructions: 14.5 G</td>\n<td style=\"text-align: right;\">16.6 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Algebra.Order.Floor.Ring</td>\n<td>instructions: 30.1 G</td>\n<td style=\"text-align: right;\">46.7 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Algebra.Order.Floor.Semiring</td>\n<td>instructions: 15.2 G</td>\n<td style=\"text-align: right;\">36.2 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Algebra.Order.ToIntervalMod</td>\n<td>instructions: 43 G</td>\n<td style=\"text-align: right;\">53.8 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Analysis.Convex.Deriv</td>\n<td>instructions: 13.1 G</td>\n<td style=\"text-align: right;\">20.7 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Analysis.Convex.Jensen</td>\n<td>instructions: 10.9 G</td>\n<td style=\"text-align: right;\">20.2 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Analysis.Convex.Mul</td>\n<td>instructions: 15.3 G</td>\n<td style=\"text-align: right;\">20.8 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Analysis.Convex.Side</td>\n<td>instructions: 11.4 G</td>\n<td style=\"text-align: right;\">12.5 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span></td>\n<td>~Mathlib.Analysis.MeanInequalitiesPow</td>\n<td>instructions: -12 G</td>\n<td style=\"text-align: right;\">-20.5 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Combinatorics.SimpleGraph.Regularity.Uniform</td>\n<td>instructions: 11.3 G</td>\n<td style=\"text-align: right;\">25 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.GroupTheory.ArchimedeanDensely</td>\n<td>instructions: 11.6 G</td>\n<td style=\"text-align: right;\">18.5 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span></td>\n<td>~Mathlib.LinearAlgebra.Orientation</td>\n<td>instructions: -13.5 G</td>\n<td style=\"text-align: right;\">-15.7 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"check mark\" class=\"emoji emoji-2714\" role=\"img\" title=\"check mark\">:check_mark:</span></td>\n<td>~Mathlib.Topology.Algebra.Field</td>\n<td>instructions: -11.2 G</td>\n<td style=\"text-align: right;\">-29.7 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></td>\n<td>~Mathlib.Topology.Instances.AddCircle</td>\n<td>instructions: 10.9 G</td>\n<td style=\"text-align: right;\">19.8 %</td>\n</tr>\n</tbody>\n</table>",
        "id": 511220797,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1744216941
    },
    {
        "content": "<p>(off-topic: in case anyone is wondering what the heck I'm doing merging PRs with slowdowns like that, they should check out the benchmarks in the <a href=\"https://github.com/leanprover-community/mathlib4/pull/20676#issuecomment-2790076259\">follow-up PR</a> which I'm about 2 hours into reviewing right now!)</p>",
        "id": 511235084,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1744221716
    },
    {
        "content": "<p><strong>chore: update stage0</strong><br>\n<a href=\"https://github.com/leanprover/lean4/commit/91c245663b7006c7c01f51f8891bb45c32a9cc67\"><code>91c245663b7006c7c01f51f8891bb45c32a9cc67</code></a><br>\nAuthor: Lean stage0 autoupdater &lt;&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/lean4/run-detail/cceb379b-7d95-42c4-8d6c-65028cf070cd\">Significant benchmark differences</a>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th style=\"text-align: right;\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>Init.Data.BitVec.Lemmas re-elab</td>\n<td>maxrss: -27.5 K KB</td>\n<td style=\"text-align: right;\">-1.85 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>big_do</td>\n<td>task-clock: -0.0627  s</td>\n<td style=\"text-align: right;\">-3.5 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>big_do</td>\n<td>wall-clock: -0.066  s</td>\n<td style=\"text-align: right;\">-3.79 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td><a href=\"http://binarytrees.st\">binarytrees.st</a></td>\n<td>task-clock: -0.231  s</td>\n<td style=\"text-align: right;\">-7.33 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td><a href=\"http://binarytrees.st\">binarytrees.st</a></td>\n<td>wall-clock: -0.231  s</td>\n<td style=\"text-align: right;\">-7.32 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"red circle\" class=\"emoji emoji-1f534\" role=\"img\" title=\"red circle\">:red_circle:</span> ▲</td>\n<td>lake build no-op</td>\n<td>maxrss: 9.45 K KB</td>\n<td style=\"text-align: right;\">1.77 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>stdlib</td>\n<td>blocked (unaccounted): -4.56</td>\n<td style=\"text-align: right;\">-2.5 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>stdlib</td>\n<td>instantiate metavars: -0.0893</td>\n<td style=\"text-align: right;\">-2.21 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>stdlib</td>\n<td>tactic execution: -3.08</td>\n<td style=\"text-align: right;\">-2.54 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>stdlib</td>\n<td>task-clock: -40.4  s</td>\n<td style=\"text-align: right;\">-2.65 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"large blue diamond\" class=\"emoji emoji-1f537\" role=\"img\" title=\"large blue diamond\">:large_blue_diamond:</span> ▼</td>\n<td>stdlib</td>\n<td>wall-clock: -3.6  s</td>\n<td style=\"text-align: right;\">-2.32 %</td>\n</tr>\n</tbody>\n</table>",
        "id": 511416921,
        "sender_full_name": "Anne's test bot",
        "timestamp": 1744293063
    },
    {
        "content": "<p>Here's an example tableificated benchmark output. Are we happy enough with this to ask Sebastian to install the bot? Any later tweaks could then be done via PRs to <a href=\"https://github.com/Kha/lean-infra\">https://github.com/Kha/lean-infra</a> :)</p>",
        "id": 511418542,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744293455
    },
    {
        "content": "<p>I'm a bit worried about having this on every mathlib commit in #rss, it will make the benchmark data look more important than the actual content (and the mathlib4 rss already goes by quite fast). Can we limit the number of differences to 3 or so?</p>",
        "id": 511436277,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744297493
    },
    {
        "content": "<p>if it's another topic then at least people can mute it</p>",
        "id": 511436513,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744297553
    },
    {
        "content": "<p>It will be in a different topic called <code>Benchmark results for {repo_name}</code> (where <code>repo_name</code> is either lean4 or mathlib4 currently). There have been 8 benchmarks with significant differences in Mathlib in the last 24 hours, out of 37 total commits.</p>",
        "id": 511437253,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744297718
    },
    {
        "content": "<p>To be clear, a typical benchmark result will look more like: <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/511097542\">#mathlib4 &gt; Build time tracking @ 💬</a>, with one or two changes, than <a class=\"message-link\" href=\"/#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/511220797\">#mathlib4 &gt; Build time tracking @ 💬</a>.</p>",
        "id": 511437454,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744297771
    },
    {
        "content": "<p>Even so, I imagine that some commits will cause significant improvements/regressions on almost every file or on a bunch of correlated metrics, so I expect it to be common that the number of significant deviations on a commit is very large. So it makes sense to have <em>both</em> a lower threshold on showing the benchmark as well as a maximum number of benchmarks to show if they are all just saying the same thing. Maybe add \"...and N more\" at the end to indicate the report is incomplete?</p>",
        "id": 511439161,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744298238
    },
    {
        "content": "<p>Bikeshedding first: I personally don't find <a href=\"#narrow/channel/287929-mathlib4/topic/Build.20time.20tracking/near/511416921\">the latest output</a> self-explanatory. Using blue and red is good, but circle and diamond... is not obvious to me.</p>",
        "id": 511439678,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298371
    },
    {
        "content": "<p>Square and heart?</p>",
        "id": 511440087,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744298456
    },
    {
        "content": "<p><span aria-label=\"red square\" class=\"emoji emoji-1f7e5\" role=\"img\" title=\"red square\">:red_square:</span> <span aria-label=\"blue heart\" class=\"emoji emoji-1f499\" role=\"img\" title=\"blue heart\">:blue_heart:</span></p>",
        "id": 511440314,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744298505
    },
    {
        "content": "<p>Better: but what about checkmark and cross?</p>",
        "id": 511440478,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298539
    },
    {
        "content": "<p>(I really don't want this thread to drown in bikeshedding - but at the same time, having readable output is important.)</p>",
        "id": 511440601,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298566
    },
    {
        "content": "<p><span aria-label=\"check\" class=\"emoji emoji-2705\" role=\"img\" title=\"check\">:check:</span> <span aria-label=\"cross mark\" class=\"emoji emoji-274c\" role=\"img\" title=\"cross mark\">:cross_mark:</span></p>",
        "id": 511440735,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744298600
    },
    {
        "content": "<p>I don't like the cross too much since it suggests a build failure. :/</p>",
        "id": 511440739,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744298602
    },
    {
        "content": "<p><span aria-label=\"check\" class=\"emoji emoji-2705\" role=\"img\" title=\"check\">:check:</span> <span aria-label=\"red square\" class=\"emoji emoji-1f7e5\" role=\"img\" title=\"red square\">:red_square:</span></p>",
        "id": 511440931,
        "sender_full_name": "Michael Stoll",
        "timestamp": 1744298644
    },
    {
        "content": "<p>Regarding long output, we could borrow another idea from the rust project's presentation: display a summary of changes, and allow expanding for details. Here's a screenshot to illustrate:<br>\n<a href=\"/user_uploads/3121/Zo5JPZN019agrwgfCs2SYiqx/Bildschirmfoto-vom-2025-04-10-17-25-00.png\">Bildschirmfoto vom 2025-04-10 17-25-00.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/Zo5JPZN019agrwgfCs2SYiqx/Bildschirmfoto-vom-2025-04-10-17-25-00.png\" title=\"Bildschirmfoto vom 2025-04-10 17-25-00.png\"><img data-original-content-type=\"image/png\" data-original-dimensions=\"409x299\" src=\"/user_uploads/thumbnail/3121/Zo5JPZN019agrwgfCs2SYiqx/Bildschirmfoto-vom-2025-04-10-17-25-00.png/840x560.webp\"></a></div>",
        "id": 511441262,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298723
    },
    {
        "content": "<p>Rust also categorises benchmarks as primary and secondary (the latter are mostly stress-tests to ensure some aspect doesn't accidentally regress); we could omit that distinction.</p>",
        "id": 511441391,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298757
    },
    {
        "content": "<p>\"mean\" is a geometric mean of the percentage changes.</p>",
        "id": 511441482,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298772
    },
    {
        "content": "<p>Basically, I would propose that for e.g. &gt;=5 changes, we'd just display such a table with improvements, regressions and everything summarised this way, and have expandable output with the details.</p>",
        "id": 511441599,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298806
    },
    {
        "content": "<p>our file benchmarks are basically secondary benchmarks by that definition</p>",
        "id": 511441695,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744298829
    },
    {
        "content": "<p>(Or perhaps, separate tables for instructions, wall-time, rss, etc.)</p>",
        "id": 511441822,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298857
    },
    {
        "content": "<p>Rust has separate tables for all of these, but only shows instruction counts by default, as these are the most stable. The other tables also exist, but are hidden by default...</p>",
        "id": 511441977,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744298885
    },
    {
        "content": "<p>I do like the idea of summarizing benchmarks, I've had benchmark overload issues ever since we added all those file benchmarks</p>",
        "id": 511442068,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744298906
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"321459\">@Damiano Testa</span> What do you think about changing the benchnmarking bot's summary comments to adopt such a table format? (I can volunteer to make such a PR, in due time.)</p>",
        "id": 511442471,
        "sender_full_name": "Michael Rothgang",
        "timestamp": 1744299003
    },
    {
        "content": "<p><strong>chore: bump toolchain to v4.19.0-rc2 (<a href=\"https://github.com/leanprover-community/mathlib4/pull/23614\">mathlib4#23614</a>)</strong><br>\n<a href=\"https://github.com/leanprover-community/mathlib4/commit/24d8de9da5cf8a1a39a8e7f618548973e4bbe75d\"><code>24d8de9da5cf8a1a39a8e7f618548973e4bbe75d</code></a><br>\nAuthor: Kim Morrison &lt;<a href=\"mailto:kim@tqft.net\">kim@tqft.net</a>&gt;</p>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/4ec310b3-b07b-4b25-8920-db7dc8faffb2\">Significant benchmark differences</a>:</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th style=\"text-align: right;\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><span aria-label=\"check\" class=\"emoji emoji-2705\" role=\"img\" title=\"check\">:check:</span> ▼</td>\n<td>build</td>\n<td>added 365 packages, and audited 366 packages in: -1  s</td>\n<td style=\"text-align: right;\">-14.3 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"red square\" class=\"emoji emoji-1f7e5\" role=\"img\" title=\"red square\">:red_square:</span> ▲</td>\n<td>build</td>\n<td>aesop: 92.5  s</td>\n<td style=\"text-align: right;\">42.6 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"red square\" class=\"emoji emoji-1f7e5\" role=\"img\" title=\"red square\">:red_square:</span> ▲</td>\n<td>build</td>\n<td>compilation: 316  s</td>\n<td style=\"text-align: right;\">32.6 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"red square\" class=\"emoji emoji-1f7e5\" role=\"img\" title=\"red square\">:red_square:</span> ▲</td>\n<td>build</td>\n<td>elaboration: 2.19 K s</td>\n<td style=\"text-align: right;\">116 %</td>\n</tr>\n<tr>\n<td><span aria-label=\"red square\" class=\"emoji emoji-1f7e5\" role=\"img\" title=\"red square\">:red_square:</span> ▲</td>\n<td>build</td>\n<td>import: 1.63 K s</td>\n<td style=\"text-align: right;\">32.5 %</td>\n</tr>\n</tbody>\n</table>\n<p><a href=\"https://speed.lean-lang.org/mathlib4/run-detail/4ec310b3-b07b-4b25-8920-db7dc8faffb2\">+ 128 more...</a>:</p>",
        "id": 511443132,
        "sender_full_name": "Anne's test bot",
        "timestamp": 1744299155
    },
    {
        "content": "<p>Alright, changed the emoji and added a truncation message. This is pretty much the amount of work I can put into the project until after Easter (so around the 22nd of April). Feel free to tweak the script here until you're happy <a href=\"https://github.com/Vierkantor/lean-infra/blob/velcom-bot/velcom-bot/velcom-bot.py\">https://github.com/Vierkantor/lean-infra/blob/velcom-bot/velcom-bot/velcom-bot.py</a> in the meantime :)</p>",
        "id": 511444099,
        "sender_full_name": "Anne Baanen",
        "timestamp": 1744299384
    },
    {
        "content": "<p><a href=\"https://github.com/leanprover-community/mathlib4/pull/24020\">#24020</a> was opened to ask about why <code>import Mathlib</code> has gotten so slow of late, and I agree. Do we have benchmark data to support this observation?</p>",
        "id": 511974048,
        "sender_full_name": "Mario Carneiro",
        "timestamp": 1744601725
    }
]