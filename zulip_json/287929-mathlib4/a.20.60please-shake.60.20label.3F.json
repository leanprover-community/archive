[
    {
        "content": "<p>I wonder if anyone would be interested in writing a bot which:</p>\n<ol>\n<li>watches for PRs with a <code>please-shake</code> label.</li>\n<li>does nothing unless that PR is building, except that the <code>shake</code> step of CI is failing</li>\n<li>checks out the PR, runs <code>lake exe shake --fix</code>, and then tries a <code>lake build</code> again</li>\n<li>if that succeeds, commit and push the changes, and remove the <code>please-shake</code> label</li>\n<li>if that fails, post a comment to the PR saying \"I attempted to run <code>lake exe shake --fix</code>, but it failed\", with a link to the workflow, and remove the label.</li>\n</ol>\n<p>If it worked well, perhaps we'd eventually just remove the label and have this run automatically.</p>",
        "id": 484408247,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1732577706
    },
    {
        "content": "<p>Theoretically yes, but shake has been pretty flaky recently. Probably you'd also want the bot to push even if shake still failed afterwards</p>",
        "id": 484443083,
        "sender_full_name": "Ruben Van de Velde",
        "timestamp": 1732602880
    },
    {
        "content": "<p>Oh, no, we definitely can't do that. Too often <code>shake --update</code> is what is needed, and if you already push the result of <code>shake --fix</code> then the author will find it hard to recover.</p>",
        "id": 484444114,
        "sender_full_name": "Kim Morrison",
        "timestamp": 1732603605
    },
    {
        "content": "<p>still, having these issues marked presumably might help improve <code>shake</code>?</p>",
        "id": 484485018,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1732618549
    }
]