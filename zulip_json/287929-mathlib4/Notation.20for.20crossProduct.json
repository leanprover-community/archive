[
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> I hope you don't mind me pinging, I noticed that for cross products the corresponding symbol<br>\n<code>×₃</code> is typed using <code>\\x</code> or <code>\\times</code> or <code>\\multiplication</code>, but then there is <br>\n<code>⨯</code>which is <code>\\X</code> or <code>\\vectorproduct</code> or <code>\\crossproduct</code> which seem a bit odd.</p>\n<p>I was typing <code>\\crossproduct</code> and it took me while to realize its not what's used in the actual cross product. is there a discrepancy here and should the notation/docstrings be updated?</p>",
        "id": 520119542,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1748029635
    },
    {
        "content": "<p><a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20crossProduct/near/520119542\">A message</a> was moved here from <a class=\"stream-topic\" data-stream-id=\"113489\" href=\"/#narrow/channel/113489-new-members/topic/Using.20crossProduct.20in.20EuclideanSpace.20.28Fin.203.29/with/520682346\">#new members &gt; Using crossProduct in EuclideanSpace (Fin 3)</a> by <span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span>.</p>",
        "id": 528318115,
        "sender_full_name": "Notification Bot",
        "timestamp": 1752233196
    },
    {
        "content": "<p>I'd be in favor of switching to the <code>⨯</code> notation, as unicode allocates it specifically for this purpose.</p>",
        "id": 528318230,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752233238
    },
    {
        "content": "<p>do we want to keep the 3 in <code>⨯₃</code> or just <code>⨯</code>?</p>",
        "id": 528349161,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1752243311
    },
    {
        "content": "<p>I guess drop it; if we ever get the 7-dimensional version we can add a notation typeclass</p>",
        "id": 528355694,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752245404
    },
    {
        "content": "<p>is there an easier way to find all files that contain <code>crossProduct</code>? I'm currently going through the files manually using <code>Imported by</code> in the docs, which luckily isn't a lot but I'm wondering is there a better way</p>",
        "id": 528373671,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1752251572
    },
    {
        "content": "<p><code>lake build</code> and see what breaks?</p>",
        "id": 528374338,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752251839
    },
    {
        "content": "<p>FYI I find <code>×</code> and <code>⨯</code> really hard to distinguish.</p>",
        "id": 528377276,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1752253205
    },
    {
        "content": "<p>Also, since dot product, which is used far more often than cross product, does not have a single-symbol operator, I find it weird to give this luxury to cross product.</p>",
        "id": 528377518,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1752253323
    },
    {
        "content": "<p>That's just my two cents on why I wouldn't make the suggested change.</p>",
        "id": 528377560,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1752253338
    },
    {
        "content": "<p>BTW copy the following five symbols into your favorite editor with your favorite font in the size you normally use <code>⨯×xXχ</code> and tell us how easy it is to distinguish them from each other.</p>",
        "id": 528378091,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1752253570
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20crossProduct/near/528378091\">said</a>:</p>\n<blockquote>\n<p>BTW copy the following five symbols into your favorite editor with your favorite font in the size you normally use <code>⨯×xXχ</code> and tell us how easy it is to distinguish them from each other.</p>\n</blockquote>\n<p>(⨯×xXχΧ theres <code>\\Chi</code> as well)</p>",
        "id": 528378553,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1752253748
    },
    {
        "content": "<p>I claim that being able to distinguish them is easy, because all but one will give a lean type error</p>",
        "id": 528379297,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752254091
    },
    {
        "content": "<p>I've made <a href=\"https://github.com/leanprover-community/mathlib4/pull/27006\">#27006</a></p>",
        "id": 528380111,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1752254468
    },
    {
        "content": "<p>Maybe neither <code>×₃</code> nor <code>⨯</code> should be the operator; it should be <code>⨯₃</code> instead.</p>",
        "id": 528382226,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1752255397
    },
    {
        "content": "<p>I don't think the 3 conveys anything interesting</p>",
        "id": 528382282,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752255438
    },
    {
        "content": "<p>We're trying to mimic what mathematicians write, not what they should write or what it would be convenient if they wrote.</p>",
        "id": 528395660,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1752261945
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"890057\">ZhiKai Pong</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20crossProduct/near/528380111\">said</a>:</p>\n<blockquote>\n<p>I've made <a href=\"https://github.com/leanprover-community/mathlib4/pull/27006\">#27006</a></p>\n</blockquote>\n<p>I've added some meta code to this PR to deprecate the syntax; maybe <span class=\"user-mention\" data-user-id=\"387244\">@Yaël Dillies</span> has opinions since they did something similar for sum notation?</p>",
        "id": 528397123,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752262802
    },
    {
        "content": "<p>Have you tried it? I'm slightly worried your suggestion will replace <code>a ×₃ b</code> with <code>⨯</code> rather than <code>a ⨯ b</code>, but if you've tried and it does the right thing, then looks reasonable</p>",
        "id": 528397853,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1752263267
    },
    {
        "content": "<p>Personally, I would really prefer the <code>⨯₃</code> notation (including the <code>₃</code>) because it aids with disambiguation when reading the code (e.g., on GitHub). But perhaps I'm overestimating the possibility for ambiguity.</p>",
        "id": 528398122,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1752263449
    },
    {
        "content": "<p>I claim there is no situation where there is any risk of ambiguity, since thankfully <code>Fin 3 -&gt; R</code> has no coercion to sort!</p>",
        "id": 528400561,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752264762
    },
    {
        "content": "<p>But maybe this should be put to a vote in a day or so, once any other interested parties have made their argument.</p>",
        "id": 528402063,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752265618
    },
    {
        "content": "<p>You're probably right that it's not necessary, but I think it would still be my preference.</p>",
        "id": 528406807,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1752268261
    },
    {
        "content": "<p>do we still want a vote or is the consensus to go with <code>⨯₃</code>?</p>",
        "id": 528530981,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1752414679
    },
    {
        "content": "<p>/poll What should the syntax be for crossProduct?</p>\n<ul>\n<li>×₃ (U+00D7 multiplication sign, status quo)</li>\n<li>⨯ (U+2A2F vector or cross product)</li>\n<li>⨯₃ (U+2A2F vector or cross product)</li>\n</ul>",
        "id": 528531465,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752415224
    },
    {
        "content": "<p>bump since there's a tie</p>",
        "id": 529428404,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1752832196
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"110038\">Kevin Buzzard</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20crossProduct/near/528395660\">said</a>:</p>\n<blockquote>\n<p>We're trying to mimic what mathematicians write, not what they should write or what it would be convenient if they wrote.</p>\n</blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20crossProduct/near/528379297\">said</a>:</p>\n<blockquote>\n<p>I claim that being able to distinguish them is easy, because all but one will give a lean type error</p>\n</blockquote>\n<p>from this, i gather that what we really want is a custom elaborator for <code>×</code>, not different notation?</p>",
        "id": 529429035,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752832412
    },
    {
        "content": "<p>because i'm in favour of making it easy to type the right thing. i really don't want another \"you wrote <code>|</code>, but you really <em>meant</em> <code>∣</code>\"</p>",
        "id": 529429555,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752832613
    },
    {
        "content": "<p>it isn't even terribly difficult, i think? we can just do this:</p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"kn\">import</span><span class=\"w\"> </span><span class=\"n\">Mathlib</span>\n\n<span class=\"kn\">variable</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">{</span><span class=\"n\">R</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"kt\">Type</span><span class=\"bp\">*</span><span class=\"o\">}</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">CommRing</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">(</span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"o\">:</span><span class=\"w\"> </span><span class=\"n\">Fin</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"> </span><span class=\"bp\">→</span><span class=\"w\"> </span><span class=\"n\">R</span><span class=\"o\">)</span>\n\n<span class=\"kd\">@[</span><span class=\"n\">inherit_doc</span><span class=\"kd\">]</span><span class=\"w\"> </span><span class=\"kn\">scoped</span><span class=\"o\">[</span><span class=\"n\">Matrix</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"kn\">infixl</span><span class=\"o\">:</span><span class=\"mi\">74</span><span class=\"w\"> </span><span class=\"s2\">\" × \"</span><span class=\"w\"> </span><span class=\"bp\">=&gt;</span><span class=\"w\"> </span><span class=\"n\">crossProduct</span>\n\n<span class=\"kn\">open</span><span class=\"w\"> </span><span class=\"n\">Matrix</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">α</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">β</span><span class=\"w\"> </span><span class=\"c1\">-- Prod α β : Type (max u_1 u_2)</span>\n\n<span class=\"bp\">#</span><span class=\"n\">check</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"bp\">×</span><span class=\"w\"> </span><span class=\"n\">b</span><span class=\"w\"> </span><span class=\"c1\">-- (crossProduct a) b : Fin 3 → R</span>\n</code></pre></div>",
        "id": 529431412,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752833284
    },
    {
        "content": "<p>so long as there isn't a coersion from <code>Fin 3 -&gt; R</code> to <code>Sort _</code> i think this should work</p>",
        "id": 529431617,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752833357
    },
    {
        "content": "<p>even the hover docstring is disambiguated based on which version parses/typechecks!</p>",
        "id": 529431781,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752833428
    },
    {
        "content": "<blockquote>\n<p>i really don't want another \"you wrote <code>|</code>, but you really <em>meant</em> <code>∣</code>\"</p>\n</blockquote>\n<p>I think this is fine, as long as the linter tells you this rather than having to ask a human on zulip</p>",
        "id": 529444523,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752838550
    },
    {
        "content": "<p>i don't see why there should be a distinct character for this operation</p>",
        "id": 529449996,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752840751
    },
    {
        "content": "<p>For divides or for vector product?</p>",
        "id": 529455799,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752842841
    },
    {
        "content": "<p>In either case, that sounds like a gripe to take up with the unicode consortium, and mathlib should just follow their recommendations where possible.</p>",
        "id": 529455914,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1752842882
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"310045\">Eric Wieser</span> <a href=\"#narrow/channel/287929-mathlib4/topic/Notation.20for.20crossProduct/near/529455914\">said</a>:</p>\n<blockquote>\n<p>mathlib should just follow their recommendations where possible</p>\n</blockquote>\n<p>i suspect that this is a bad idea</p>",
        "id": 529458143,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752843603
    },
    {
        "content": "<p>Would a custom elaborator make doc search harder? I hope it won't give me a hard time to find the actual definition if I ctrl-click on the symbol, or putting the symbol in the doc search bar</p>",
        "id": 529463090,
        "sender_full_name": "Weiyi Wang",
        "timestamp": 1752845306
    },
    {
        "content": "<p>i hardly ever use that feature, but guessing from the fact that the hover <em>is</em> correct, i think it'd work?</p>",
        "id": 529464828,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752845888
    },
    {
        "content": "<p>putting the symbol in the search bar should find <code>Matrix.«term_×_»</code> in the example i gave above</p>",
        "id": 529465055,
        "sender_full_name": "Edward van de Meent",
        "timestamp": 1752845981
    },
    {
        "content": "<p>looks like ⨯₃ wins? should we just go ahead and make this change for now or are we still considering the proposed alternatives?</p>",
        "id": 530240008,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1753227591
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"310045\">@Eric Wieser</span> I've updated <a href=\"https://github.com/leanprover-community/mathlib4/pull/27006\">#27006</a> according to poll results (or should I ping you on github instead?)</p>",
        "id": 531625323,
        "sender_full_name": "ZhiKai Pong",
        "timestamp": 1753799385
    }
]