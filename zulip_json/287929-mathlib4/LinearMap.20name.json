[
    {
        "content": "<p>For more than a year, I was confused by <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearMap#doc\">docs#LinearMap</a> name.<br>\nShouldn't we rename <code>LinearMap</code> to <code>SemilinearMap</code> while preserving <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=IsLinearMap#doc\">docs#IsLinearMap</a> as it is?</p>",
        "id": 563381334,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1765525882
    },
    {
        "content": "<p>I don't think so, for the same reason that <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=Module#doc\">docs#Module</a> isn't named <code>Semimodule</code></p>",
        "id": 563417944,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1765527769
    },
    {
        "content": "<p>But there is no <code>IsModule</code> that would lead to confusion.</p>",
        "id": 563420044,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1765528426
    },
    {
        "content": "<p>I don't know what <code>IsLinearMap</code> is used for, so I can't vouch for it</p>",
        "id": 563420181,
        "sender_full_name": "Yaël Dillies",
        "timestamp": 1765528472
    },
    {
        "content": "<p>It can be used to understand what <code>M →ₗ[R] M₂</code> means, while the reader is burdened by a much smaller trusted code.</p>",
        "id": 563420960,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1765528749
    },
    {
        "content": "<p>I don't think mathlib is particularly interested in minimizing trusted code beyond trying to shorten the longest pole at compilation time</p>",
        "id": 563427967,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1765531373
    },
    {
        "content": "<p>OK</p>",
        "id": 563428980,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1765531713
    },
    {
        "content": "<p>Anyways, <code>IsLinearMap</code> helped me a lot in writing my Ph.D. thesis.<br>\nI wouldn't want to have to explain <code>M →ₗ[R] M₂</code> though <code>LinearMap</code> itself.</p>",
        "id": 563429200,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1765531783
    },
    {
        "content": "<p>That said, if Mathlib maintainers decide that <code>IsLinearMap</code> should be removed, my voice will not save it, I know.</p>",
        "id": 563429490,
        "sender_full_name": "Martin Dvořák",
        "timestamp": 1765531878
    },
    {
        "content": "<p>I could see <code>IsLinearMap</code> being semilinearized</p>",
        "id": 563555494,
        "sender_full_name": "Eric Wieser",
        "timestamp": 1765571101
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"417654\">Martin Dvořák</span> <a href=\"#narrow/channel/287929-mathlib4/topic/LinearMap.20name/near/563429200\">said</a>:</p>\n<blockquote>\n<p>I wouldn't want to have to explain <code>M →ₗ[R] M₂</code> though <code>LinearMap</code> itself.</p>\n</blockquote>\n<p>Why not?</p>\n<blockquote>\n<p>A <em>linear map</em> <code>M →ₗ[R] M₁</code> between <code>R</code>-modules is a function <code>f : M → Mₗ</code> which is additive <code>f (x + y) = f x + f y</code> and satisfies <code>f (r • x) = r • f x</code>. However, in mathematics one often cares about <em>conjugate-linear</em> maps (i.e., where <code>R := ℂ</code> and <code>f (r • x) = conj r • f x</code>). In order to have a single concept which covers both cases, Mathlib defines <a href=\"https://leanprover-community.github.io/mathlib4_docs/find/?pattern=LinearMap#doc\">docs#LinearMap</a> in the generality of <em>semilinear maps</em>. In this setting, we have an <code>R</code>-module <code>M</code> and a <code>R₁</code>-module <code>M₁</code> and a ring homomorphism <code>σ : R →+* R₁</code>. A map <code>f</code> is semilinear (denoted <code>f : M →ₛₗ[σ] M₁</code>) if it is additive and satisfies <code>f (r • x) = σ r • f x</code>. When <code>R₁ := R</code> and <code>σ := .id R</code>, then we recover the usual notion of linear map. When <code>R := ℂ</code> and <code>R₁ := ℂ</code> and <code>σ := conj</code>, we recover the notion of conjugate-linear maps.</p>\n</blockquote>",
        "id": 563567591,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1765576562
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"387244\">Yaël Dillies</span> <a href=\"#narrow/channel/287929-mathlib4/topic/LinearMap.20name/near/563420181\">said</a>:</p>\n<blockquote>\n<p>I don't know what <code>IsLinearMap</code> is used for, so I can't vouch for it</p>\n</blockquote>\n<p>I am wondering about this too. The documentation says that it should be avoided, but doesn't explain why it should exist at all.</p>",
        "id": 563580581,
        "sender_full_name": "Moritz Doll",
        "timestamp": 1765586487
    },
    {
        "content": "<p>IIRC <span class=\"user-mention\" data-user-id=\"346070\">@Tomas Skrivan</span> finds it useful for certain things, but maybe I'm wrong.</p>",
        "id": 563586494,
        "sender_full_name": "Jireh Loreaux",
        "timestamp": 1765593232
    },
    {
        "content": "<p>In SciLean, I use unbundled approach most of the time, I use <code>IsLinearMap</code> and also my own <code>IsContinuousLinearMap</code>. When I need to convert to a bundled morphisms I just use <code>fun_prop</code>.</p>\n<p>I find it way more convenient as I don't have to remember any of the bundled morphisms API and I don't have to write code in \"point free\" style. All the <code>fderiv</code> theorems become way more readable.</p>\n<p>I made a PR <a href=\"https://github.com/leanprover-community/mathlib4/pull/24095\">#24095</a> but there seemed very little interet in it so I didn't bother finishing it.</p>",
        "id": 563606567,
        "sender_full_name": "Tomas Skrivan",
        "timestamp": 1765618137
    }
]