[
    {
        "content": "<p>Hi, I guess it is a known issue that the goal-window in emacs doesn't play nice with the calligraphic math letters like </p>\n<div class=\"codehilite\" data-code-language=\"Lean4\"><pre><span></span><code><span class=\"n\">ùìõ</span><span class=\"w\"> </span><span class=\"n\">ùìù</span><span class=\"w\"> </span><span class=\"n\">ùì°</span>\n</code></pre></div>\n<p>It seems like there is an issue with it missing a trailing space.  Is there a work-around for this?</p>",
        "id": 491647531,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735841821
    },
    {
        "content": "<p>Works for me</p>",
        "id": 491649977,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735843081
    },
    {
        "content": "<p>(I tried an example with a type called <code>ùì°</code>)</p>",
        "id": 491650077,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735843116
    },
    {
        "content": "<p>I know nothing about Lean in emacs but could this be a font issue rather than an emacs issue?</p>",
        "id": 491650560,
        "sender_full_name": "Kevin Buzzard",
        "timestamp": 1735843350
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span> ,  I am having the problem you mentions in this post <a class=\"message-link\" href=\"/#narrow/channel/468104-Emacs/topic/Support.3A.20Use.20Emacs.20for.20Lean.3F/near/482439985\">#Emacs &gt; Support: Use Emacs for Lean? @ üí¨</a> ,    I thought it was other mathcal letters too, like the principal filter.  I will update my lean4 mode and see if that changes anything.</p>",
        "id": 491660386,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735848657
    },
    {
        "content": "<p>This is a different issue: if a line contains some Unicode characters, then lsp client&amp;server count them as different number of characters, hence the server thinks that you're inserting text at a wrong position.</p>",
        "id": 491660678,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735848833
    },
    {
        "content": "<p>Yeah, that is the issue I am having.  I have some luck killing then yanking the lines.</p>",
        "id": 491664024,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1735850764
    },
    {
        "content": "<p>For anyone's information, I have been using Emacs inside a terminal (as all good hackers do) today and I think I have been having some luck with this issue.</p>\n<p>I am leaving this post here as remind to  report more later.</p>",
        "id": 503335056,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1741112628
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"519925\">@Kent Van Vels</span> Any details?</p>",
        "id": 505763440,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1741984862
    },
    {
        "content": "<p>The patch at <a href=\"https://github.com/yyoncho/lsp-mode/commit/aac9b6a10611ce9fcb4c9fe272f2835f0b6bb210\">https://github.com/yyoncho/lsp-mode/commit/aac9b6a10611ce9fcb4c9fe272f2835f0b6bb210</a> (as linked from <a href=\"https://github.com/emacs-lsp/lsp-mode/issues/2080\">https://github.com/emacs-lsp/lsp-mode/issues/2080</a> ) works for me (at least once I deleted the lsp-mode.elc that had been byte-compiled before I patched lsp-mode.el). Though if some version of <a href=\"https://github.com/leanprover/lean4/pull/2646\">https://github.com/leanprover/lean4/pull/2646</a> got into Lean then that might avoid the lsp-mode issue by allowing the use of UTF-32 LSP.</p>",
        "id": 505794684,
        "sender_full_name": "Joseph Myers",
        "timestamp": 1742002419
    },
    {
        "content": "<p>I'll try to figure out how to apply a patch to <code>lsp-mode</code> in NixOS tomorrow.</p>",
        "id": 505809702,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1742014410
    },
    {
        "content": "<p>Thanks for the link!</p>",
        "id": 505809709,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1742014415
    },
    {
        "content": "<p><span class=\"user-mention\" data-user-id=\"214703\">@Yury G. Kudryashov</span>, it still had the same problems.  The letters were truly monospace though.</p>",
        "id": 505891148,
        "sender_full_name": "Kent Van Vels",
        "timestamp": 1742077493
    },
    {
        "content": "<p>Related quote from this message: <a class=\"message-link\" href=\"/#narrow/channel/468104-Emacs/topic/Development.3A.20Maintainership/near/482366432\">#Emacs &gt; Development: Maintainership @ üí¨</a> </p>\n<blockquote>\n<p>Eglot has one key advantage over lsp-mode: it correctly handles LSP's weird specification of source positions, where column numbers have to be in terms of 16-bit Unicode. lsp-mode still doesn't[.]</p>\n</blockquote>",
        "id": 513972362,
        "sender_full_name": "Mekeor Melire",
        "timestamp": 1745446078
    },
    {
        "content": "<p>Note: the patch worked.</p>",
        "id": 513975223,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745447667
    },
    {
        "content": "<p>I'm OK with switching from <code>lsp-mode</code> to Eglot if we can figure out how to get syntax highlighting work.</p>",
        "id": 513975355,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1745447750
    },
    {
        "content": "<p>The plan is to support both lsp-mode as well as Eglot. Both have their up- and downsides respectively.</p>\n<p>As far as I know, no one is currently actively working on making Eglot support semantic tokens. There are one or two third-party packages that extend Eglot with this intention, but I haven't tried them out yet.</p>",
        "id": 513976122,
        "sender_full_name": "Mekeor Melire",
        "timestamp": 1745448149
    }
]