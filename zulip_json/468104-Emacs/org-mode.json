[
    {
        "content": "<p>I am writing a blog but would like the code in the blog to be executed. Does anyone have any views on this: <a href=\"https://github.com/Maverobot/ob-lean4\">https://github.com/Maverobot/ob-lean4</a>? See also <a href=\"https://emacs.stackexchange.com/questions/48732/live-literate-lean-programming-with-org-mode\">https://emacs.stackexchange.com/questions/48732/live-literate-lean-programming-with-org-mode</a></p>",
        "id": 490669153,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1735042012
    },
    {
        "content": "<p>I haven't tried this yet.</p>",
        "id": 490690487,
        "sender_full_name": "Yury G. Kudryashov",
        "timestamp": 1735056035
    },
    {
        "content": "<p>Part of the problem is that you have to define what \"to be executed\" means. Org is nice, but it doesn't have infoview support. If you're talking about the code you posted <a href=\"#narrow/channel/113488-general/topic/Blogging.20my.20result.20.2F.20experience.20as.20a.20noob\">in the other thread</a>, it produces no output at all when viewed as a traditional program (you don't run <code>#eval</code>, <code>#check</code> or the like). That's why verso is probably the best option for your blog.</p>",
        "id": 490698602,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1735061723
    },
    {
        "content": "<p>Ah, do you mean you would like the infoview to work while the org buffer is open? That would be amazing, but I don't think <code>ob-lean4</code> provides this feature.</p>",
        "id": 490698667,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1735061764
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"325367\">Mauricio Collares</span> <a href=\"#narrow/channel/468104-Emacs/topic/org-mode/near/490698602\">said</a>:</p>\n<blockquote>\n<p>That's why verso is probably the best option for your blog.</p>\n</blockquote>\n<p>Hmmm I am not sure how I get latex into verso</p>\n<p><a href=\"/user_uploads/3121/RWUaWlWx92O9FHCGE6emfOgo/image.png\">image.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/RWUaWlWx92O9FHCGE6emfOgo/image.png\" title=\"image.png\"><img data-original-dimensions=\"982x738\" src=\"/user_uploads/thumbnail/3121/RWUaWlWx92O9FHCGE6emfOgo/image.png/840x560.webp\"></a></div>",
        "id": 490893781,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1735230038
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"325367\">Mauricio Collares</span> <a href=\"#narrow/channel/468104-Emacs/topic/org-mode/near/490698667\">said</a>:</p>\n<blockquote>\n<p>Ah, do you mean you would like the infoview to work while the org buffer is open? That would be amazing, but I don't think <code>ob-lean4</code> provides this feature.</p>\n</blockquote>\n<p>That's what I would like - verso is a whole new package to learn</p>",
        "id": 490893838,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1735230080
    },
    {
        "content": "<p>Well neither ob-lean4 nor verso are working for me yet.</p>",
        "id": 490961953,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1735286236
    },
    {
        "content": "<p>So the best I can do at the moment is to write the blog post in org mode and export just the code to check the lean and compile to latex / pdf to check the formatting. Ultimately I will convert to markdown and then GitHub pages will render it correctly (pause for laughter).</p>",
        "id": 490962691,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1735286707
    },
    {
        "content": "<p>I also got curious about getting org-mode with working InfoView, and I think <code>mmm-mode</code> can do it! However, I am currently using the <a href=\"https://github.com/bustercopley/lean4-mode\">eglot-compatible fork by bustercopley</a> so this may not work with the current normal / lsp-mode version.</p>\n<p><a href=\"/user_uploads/3121/DLLhazPURrBzJtgBmiMFeLNR/Screenshot_20241227_203230.png\">Screenshot_20241227_203230.png</a></p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/3121/DLLhazPURrBzJtgBmiMFeLNR/Screenshot_20241227_203230.png\" title=\"Screenshot_20241227_203230.png\"><img data-original-dimensions=\"617x226\" src=\"/user_uploads/thumbnail/3121/DLLhazPURrBzJtgBmiMFeLNR/Screenshot_20241227_203230.png/840x560.webp\"></a></div><div class=\"codehilite\" data-code-language=\"Org Mode\"><pre><span></span><code>/-\nAnnoyingly, stuff outside of BEGIN_SRC lean4 is\nseen by lean4 via eglot, so we need to comment it.\n\n<span class=\"gu\">** The Example</span>\n\n<span class=\"ow\">#+BEGIN_SRC lean4</span>\n-/\ndef hello := \"hallo\" ++ sorry\n\n#print hello\n/-\n<span class=\"ow\">#+END_SRC</span>\n\nHere could be other text.\n\n<span class=\"gu\">** The Setup of mmm-mode</span>\n\nThe following is adapted from https://emacs.stackexchange.com/a/28269.\nSelect it, then <span class=\"s\">~M-x eval-region~</span>, then re-open this file.\n\n<span class=\"ow\">#+BEGIN_SRC emacs-lisp</span>\n(require 'mmm-mode)\n(setq mmm-global-mode 'maybe)\n(mmm-add-mode-ext-class 'org-mode nil 'org-lean4)\n(mmm-add-mode-ext-class 'org-mode nil 'org-elisp)\n\n(mmm-add-group\n 'org-lean4\n '((lean-src-block\n    :submode lean4-mode\n    :face org-block\n    :front \"#\\\\+BEGIN_SRC lean4.*\\n\"\n    :back \"#\\\\+END_SRC\")))\n\n(mmm-add-group\n 'org-elisp\n '((elisp-src-block\n    :submode emacs-lisp-mode\n    :face org-block\n    :front \"#\\\\+BEGIN_SRC emacs-lisp.*\\n\"\n    :back \"#\\\\+END_SRC\")))\n<span class=\"ow\">#+END_SRC</span>\n\nAgain, we are still \"inside\" a Lean comment.\n-/\n</code></pre></div>",
        "id": 491024639,
        "sender_full_name": "Malvin Gattinger",
        "timestamp": 1735328149
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> <a href=\"#narrow/channel/468104-Emacs/topic/org-mode/near/490893781\">said</a>:</p>\n<blockquote>\n<p>Hmmm I am not sure how I get latex into verso</p>\n</blockquote>\n<p>mathjax or katex, maybe? You can take inspiration from the reference manual: <a href=\"https://github.com/leanprover/reference-manual/blob/main/Main.lean\">https://github.com/leanprover/reference-manual/blob/main/Main.lean</a></p>",
        "id": 491083189,
        "sender_full_name": "Mauricio Collares",
        "timestamp": 1735383400
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"325367\">Mauricio Collares</span> <a href=\"#narrow/channel/468104-Emacs/topic/org-mode/near/491083189\">said</a>:</p>\n<blockquote>\n<p><span class=\"user-mention silent\" data-user-id=\"754300\">Dominic Steinitz</span> <a href=\"#narrow/channel/468104-Emacs/topic/org-mode/near/490893781\">said</a>:</p>\n<blockquote>\n<p>Hmmm I am not sure how I get latex into verso</p>\n</blockquote>\n<p>mathjax or katex, maybe? You can take inspiration from the reference manual: <a href=\"https://github.com/leanprover/reference-manual/blob/main/Main.lean\">https://github.com/leanprover/reference-manual/blob/main/Main.lean</a></p>\n</blockquote>\n<p>Thanks very much but I didn't see anything in your link. There is this issue <a href=\"https://github.com/leanprover/verso/issues/54\">https://github.com/leanprover/verso/issues/54</a> but I am still not clear on how one should write latex formulae.</p>",
        "id": 491095769,
        "sender_full_name": "Dominic Steinitz",
        "timestamp": 1735395479
    }
]